(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ag={exports:{}},Fu={},wg={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),Ox=Symbol.for("react.portal"),Dx=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),Mx=Symbol.for("react.provider"),Fx=Symbol.for("react.context"),Bx=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),Ux=Symbol.for("react.memo"),Hx=Symbol.for("react.lazy"),s0=Symbol.iterator;function zx(e){return e===null||typeof e!="object"?null:(e=s0&&e[s0]||e["@@iterator"],typeof e=="function"?e:null)}var Rg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Og=Object.assign,Dg={};function qi(e,t,n){this.props=e,this.context=t,this.refs=Dg,this.updater=n||Rg}qi.prototype.isReactComponent={};qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lg(){}Lg.prototype=qi.prototype;function nh(e,t,n){this.props=e,this.context=t,this.refs=Dg,this.updater=n||Rg}var rh=nh.prototype=new Lg;rh.constructor=nh;Og(rh,qi.prototype);rh.isPureReactComponent=!0;var a0=Array.isArray,Pg=Object.prototype.hasOwnProperty,ih={current:null},Mg={key:!0,ref:!0,__self:!0,__source:!0};function Fg(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Pg.call(t,r)&&!Mg.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:wa,type:e,key:s,ref:a,props:i,_owner:ih.current}}function Wx(e,t){return{$$typeof:wa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sh(e){return typeof e=="object"&&e!==null&&e.$$typeof===wa}function Vx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var o0=/\/+/g;function Sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vx(""+e.key):t.toString(36)}function Co(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case wa:case Ox:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Sl(a,0):r,a0(i)?(n="",e!=null&&(n=e.replace(o0,"$&/")+"/"),Co(i,t,n,"",function(l){return l})):i!=null&&(sh(i)&&(i=Wx(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(o0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",a0(e))for(var o=0;o<e.length;o++){s=e[o];var u=r+Sl(s,o);a+=Co(s,t,n,u,i)}else if(u=zx(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=r+Sl(s,o++),a+=Co(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ka(e,t,n){if(e==null)return e;var r=[],i=0;return Co(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Yx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},So={transition:null},$x={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:So,ReactCurrentOwner:ih};function Bg(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Ka,forEach:function(e,t,n){Ka(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ka(e,function(){t++}),t},toArray:function(e){return Ka(e,function(t){return t})||[]},only:function(e){if(!sh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=qi;ce.Fragment=Dx;ce.Profiler=Px;ce.PureComponent=nh;ce.StrictMode=Lx;ce.Suspense=jx;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x;ce.act=Bg;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Og({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=ih.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Pg.call(t,u)&&!Mg.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];r.children=o}return{$$typeof:wa,type:e.type,key:i,ref:s,props:r,_owner:a}};ce.createContext=function(e){return e={$$typeof:Fx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mx,_context:e},e.Consumer=e};ce.createElement=Fg;ce.createFactory=function(e){var t=Fg.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:Bx,render:e}};ce.isValidElement=sh;ce.lazy=function(e){return{$$typeof:Hx,_payload:{_status:-1,_result:e},_init:Yx}};ce.memo=function(e,t){return{$$typeof:Ux,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=So.transition;So.transition={};try{e()}finally{So.transition=t}};ce.unstable_act=Bg;ce.useCallback=function(e,t){return gt.current.useCallback(e,t)};ce.useContext=function(e){return gt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return gt.current.useEffect(e,t)};ce.useId=function(){return gt.current.useId()};ce.useImperativeHandle=function(e,t,n){return gt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return gt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return gt.current.useReducer(e,t,n)};ce.useRef=function(e){return gt.current.useRef(e)};ce.useState=function(e){return gt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return gt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return gt.current.useTransition()};ce.version="18.3.1";wg.exports=ce;var $=wg.exports;const jg=th($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=$,Gx=Symbol.for("react.element"),qx=Symbol.for("react.fragment"),Kx=Object.prototype.hasOwnProperty,Xx=Qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jx={key:!0,ref:!0,__self:!0,__source:!0};function Ug(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Kx.call(t,r)&&!Jx.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Gx,type:e,key:s,ref:a,props:i,_owner:Xx.current}}Fu.Fragment=qx;Fu.jsx=Ug;Fu.jsxs=Ug;Ag.exports=Fu;var f=Ag.exports,Nc={},Hg={exports:{}},Bt={},zg={exports:{}},Wg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,K){var C=W.length;W.push(K);e:for(;0<C;){var he=C-1>>>1,Ee=W[he];if(0<i(Ee,K))W[he]=K,W[C]=Ee,C=he;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var K=W[0],C=W.pop();if(C!==K){W[0]=C;e:for(var he=0,Ee=W.length,N=Ee>>>1;he<N;){var Be=2*(he+1)-1,wt=W[Be],M=Be+1,q=W[M];if(0>i(wt,C))M<Ee&&0>i(q,wt)?(W[he]=q,W[M]=C,he=M):(W[he]=wt,W[Be]=C,he=Be);else if(M<Ee&&0>i(q,C))W[he]=q,W[M]=C,he=M;else break e}}return K}function i(W,K){var C=W.sortIndex-K.sortIndex;return C!==0?C:W.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],l=[],h=1,d=null,p=3,m=!1,g=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var K=n(l);K!==null;){if(K.callback===null)r(l);else if(K.startTime<=W)r(l),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(l)}}function k(W){if(x=!1,_(W),!g)if(n(u)!==null)g=!0,Te(O);else{var K=n(l);K!==null&&Oe(k,K.startTime-W)}}function O(W,K){g=!1,x&&(x=!1,E(B),B=-1),m=!0;var C=p;try{for(_(K),d=n(u);d!==null&&(!(d.expirationTime>K)||W&&!P());){var he=d.callback;if(typeof he=="function"){d.callback=null,p=d.priorityLevel;var Ee=he(d.expirationTime<=K);K=e.unstable_now(),typeof Ee=="function"?d.callback=Ee:d===n(u)&&r(u),_(K)}else r(u);d=n(u)}if(d!==null)var N=!0;else{var Be=n(l);Be!==null&&Oe(k,Be.startTime-K),N=!1}return N}finally{d=null,p=C,m=!1}}var v=!1,D=null,B=-1,G=5,A=-1;function P(){return!(e.unstable_now()-A<G)}function Y(){if(D!==null){var W=e.unstable_now();A=W;var K=!0;try{K=D(!0,W)}finally{K?Z():(v=!1,D=null)}}else v=!1}var Z;if(typeof T=="function")Z=function(){T(Y)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ne=de.port2;de.port1.onmessage=Y,Z=function(){ne.postMessage(null)}}else Z=function(){I(Y,0)};function Te(W){D=W,v||(v=!0,Z())}function Oe(W,K){B=I(function(){W(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Te(O))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(W){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var C=p;p=K;try{return W()}finally{p=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var C=p;p=W;try{return K()}finally{p=C}},e.unstable_scheduleCallback=function(W,K,C){var he=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?he+C:he):C=he,W){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=C+Ee,W={id:h++,callback:K,priorityLevel:W,startTime:C,expirationTime:Ee,sortIndex:-1},C>he?(W.sortIndex=C,t(l,W),n(u)===null&&W===n(l)&&(x?(E(B),B=-1):x=!0,Oe(k,C-he))):(W.sortIndex=Ee,t(u,W),g||m||(g=!0,Te(O))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var K=p;return function(){var C=p;p=K;try{return W.apply(this,arguments)}finally{p=C}}}})(Wg);zg.exports=Wg;var Zx=zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2=$,Ft=Zx;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vg=new Set,Js={};function qr(e,t){Ri(e,t),Ri(e+"Capture",t)}function Ri(e,t){for(Js[e]=t,e=0;e<t.length;e++)Vg.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=Object.prototype.hasOwnProperty,t2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u0={},l0={};function n2(e){return vc.call(l0,e)?!0:vc.call(u0,e)?!1:t2.test(e)?l0[e]=!0:(u0[e]=!0,!1)}function r2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i2(e,t,n,r){if(t===null||typeof t>"u"||r2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var ah=/[\-:]([a-z])/g;function oh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ah,oh);rt[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ah,oh);rt[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ah,oh);rt[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function uh(e,t,n,r){var i=rt.hasOwnProperty(t)?rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i2(t,n,i,r)&&(n=null),r||i===null?n2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Un=e2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),ai=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),Yg=Symbol.for("react.provider"),$g=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),Ic=Symbol.for("react.suspense"),Ac=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),Qg=Symbol.for("react.offscreen"),c0=Symbol.iterator;function ls(e){return e===null||typeof e!="object"?null:(e=c0&&e[c0]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Nl;function Ns(e){if(Nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||""}return`
`+Nl+e}var vl=!1;function kl(e,t){if(!e||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ns(e):""}function s2(e){switch(e.tag){case 5:return Ns(e.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 2:case 15:return e=kl(e.type,!1),e;case 11:return e=kl(e.type.render,!1),e;case 1:return e=kl(e.type,!0),e;default:return""}}function wc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oi:return"Fragment";case ai:return"Portal";case kc:return"Profiler";case lh:return"StrictMode";case Ic:return"Suspense";case Ac:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $g:return(e.displayName||"Context")+".Consumer";case Yg:return(e._context.displayName||"Context")+".Provider";case ch:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dh:return t=e.displayName||null,t!==null?t:wc(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return wc(e(t))}catch{}}return null}function a2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wc(t);case 8:return t===lh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o2(e){var t=Gg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=o2(e))}function qg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rc(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function d0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kg(e,t){t=t.checked,t!=null&&uh(e,"checked",t,!1)}function Oc(e,t){Kg(e,t);var n=fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dc(e,t.type,fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dc(e,t,n){(t!=="number"||Ho(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vs=Array.isArray;function yi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function f0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(vs(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fr(n)}}function Xg(e,t){var n=fr(t.value),r=fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function p0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Za,Zg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u2=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){u2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ws[t]=ws[e]})});function e1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ws.hasOwnProperty(e)&&ws[e]?(""+t).trim():t+"px"}function t1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=e1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var l2=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mc(e,t){if(t){if(l2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Fc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function hh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jc=null,xi=null,bi=null;function m0(e){if(e=Da(e)){if(typeof jc!="function")throw Error(U(280));var t=e.stateNode;t&&(t=zu(t),jc(e.stateNode,e.type,t))}}function n1(e){xi?bi?bi.push(e):bi=[e]:xi=e}function r1(){if(xi){var e=xi,t=bi;if(bi=xi=null,m0(e),t)for(e=0;e<t.length;e++)m0(t[e])}}function i1(e,t){return e(t)}function s1(){}var Il=!1;function a1(e,t,n){if(Il)return e(t,n);Il=!0;try{return i1(e,t,n)}finally{Il=!1,(xi!==null||bi!==null)&&(s1(),r1())}}function ea(e,t){var n=e.stateNode;if(n===null)return null;var r=zu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Uc=!1;if(Ln)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Uc=!1}function c2(e,t,n,r,i,s,a,o,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(h){this.onError(h)}}var Rs=!1,zo=null,Wo=!1,Hc=null,d2={onError:function(e){Rs=!0,zo=e}};function h2(e,t,n,r,i,s,a,o,u){Rs=!1,zo=null,c2.apply(d2,arguments)}function f2(e,t,n,r,i,s,a,o,u){if(h2.apply(this,arguments),Rs){if(Rs){var l=zo;Rs=!1,zo=null}else throw Error(U(198));Wo||(Wo=!0,Hc=l)}}function Kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function o1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g0(e){if(Kr(e)!==e)throw Error(U(188))}function p2(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return g0(i),e;if(s===r)return g0(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function u1(e){return e=p2(e),e!==null?l1(e):null}function l1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l1(e);if(t!==null)return t;e=e.sibling}return null}var c1=Ft.unstable_scheduleCallback,E0=Ft.unstable_cancelCallback,m2=Ft.unstable_shouldYield,g2=Ft.unstable_requestPaint,Ue=Ft.unstable_now,E2=Ft.unstable_getCurrentPriorityLevel,fh=Ft.unstable_ImmediatePriority,d1=Ft.unstable_UserBlockingPriority,Vo=Ft.unstable_NormalPriority,_2=Ft.unstable_LowPriority,h1=Ft.unstable_IdlePriority,Bu=null,En=null;function T2(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Bu,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:b2,y2=Math.log,x2=Math.LN2;function b2(e){return e>>>=0,e===0?32:31-(y2(e)/x2|0)|0}var eo=64,to=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ks(o):(s&=a,s!==0&&(r=ks(s)))}else a=n&~i,a!==0?r=ks(a):s!==0&&(r=ks(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-sn(t),i=1<<n,r|=e[n],t&=~i;return r}function C2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-sn(s),o=1<<a,u=i[a];u===-1?(!(o&n)||o&r)&&(i[a]=C2(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}function zc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f1(){var e=eo;return eo<<=1,!(eo&4194240)&&(eo=64),e}function Al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ra(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=n}function N2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-sn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ph(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _e=0;function p1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m1,mh,g1,E1,_1,Wc=!1,no=[],tr=null,nr=null,rr=null,ta=new Map,na=new Map,qn=[],v2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _0(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(t.pointerId)}}function ds(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Da(t),t!==null&&mh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function k2(e,t,n,r,i){switch(t){case"focusin":return tr=ds(tr,e,t,n,r,i),!0;case"dragenter":return nr=ds(nr,e,t,n,r,i),!0;case"mouseover":return rr=ds(rr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ta.set(s,ds(ta.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,na.set(s,ds(na.get(s)||null,e,t,n,r,i)),!0}return!1}function T1(e){var t=wr(e.target);if(t!==null){var n=Kr(t);if(n!==null){if(t=n.tag,t===13){if(t=o1(n),t!==null){e.blockedOn=t,_1(e.priority,function(){g1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function No(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bc=r,n.target.dispatchEvent(r),Bc=null}else return t=Da(n),t!==null&&mh(t),e.blockedOn=n,!1;t.shift()}return!0}function T0(e,t,n){No(e)&&n.delete(t)}function I2(){Wc=!1,tr!==null&&No(tr)&&(tr=null),nr!==null&&No(nr)&&(nr=null),rr!==null&&No(rr)&&(rr=null),ta.forEach(T0),na.forEach(T0)}function hs(e,t){e.blockedOn===t&&(e.blockedOn=null,Wc||(Wc=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,I2)))}function ra(e){function t(i){return hs(i,e)}if(0<no.length){hs(no[0],e);for(var n=1;n<no.length;n++){var r=no[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tr!==null&&hs(tr,e),nr!==null&&hs(nr,e),rr!==null&&hs(rr,e),ta.forEach(t),na.forEach(t),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)T1(n),n.blockedOn===null&&qn.shift()}var Ci=Un.ReactCurrentBatchConfig,$o=!0;function A2(e,t,n,r){var i=_e,s=Ci.transition;Ci.transition=null;try{_e=1,gh(e,t,n,r)}finally{_e=i,Ci.transition=s}}function w2(e,t,n,r){var i=_e,s=Ci.transition;Ci.transition=null;try{_e=4,gh(e,t,n,r)}finally{_e=i,Ci.transition=s}}function gh(e,t,n,r){if($o){var i=Vc(e,t,n,r);if(i===null)jl(e,t,r,Qo,n),_0(e,r);else if(k2(i,e,t,n,r))r.stopPropagation();else if(_0(e,r),t&4&&-1<v2.indexOf(e)){for(;i!==null;){var s=Da(i);if(s!==null&&m1(s),s=Vc(e,t,n,r),s===null&&jl(e,t,r,Qo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var Qo=null;function Vc(e,t,n,r){if(Qo=null,e=hh(r),e=wr(e),e!==null)if(t=Kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=o1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qo=e,null}function y1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E2()){case fh:return 1;case d1:return 4;case Vo:case _2:return 16;case h1:return 536870912;default:return 16}default:return 16}}var Xn=null,Eh=null,vo=null;function x1(){if(vo)return vo;var e,t=Eh,n=t.length,r,i="value"in Xn?Xn.value:Xn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return vo=i.slice(e,1<r?1-r:void 0)}function ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ro(){return!0}function y0(){return!1}function jt(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ro:y0,this.isPropagationStopped=y0,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),t}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=jt(Ki),Oa=Pe({},Ki,{view:0,detail:0}),R2=jt(Oa),wl,Rl,fs,ju=Pe({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&e.type==="mousemove"?(wl=e.screenX-fs.screenX,Rl=e.screenY-fs.screenY):Rl=wl=0,fs=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),x0=jt(ju),O2=Pe({},ju,{dataTransfer:0}),D2=jt(O2),L2=Pe({},Oa,{relatedTarget:0}),Ol=jt(L2),P2=Pe({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),M2=jt(P2),F2=Pe({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B2=jt(F2),j2=Pe({},Ki,{data:0}),b0=jt(j2),U2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z2[e])?!!t[e]:!1}function Th(){return W2}var V2=Pe({},Oa,{key:function(e){if(e.key){var t=U2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(e){return e.type==="keypress"?ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y2=jt(V2),$2=Pe({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C0=jt($2),Q2=Pe({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),G2=jt(Q2),q2=Pe({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),K2=jt(q2),X2=Pe({},ju,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J2=jt(X2),Z2=[9,13,27,32],yh=Ln&&"CompositionEvent"in window,Os=null;Ln&&"documentMode"in document&&(Os=document.documentMode);var eb=Ln&&"TextEvent"in window&&!Os,b1=Ln&&(!yh||Os&&8<Os&&11>=Os),S0=String.fromCharCode(32),N0=!1;function C1(e,t){switch(e){case"keyup":return Z2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function tb(e,t){switch(e){case"compositionend":return S1(t);case"keypress":return t.which!==32?null:(N0=!0,S0);case"textInput":return e=t.data,e===S0&&N0?null:e;default:return null}}function nb(e,t){if(ui)return e==="compositionend"||!yh&&C1(e,t)?(e=x1(),vo=Eh=Xn=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b1&&t.locale!=="ko"?null:t.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rb[e.type]:t==="textarea"}function N1(e,t,n,r){n1(r),t=Go(t,"onChange"),0<t.length&&(n=new _h("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ds=null,ia=null;function ib(e){M1(e,0)}function Uu(e){var t=di(e);if(qg(t))return e}function sb(e,t){if(e==="change")return t}var v1=!1;if(Ln){var Dl;if(Ln){var Ll="oninput"in document;if(!Ll){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),Ll=typeof k0.oninput=="function"}Dl=Ll}else Dl=!1;v1=Dl&&(!document.documentMode||9<document.documentMode)}function I0(){Ds&&(Ds.detachEvent("onpropertychange",k1),ia=Ds=null)}function k1(e){if(e.propertyName==="value"&&Uu(ia)){var t=[];N1(t,ia,e,hh(e)),a1(ib,t)}}function ab(e,t,n){e==="focusin"?(I0(),Ds=t,ia=n,Ds.attachEvent("onpropertychange",k1)):e==="focusout"&&I0()}function ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(ia)}function ub(e,t){if(e==="click")return Uu(t)}function lb(e,t){if(e==="input"||e==="change")return Uu(t)}function cb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:cb;function sa(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vc.call(t,i)||!ln(e[i],t[i]))return!1}return!0}function A0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function w0(e,t){var n=A0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A0(n)}}function I1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A1(){for(var e=window,t=Ho();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ho(e.document)}return t}function xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function db(e){var t=A1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&I1(n.ownerDocument.documentElement,n)){if(r!==null&&xh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=w0(n,s);var a=w0(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hb=Ln&&"documentMode"in document&&11>=document.documentMode,li=null,Yc=null,Ls=null,$c=!1;function R0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$c||li==null||li!==Ho(r)||(r=li,"selectionStart"in r&&xh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ls&&sa(Ls,r)||(Ls=r,r=Go(Yc,"onSelect"),0<r.length&&(t=new _h("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=li)))}function io(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},Pl={},w1={};Ln&&(w1=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Hu(e){if(Pl[e])return Pl[e];if(!ci[e])return e;var t=ci[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in w1)return Pl[e]=t[n];return e}var R1=Hu("animationend"),O1=Hu("animationiteration"),D1=Hu("animationstart"),L1=Hu("transitionend"),P1=new Map,O0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){P1.set(e,t),qr(t,[e])}for(var Ml=0;Ml<O0.length;Ml++){var Fl=O0[Ml],fb=Fl.toLowerCase(),pb=Fl[0].toUpperCase()+Fl.slice(1);_r(fb,"on"+pb)}_r(R1,"onAnimationEnd");_r(O1,"onAnimationIteration");_r(D1,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(L1,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function D0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,f2(r,t,void 0,e),e.currentTarget=null}function M1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;D0(i,o,l),s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,l=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;D0(i,o,l),s=u}}}if(Wo)throw e=Hc,Wo=!1,Hc=null,e}function ke(e,t){var n=t[Xc];n===void 0&&(n=t[Xc]=new Set);var r=e+"__bubble";n.has(r)||(F1(t,e,2,!1),n.add(r))}function Bl(e,t,n){var r=0;t&&(r|=4),F1(n,e,r,t)}var so="_reactListening"+Math.random().toString(36).slice(2);function aa(e){if(!e[so]){e[so]=!0,Vg.forEach(function(n){n!=="selectionchange"&&(mb.has(n)||Bl(n,!1,e),Bl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[so]||(t[so]=!0,Bl("selectionchange",!1,t))}}function F1(e,t,n,r){switch(y1(t)){case 1:var i=A2;break;case 4:i=w2;break;default:i=gh}n=i.bind(null,t,n,e),i=void 0,!Uc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=wr(o),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}o=o.parentNode}}r=r.return}a1(function(){var l=s,h=hh(n),d=[];e:{var p=P1.get(e);if(p!==void 0){var m=_h,g=e;switch(e){case"keypress":if(ko(n)===0)break e;case"keydown":case"keyup":m=Y2;break;case"focusin":g="focus",m=Ol;break;case"focusout":g="blur",m=Ol;break;case"beforeblur":case"afterblur":m=Ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=x0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=D2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=G2;break;case R1:case O1:case D1:m=M2;break;case L1:m=K2;break;case"scroll":m=R2;break;case"wheel":m=J2;break;case"copy":case"cut":case"paste":m=B2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=C0}var x=(t&4)!==0,I=!x&&e==="scroll",E=x?p!==null?p+"Capture":null:p;x=[];for(var T=l,_;T!==null;){_=T;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,E!==null&&(k=ea(T,E),k!=null&&x.push(oa(T,k,_)))),I)break;T=T.return}0<x.length&&(p=new m(p,g,null,n,h),d.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Bc&&(g=n.relatedTarget||n.fromElement)&&(wr(g)||g[Pn]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=l,g=g?wr(g):null,g!==null&&(I=Kr(g),g!==I||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=l),m!==g)){if(x=x0,k="onMouseLeave",E="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(x=C0,k="onPointerLeave",E="onPointerEnter",T="pointer"),I=m==null?p:di(m),_=g==null?p:di(g),p=new x(k,T+"leave",m,n,h),p.target=I,p.relatedTarget=_,k=null,wr(h)===l&&(x=new x(E,T+"enter",g,n,h),x.target=_,x.relatedTarget=I,k=x),I=k,m&&g)t:{for(x=m,E=g,T=0,_=x;_;_=ni(_))T++;for(_=0,k=E;k;k=ni(k))_++;for(;0<T-_;)x=ni(x),T--;for(;0<_-T;)E=ni(E),_--;for(;T--;){if(x===E||E!==null&&x===E.alternate)break t;x=ni(x),E=ni(E)}x=null}else x=null;m!==null&&L0(d,p,m,x,!1),g!==null&&I!==null&&L0(d,I,g,x,!0)}}e:{if(p=l?di(l):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=sb;else if(v0(p))if(v1)O=lb;else{O=ob;var v=ab}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=ub);if(O&&(O=O(e,l))){N1(d,O,n,h);break e}v&&v(e,p,l),e==="focusout"&&(v=p._wrapperState)&&v.controlled&&p.type==="number"&&Dc(p,"number",p.value)}switch(v=l?di(l):window,e){case"focusin":(v0(v)||v.contentEditable==="true")&&(li=v,Yc=l,Ls=null);break;case"focusout":Ls=Yc=li=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,R0(d,n,h);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":R0(d,n,h)}var D;if(yh)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else ui?C1(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(b1&&n.locale!=="ko"&&(ui||B!=="onCompositionStart"?B==="onCompositionEnd"&&ui&&(D=x1()):(Xn=h,Eh="value"in Xn?Xn.value:Xn.textContent,ui=!0)),v=Go(l,B),0<v.length&&(B=new b0(B,e,null,n,h),d.push({event:B,listeners:v}),D?B.data=D:(D=S1(n),D!==null&&(B.data=D)))),(D=eb?tb(e,n):nb(e,n))&&(l=Go(l,"onBeforeInput"),0<l.length&&(h=new b0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:l}),h.data=D))}M1(d,t)})}function oa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Go(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ea(e,n),s!=null&&r.unshift(oa(e,s,i)),s=ea(e,t),s!=null&&r.push(oa(e,s,i))),e=e.return}return r}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L0(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&l!==null&&(o=l,i?(u=ea(n,s),u!=null&&a.unshift(oa(n,u,o))):i||(u=ea(n,s),u!=null&&a.push(oa(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var gb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function P0(e){return(typeof e=="string"?e:""+e).replace(gb,`
`).replace(Eb,"")}function ao(e,t,n){if(t=P0(t),P0(e)!==t&&n)throw Error(U(425))}function qo(){}var Qc=null,Gc=null;function qc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(e){return M0.resolve(null).then(e).catch(yb)}:Kc;function yb(e){setTimeout(function(){throw e})}function Ul(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ra(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ra(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),gn="__reactFiber$"+Xi,ua="__reactProps$"+Xi,Pn="__reactContainer$"+Xi,Xc="__reactEvents$"+Xi,xb="__reactListeners$"+Xi,bb="__reactHandles$"+Xi;function wr(e){var t=e[gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=F0(e);e!==null;){if(n=e[gn])return n;e=F0(e)}return t}e=n,n=e.parentNode}return null}function Da(e){return e=e[gn]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function zu(e){return e[ua]||null}var Jc=[],hi=-1;function Tr(e){return{current:e}}function Ae(e){0>hi||(e.current=Jc[hi],Jc[hi]=null,hi--)}function ve(e,t){hi++,Jc[hi]=e.current,e.current=t}var pr={},lt=Tr(pr),St=Tr(!1),Ur=pr;function Oi(e,t){var n=e.type.contextTypes;if(!n)return pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(e){return e=e.childContextTypes,e!=null}function Ko(){Ae(St),Ae(lt)}function B0(e,t,n){if(lt.current!==pr)throw Error(U(168));ve(lt,t),ve(St,n)}function B1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,a2(e)||"Unknown",i));return Pe({},n,r)}function Xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Ur=lt.current,ve(lt,e),ve(St,St.current),!0}function j0(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=B1(e,t,Ur),r.__reactInternalMemoizedMergedChildContext=e,Ae(St),Ae(lt),ve(lt,e)):Ae(St),ve(St,n)}var vn=null,Wu=!1,Hl=!1;function j1(e){vn===null?vn=[e]:vn.push(e)}function Cb(e){Wu=!0,j1(e)}function yr(){if(!Hl&&vn!==null){Hl=!0;var e=0,t=_e;try{var n=vn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vn=null,Wu=!1}catch(i){throw vn!==null&&(vn=vn.slice(e+1)),c1(fh,yr),i}finally{_e=t,Hl=!1}}return null}var fi=[],pi=0,Jo=null,Zo=0,Ut=[],Ht=0,Hr=null,In=1,An="";function Nr(e,t){fi[pi++]=Zo,fi[pi++]=Jo,Jo=e,Zo=t}function U1(e,t,n){Ut[Ht++]=In,Ut[Ht++]=An,Ut[Ht++]=Hr,Hr=e;var r=In;e=An;var i=32-sn(r)-1;r&=~(1<<i),n+=1;var s=32-sn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,In=1<<32-sn(t)+i|n<<i|r,An=s+e}else In=1<<s|n<<i|r,An=e}function bh(e){e.return!==null&&(Nr(e,1),U1(e,1,0))}function Ch(e){for(;e===Jo;)Jo=fi[--pi],fi[pi]=null,Zo=fi[--pi],fi[pi]=null;for(;e===Hr;)Hr=Ut[--Ht],Ut[Ht]=null,An=Ut[--Ht],Ut[Ht]=null,In=Ut[--Ht],Ut[Ht]=null}var Pt=null,Lt=null,Re=!1,en=null;function H1(e,t){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function U0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Lt=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hr!==null?{id:In,overflow:An}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,Lt=null,!0):!1;default:return!1}}function Zc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ed(e){if(Re){var t=Lt;if(t){var n=t;if(!U0(e,t)){if(Zc(e))throw Error(U(418));t=ir(n.nextSibling);var r=Pt;t&&U0(e,t)?H1(r,n):(e.flags=e.flags&-4097|2,Re=!1,Pt=e)}}else{if(Zc(e))throw Error(U(418));e.flags=e.flags&-4097|2,Re=!1,Pt=e}}}function H0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function oo(e){if(e!==Pt)return!1;if(!Re)return H0(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qc(e.type,e.memoizedProps)),t&&(t=Lt)){if(Zc(e))throw z1(),Error(U(418));for(;t;)H1(e,t),t=ir(t.nextSibling)}if(H0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=ir(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Pt?ir(e.stateNode.nextSibling):null;return!0}function z1(){for(var e=Lt;e;)e=ir(e.nextSibling)}function Di(){Lt=Pt=null,Re=!1}function Sh(e){en===null?en=[e]:en.push(e)}var Sb=Un.ReactCurrentBatchConfig;function ps(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function uo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function z0(e){var t=e._init;return t(e._payload)}function W1(e){function t(E,T){if(e){var _=E.deletions;_===null?(E.deletions=[T],E.flags|=16):_.push(T)}}function n(E,T){if(!e)return null;for(;T!==null;)t(E,T),T=T.sibling;return null}function r(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function i(E,T){return E=ur(E,T),E.index=0,E.sibling=null,E}function s(E,T,_){return E.index=_,e?(_=E.alternate,_!==null?(_=_.index,_<T?(E.flags|=2,T):_):(E.flags|=2,T)):(E.flags|=1048576,T)}function a(E){return e&&E.alternate===null&&(E.flags|=2),E}function o(E,T,_,k){return T===null||T.tag!==6?(T=Gl(_,E.mode,k),T.return=E,T):(T=i(T,_),T.return=E,T)}function u(E,T,_,k){var O=_.type;return O===oi?h(E,T,_.props.children,k,_.key):T!==null&&(T.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Qn&&z0(O)===T.type)?(k=i(T,_.props),k.ref=ps(E,T,_),k.return=E,k):(k=Lo(_.type,_.key,_.props,null,E.mode,k),k.ref=ps(E,T,_),k.return=E,k)}function l(E,T,_,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==_.containerInfo||T.stateNode.implementation!==_.implementation?(T=ql(_,E.mode,k),T.return=E,T):(T=i(T,_.children||[]),T.return=E,T)}function h(E,T,_,k,O){return T===null||T.tag!==7?(T=Fr(_,E.mode,k,O),T.return=E,T):(T=i(T,_),T.return=E,T)}function d(E,T,_){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Gl(""+T,E.mode,_),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xa:return _=Lo(T.type,T.key,T.props,null,E.mode,_),_.ref=ps(E,null,T),_.return=E,_;case ai:return T=ql(T,E.mode,_),T.return=E,T;case Qn:var k=T._init;return d(E,k(T._payload),_)}if(vs(T)||ls(T))return T=Fr(T,E.mode,_,null),T.return=E,T;uo(E,T)}return null}function p(E,T,_,k){var O=T!==null?T.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:o(E,T,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xa:return _.key===O?u(E,T,_,k):null;case ai:return _.key===O?l(E,T,_,k):null;case Qn:return O=_._init,p(E,T,O(_._payload),k)}if(vs(_)||ls(_))return O!==null?null:h(E,T,_,k,null);uo(E,_)}return null}function m(E,T,_,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(_)||null,o(T,E,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xa:return E=E.get(k.key===null?_:k.key)||null,u(T,E,k,O);case ai:return E=E.get(k.key===null?_:k.key)||null,l(T,E,k,O);case Qn:var v=k._init;return m(E,T,_,v(k._payload),O)}if(vs(k)||ls(k))return E=E.get(_)||null,h(T,E,k,O,null);uo(T,k)}return null}function g(E,T,_,k){for(var O=null,v=null,D=T,B=T=0,G=null;D!==null&&B<_.length;B++){D.index>B?(G=D,D=null):G=D.sibling;var A=p(E,D,_[B],k);if(A===null){D===null&&(D=G);break}e&&D&&A.alternate===null&&t(E,D),T=s(A,T,B),v===null?O=A:v.sibling=A,v=A,D=G}if(B===_.length)return n(E,D),Re&&Nr(E,B),O;if(D===null){for(;B<_.length;B++)D=d(E,_[B],k),D!==null&&(T=s(D,T,B),v===null?O=D:v.sibling=D,v=D);return Re&&Nr(E,B),O}for(D=r(E,D);B<_.length;B++)G=m(D,E,B,_[B],k),G!==null&&(e&&G.alternate!==null&&D.delete(G.key===null?B:G.key),T=s(G,T,B),v===null?O=G:v.sibling=G,v=G);return e&&D.forEach(function(P){return t(E,P)}),Re&&Nr(E,B),O}function x(E,T,_,k){var O=ls(_);if(typeof O!="function")throw Error(U(150));if(_=O.call(_),_==null)throw Error(U(151));for(var v=O=null,D=T,B=T=0,G=null,A=_.next();D!==null&&!A.done;B++,A=_.next()){D.index>B?(G=D,D=null):G=D.sibling;var P=p(E,D,A.value,k);if(P===null){D===null&&(D=G);break}e&&D&&P.alternate===null&&t(E,D),T=s(P,T,B),v===null?O=P:v.sibling=P,v=P,D=G}if(A.done)return n(E,D),Re&&Nr(E,B),O;if(D===null){for(;!A.done;B++,A=_.next())A=d(E,A.value,k),A!==null&&(T=s(A,T,B),v===null?O=A:v.sibling=A,v=A);return Re&&Nr(E,B),O}for(D=r(E,D);!A.done;B++,A=_.next())A=m(D,E,B,A.value,k),A!==null&&(e&&A.alternate!==null&&D.delete(A.key===null?B:A.key),T=s(A,T,B),v===null?O=A:v.sibling=A,v=A);return e&&D.forEach(function(Y){return t(E,Y)}),Re&&Nr(E,B),O}function I(E,T,_,k){if(typeof _=="object"&&_!==null&&_.type===oi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xa:e:{for(var O=_.key,v=T;v!==null;){if(v.key===O){if(O=_.type,O===oi){if(v.tag===7){n(E,v.sibling),T=i(v,_.props.children),T.return=E,E=T;break e}}else if(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Qn&&z0(O)===v.type){n(E,v.sibling),T=i(v,_.props),T.ref=ps(E,v,_),T.return=E,E=T;break e}n(E,v);break}else t(E,v);v=v.sibling}_.type===oi?(T=Fr(_.props.children,E.mode,k,_.key),T.return=E,E=T):(k=Lo(_.type,_.key,_.props,null,E.mode,k),k.ref=ps(E,T,_),k.return=E,E=k)}return a(E);case ai:e:{for(v=_.key;T!==null;){if(T.key===v)if(T.tag===4&&T.stateNode.containerInfo===_.containerInfo&&T.stateNode.implementation===_.implementation){n(E,T.sibling),T=i(T,_.children||[]),T.return=E,E=T;break e}else{n(E,T);break}else t(E,T);T=T.sibling}T=ql(_,E.mode,k),T.return=E,E=T}return a(E);case Qn:return v=_._init,I(E,T,v(_._payload),k)}if(vs(_))return g(E,T,_,k);if(ls(_))return x(E,T,_,k);uo(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,T!==null&&T.tag===6?(n(E,T.sibling),T=i(T,_),T.return=E,E=T):(n(E,T),T=Gl(_,E.mode,k),T.return=E,E=T),a(E)):n(E,T)}return I}var Li=W1(!0),V1=W1(!1),eu=Tr(null),tu=null,mi=null,Nh=null;function vh(){Nh=mi=tu=null}function kh(e){var t=eu.current;Ae(eu),e._currentValue=t}function td(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t){tu=e,Nh=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(Nh!==e)if(e={context:e,memoizedValue:t,next:null},mi===null){if(tu===null)throw Error(U(308));mi=e,tu.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return t}var Rr=null;function Ih(e){Rr===null?Rr=[e]:Rr.push(e)}function Y1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ih(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mn(e,r)}function Mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function On(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mn(e,n)}return i=r.interleaved,i===null?(t.next=t,Ih(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mn(e,n)}function Io(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ph(e,n)}}function W0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nu(e,t,n,r){var i=e.updateQueue;Gn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,l=u.next;u.next=null,a===null?s=l:a.next=l,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;a=0,h=l=u=null,o=s;do{var p=o.lane,m=o.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,x=o;switch(p=t,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=Pe({},d,p);break e;case 2:Gn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(l=h=m,u=d):h=h.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wr|=a,e.lanes=a,e.memoizedState=d}}function V0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var La={},_n=Tr(La),la=Tr(La),ca=Tr(La);function Or(e){if(e===La)throw Error(U(174));return e}function wh(e,t){switch(ve(ca,t),ve(la,e),ve(_n,La),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pc(t,e)}Ae(_n),ve(_n,t)}function Pi(){Ae(_n),Ae(la),Ae(ca)}function Q1(e){Or(ca.current);var t=Or(_n.current),n=Pc(t,e.type);t!==n&&(ve(la,e),ve(_n,n))}function Rh(e){la.current===e&&(Ae(_n),Ae(la))}var De=Tr(0);function ru(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zl=[];function Oh(){for(var e=0;e<zl.length;e++)zl[e]._workInProgressVersionPrimary=null;zl.length=0}var Ao=Un.ReactCurrentDispatcher,Wl=Un.ReactCurrentBatchConfig,zr=0,Le=null,Ve=null,Ke=null,iu=!1,Ps=!1,da=0,Nb=0;function it(){throw Error(U(321))}function Dh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function Lh(e,t,n,r,i,s){if(zr=s,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ao.current=e===null||e.memoizedState===null?Ab:wb,e=n(r,i),Ps){s=0;do{if(Ps=!1,da=0,25<=s)throw Error(U(301));s+=1,Ke=Ve=null,t.updateQueue=null,Ao.current=Rb,e=n(r,i)}while(Ps)}if(Ao.current=su,t=Ve!==null&&Ve.next!==null,zr=0,Ke=Ve=Le=null,iu=!1,t)throw Error(U(300));return e}function Ph(){var e=da!==0;return da=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Le.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function qt(){if(Ve===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ke===null?Le.memoizedState:Ke.next;if(t!==null)Ke=t,Ve=e;else{if(e===null)throw Error(U(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?Le.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ha(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=qt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ve,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,u=null,l=s;do{var h=l.lane;if((zr&h)===h)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(o=u=d,a=r):u=u.next=d,Le.lanes|=h,Wr|=h}l=l.next}while(l!==null&&l!==s);u===null?a=r:u.next=o,ln(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Le.lanes|=s,Wr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yl(e){var t=qt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ln(s,t.memoizedState)||(bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function G1(){}function q1(e,t){var n=Le,r=qt(),i=t(),s=!ln(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,Mh(J1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,fa(9,X1.bind(null,n,r,i,t),void 0,null),et===null)throw Error(U(349));zr&30||K1(n,t,i)}return i}function K1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function X1(e,t,n,r){t.value=n,t.getSnapshot=r,Z1(t)&&eE(e)}function J1(e,t,n){return n(function(){Z1(t)&&eE(e)})}function Z1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function eE(e){var t=Mn(e,1);t!==null&&an(t,e,1,-1)}function Y0(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t.queue=e,e=e.dispatch=Ib.bind(null,Le,e),[t.memoizedState,e]}function fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tE(){return qt().memoizedState}function wo(e,t,n,r){var i=fn();Le.flags|=e,i.memoizedState=fa(1|t,n,void 0,r===void 0?null:r)}function Vu(e,t,n,r){var i=qt();r=r===void 0?null:r;var s=void 0;if(Ve!==null){var a=Ve.memoizedState;if(s=a.destroy,r!==null&&Dh(r,a.deps)){i.memoizedState=fa(t,n,s,r);return}}Le.flags|=e,i.memoizedState=fa(1|t,n,s,r)}function $0(e,t){return wo(8390656,8,e,t)}function Mh(e,t){return Vu(2048,8,e,t)}function nE(e,t){return Vu(4,2,e,t)}function rE(e,t){return Vu(4,4,e,t)}function iE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sE(e,t,n){return n=n!=null?n.concat([e]):null,Vu(4,4,iE.bind(null,t,e),n)}function Fh(){}function aE(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oE(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uE(e,t,n){return zr&21?(ln(n,t)||(n=f1(),Le.lanes|=n,Wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function vb(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=Wl.transition;Wl.transition={};try{e(!1),t()}finally{_e=n,Wl.transition=r}}function lE(){return qt().memoizedState}function kb(e,t,n){var r=or(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cE(e))dE(t,n);else if(n=Y1(e,t,n,r),n!==null){var i=mt();an(n,e,r,i),hE(n,t,r)}}function Ib(e,t,n){var r=or(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cE(e))dE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ln(o,a)){var u=t.interleaved;u===null?(i.next=i,Ih(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Y1(e,t,i,r),n!==null&&(i=mt(),an(n,e,r,i),hE(n,t,r))}}function cE(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function dE(e,t){Ps=iu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ph(e,n)}}var su={readContext:Gt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Ab={readContext:Gt,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:$0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wo(4194308,4,iE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kb.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Y0,useDebugValue:Fh,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Y0(!1),t=e[0];return e=vb.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Le,i=fn();if(Re){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),et===null)throw Error(U(349));zr&30||K1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,$0(J1.bind(null,r,s,e),[e]),r.flags|=2048,fa(9,X1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=fn(),t=et.identifierPrefix;if(Re){var n=An,r=In;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=da++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Nb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wb={readContext:Gt,useCallback:aE,useContext:Gt,useEffect:Mh,useImperativeHandle:sE,useInsertionEffect:nE,useLayoutEffect:rE,useMemo:oE,useReducer:Vl,useRef:tE,useState:function(){return Vl(ha)},useDebugValue:Fh,useDeferredValue:function(e){var t=qt();return uE(t,Ve.memoizedState,e)},useTransition:function(){var e=Vl(ha)[0],t=qt().memoizedState;return[e,t]},useMutableSource:G1,useSyncExternalStore:q1,useId:lE,unstable_isNewReconciler:!1},Rb={readContext:Gt,useCallback:aE,useContext:Gt,useEffect:Mh,useImperativeHandle:sE,useInsertionEffect:nE,useLayoutEffect:rE,useMemo:oE,useReducer:Yl,useRef:tE,useState:function(){return Yl(ha)},useDebugValue:Fh,useDeferredValue:function(e){var t=qt();return Ve===null?t.memoizedState=e:uE(t,Ve.memoizedState,e)},useTransition:function(){var e=Yl(ha)[0],t=qt().memoizedState;return[e,t]},useMutableSource:G1,useSyncExternalStore:q1,useId:lE,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yu={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),i=or(e),s=On(r,i);s.payload=t,n!=null&&(s.callback=n),t=sr(e,s,i),t!==null&&(an(t,e,i,r),Io(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),i=or(e),s=On(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=sr(e,s,i),t!==null&&(an(t,e,i,r),Io(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=or(e),i=On(n,r);i.tag=2,t!=null&&(i.callback=t),t=sr(e,i,r),t!==null&&(an(t,e,r,n),Io(t,e,r))}};function Q0(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!sa(n,r)||!sa(i,s):!0}function fE(e,t,n){var r=!1,i=pr,s=t.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=Nt(t)?Ur:lt.current,r=t.contextTypes,s=(r=r!=null)?Oi(e,i):pr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function G0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yu.enqueueReplaceState(t,t.state,null)}function rd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ah(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=Nt(t)?Ur:lt.current,i.context=Oi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(nd(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Yu.enqueueReplaceState(i,i.state,null),nu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Mi(e,t){try{var n="",r=t;do n+=s2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function $l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function id(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ob=typeof WeakMap=="function"?WeakMap:Map;function pE(e,t,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ou||(ou=!0,pd=r),id(e,t)},n}function mE(e,t,n){n=On(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){id(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){id(e,t),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function q0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ob;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$b.bind(null,e,t,n),t.then(e,e))}function K0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function X0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=On(-1,1),t.tag=2,sr(n,t,1))),n.lanes|=1),e)}var Db=Un.ReactCurrentOwner,bt=!1;function ht(e,t,n,r){t.child=e===null?V1(t,null,n,r):Li(t,e.child,n,r)}function J0(e,t,n,r,i){n=n.render;var s=t.ref;return Si(t,i),r=Lh(e,t,n,r,s,i),n=Ph(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fn(e,t,i)):(Re&&n&&bh(t),t.flags|=1,ht(e,t,r,i),t.child)}function Z0(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Yh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,gE(e,t,s,r,i)):(e=Lo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(a,r)&&e.ref===t.ref)return Fn(e,t,i)}return t.flags|=1,e=ur(s,r),e.ref=t.ref,e.return=t,t.child=e}function gE(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(sa(s,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Fn(e,t,i)}return sd(e,t,n,r,i)}function EE(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Ei,Dt),Dt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Ei,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(Ei,Dt),Dt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ve(Ei,Dt),Dt|=r;return ht(e,t,i,n),t.child}function _E(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sd(e,t,n,r,i){var s=Nt(n)?Ur:lt.current;return s=Oi(t,s),Si(t,i),n=Lh(e,t,n,r,s,i),r=Ph(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fn(e,t,i)):(Re&&r&&bh(t),t.flags|=1,ht(e,t,n,i),t.child)}function ep(e,t,n,r,i){if(Nt(n)){var s=!0;Xo(t)}else s=!1;if(Si(t,i),t.stateNode===null)Ro(e,t),fE(t,n,r),rd(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=Gt(l):(l=Nt(n)?Ur:lt.current,l=Oi(t,l));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==l)&&G0(t,a,r,l),Gn=!1;var p=t.memoizedState;a.state=p,nu(t,r,a,i),u=t.memoizedState,o!==r||p!==u||St.current||Gn?(typeof h=="function"&&(nd(t,n,h,r),u=t.memoizedState),(o=Gn||Q0(t,n,o,r,p,u,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,$1(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:Jt(t.type,o),a.props=l,d=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Gt(u):(u=Nt(n)?Ur:lt.current,u=Oi(t,u));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||p!==u)&&G0(t,a,r,u),Gn=!1,p=t.memoizedState,a.state=p,nu(t,r,a,i);var g=t.memoizedState;o!==d||p!==g||St.current||Gn?(typeof m=="function"&&(nd(t,n,m,r),g=t.memoizedState),(l=Gn||Q0(t,n,l,r,p,g,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ad(e,t,n,r,s,i)}function ad(e,t,n,r,i,s){_E(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&j0(t,n,!1),Fn(e,t,s);r=t.stateNode,Db.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Li(t,e.child,null,s),t.child=Li(t,null,o,s)):ht(e,t,o,s),t.memoizedState=r.state,i&&j0(t,n,!0),t.child}function TE(e){var t=e.stateNode;t.pendingContext?B0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B0(e,t.context,!1),wh(e,t.containerInfo)}function tp(e,t,n,r,i){return Di(),Sh(i),t.flags|=256,ht(e,t,n,r),t.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function yE(e,t,n){var r=t.pendingProps,i=De.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ve(De,i&1),e===null)return ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Gu(a,r,0,null),e=Fr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ud(n),t.memoizedState=od,e):Bh(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Lb(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ur(i,u),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ur(o,s):(s=Fr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?ud(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=od,r}return s=e.child,e=s.sibling,r=ur(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bh(e,t){return t=Gu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lo(e,t,n,r){return r!==null&&Sh(r),Li(t,e.child,null,n),e=Bh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lb(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=$l(Error(U(422))),lo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Gu({mode:"visible",children:r.children},i,0,null),s=Fr(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Li(t,e.child,null,a),t.child.memoizedState=ud(a),t.memoizedState=od,s);if(!(t.mode&1))return lo(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(U(419)),r=$l(s,r,void 0),lo(e,t,a,r)}if(o=(a&e.childLanes)!==0,bt||o){if(r=et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mn(e,i),an(r,e,i,-1))}return Vh(),r=$l(Error(U(421))),lo(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Qb.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Lt=ir(i.nextSibling),Pt=t,Re=!0,en=null,e!==null&&(Ut[Ht++]=In,Ut[Ht++]=An,Ut[Ht++]=Hr,In=e.id,An=e.overflow,Hr=t),t=Bh(t,r.children),t.flags|=4096,t)}function np(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),td(e.return,t,n)}function Ql(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xE(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ht(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&np(e,n,t);else if(e.tag===19)np(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ve(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ru(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ql(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ru(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ql(t,!0,n,null,s);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ro(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=ur(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ur(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pb(e,t,n){switch(t.tag){case 3:TE(t),Di();break;case 5:Q1(t);break;case 1:Nt(t.type)&&Xo(t);break;case 4:wh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ve(eu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ve(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?yE(e,t,n):(ve(De,De.current&1),e=Fn(e,t,n),e!==null?e.sibling:null);ve(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,EE(e,t,n)}return Fn(e,t,n)}var bE,ld,CE,SE;bE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ld=function(){};CE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Or(_n.current);var s=null;switch(n){case"input":i=Rc(e,i),r=Rc(e,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=Lc(e,i),r=Lc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qo)}Mc(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Js.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(o=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Js.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&ke("scroll",e),s||o===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};SE=function(e,t,n,r){n!==r&&(t.flags|=4)};function ms(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mb(e,t,n){var r=t.pendingProps;switch(Ch(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return Nt(t.type)&&Ko(),st(t),null;case 3:return r=t.stateNode,Pi(),Ae(St),Ae(lt),Oh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(Ed(en),en=null))),ld(e,t),st(t),null;case 5:Rh(t);var i=Or(ca.current);if(n=t.type,e!==null&&t.stateNode!=null)CE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return st(t),null}if(e=Or(_n.current),oo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[gn]=t,r[ua]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Is.length;i++)ke(Is[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":d0(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":f0(r,s),ke("invalid",r)}Mc(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&ao(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ao(r.textContent,o,e),i=["children",""+o]):Js.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":Ja(r),h0(r,s,!0);break;case"textarea":Ja(r),p0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[gn]=t,e[ua]=r,bE(e,t,!1,!1),t.stateNode=e;e:{switch(a=Fc(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<Is.length;i++)ke(Is[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":d0(e,r),i=Rc(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),ke("invalid",e);break;case"textarea":f0(e,r),i=Lc(e,r),ke("invalid",e);break;default:i=r}Mc(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?t1(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Zg(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Zs(e,u):typeof u=="number"&&Zs(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Js.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ke("scroll",e):u!=null&&uh(e,s,u,a))}switch(n){case"input":Ja(e),h0(e,r,!1);break;case"textarea":Ja(e),p0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?yi(e,!!r.multiple,s,!1):r.defaultValue!=null&&yi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)SE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Or(ca.current),Or(_n.current),oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[gn]=t,(s=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:ao(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ao(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=t,t.stateNode=r}return st(t),null;case 13:if(Ae(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Lt!==null&&t.mode&1&&!(t.flags&128))z1(),Di(),t.flags|=98560,s=!1;else if(s=oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[gn]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),s=!1}else en!==null&&(Ed(en),en=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Qe===0&&(Qe=3):Vh())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Pi(),ld(e,t),e===null&&aa(t.stateNode.containerInfo),st(t),null;case 10:return kh(t.type._context),st(t),null;case 17:return Nt(t.type)&&Ko(),st(t),null;case 19:if(Ae(De),s=t.memoizedState,s===null)return st(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)ms(s,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ru(e),a!==null){for(t.flags|=128,ms(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(De,De.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ue()>Fi&&(t.flags|=128,r=!0,ms(s,!1),t.lanes=4194304)}else{if(!r)if(e=ru(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ms(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Re)return st(t),null}else 2*Ue()-s.renderingStartTime>Fi&&n!==1073741824&&(t.flags|=128,r=!0,ms(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ue(),t.sibling=null,n=De.current,ve(De,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return Wh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Fb(e,t){switch(Ch(t),t.tag){case 1:return Nt(t.type)&&Ko(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pi(),Ae(St),Ae(lt),Oh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rh(t),null;case 13:if(Ae(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(De),null;case 4:return Pi(),null;case 10:return kh(t.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var co=!1,at=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,Q=null;function gi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function cd(e,t,n){try{n()}catch(r){Me(e,t,r)}}var rp=!1;function jb(e,t){if(Qc=$o,e=A1(),xh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,l=0,h=0,d=e,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(u=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===n&&++l===i&&(o=a),p===s&&++h===r&&(u=a),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gc={focusedElem:e,selectionRange:n},$o=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,I=g.memoizedState,E=t.stateNode,T=E.getSnapshotBeforeUpdate(t.elementType===t.type?x:Jt(t.type,x),I);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(k){Me(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return g=rp,rp=!1,g}function Ms(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&cd(t,n,s)}i=i.next}while(i!==r)}}function $u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function NE(e){var t=e.alternate;t!==null&&(e.alternate=null,NE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gn],delete t[ua],delete t[Xc],delete t[xb],delete t[bb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vE(e){return e.tag===5||e.tag===3||e.tag===4}function ip(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qo));else if(r!==4&&(e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}function fd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fd(e,t,n),e=e.sibling;e!==null;)fd(e,t,n),e=e.sibling}var tt=null,Zt=!1;function Wn(e,t,n){for(n=n.child;n!==null;)kE(e,t,n),n=n.sibling}function kE(e,t,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Bu,n)}catch{}switch(n.tag){case 5:at||gi(n,t);case 6:var r=tt,i=Zt;tt=null,Wn(e,t,n),tt=r,Zt=i,tt!==null&&(Zt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Zt?(e=tt,n=n.stateNode,e.nodeType===8?Ul(e.parentNode,n):e.nodeType===1&&Ul(e,n),ra(e)):Ul(tt,n.stateNode));break;case 4:r=tt,i=Zt,tt=n.stateNode.containerInfo,Zt=!0,Wn(e,t,n),tt=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&cd(n,t,a),i=i.next}while(i!==r)}Wn(e,t,n);break;case 1:if(!at&&(gi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Me(n,t,o)}Wn(e,t,n);break;case 21:Wn(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Wn(e,t,n),at=r):Wn(e,t,n);break;default:Wn(e,t,n)}}function sp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bb),t.forEach(function(r){var i=Gb.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:tt=o.stateNode,Zt=!1;break e;case 3:tt=o.stateNode.containerInfo,Zt=!0;break e;case 4:tt=o.stateNode.containerInfo,Zt=!0;break e}o=o.return}if(tt===null)throw Error(U(160));kE(s,a,i),tt=null,Zt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Me(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IE(t,e),t=t.sibling}function IE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),dn(e),r&4){try{Ms(3,e,e.return),$u(3,e)}catch(x){Me(e,e.return,x)}try{Ms(5,e,e.return)}catch(x){Me(e,e.return,x)}}break;case 1:Xt(t,e),dn(e),r&512&&n!==null&&gi(n,n.return);break;case 5:if(Xt(t,e),dn(e),r&512&&n!==null&&gi(n,n.return),e.flags&32){var i=e.stateNode;try{Zs(i,"")}catch(x){Me(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Kg(i,s),Fc(o,a);var l=Fc(o,s);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];h==="style"?t1(i,d):h==="dangerouslySetInnerHTML"?Zg(i,d):h==="children"?Zs(i,d):uh(i,h,d,l)}switch(o){case"input":Oc(i,s);break;case"textarea":Xg(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?yi(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?yi(i,!!s.multiple,s.defaultValue,!0):yi(i,!!s.multiple,s.multiple?[]:"",!1))}i[ua]=s}catch(x){Me(e,e.return,x)}}break;case 6:if(Xt(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Me(e,e.return,x)}}break;case 3:if(Xt(t,e),dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ra(t.containerInfo)}catch(x){Me(e,e.return,x)}break;case 4:Xt(t,e),dn(e);break;case 13:Xt(t,e),dn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hh=Ue())),r&4&&sp(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(at=(l=at)||h,Xt(t,e),at=l):Xt(t,e),dn(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!h&&e.mode&1)for(Q=e,h=e.child;h!==null;){for(d=Q=h;Q!==null;){switch(p=Q,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ms(4,p,p.return);break;case 1:gi(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Me(r,n,x)}}break;case 5:gi(p,p.return);break;case 22:if(p.memoizedState!==null){op(d);continue}}m!==null?(m.return=p,Q=m):op(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,u=d.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=e1("display",a))}catch(x){Me(e,e.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(x){Me(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(t,e),dn(e),r&4&&sp(e);break;case 21:break;default:Xt(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zs(i,""),r.flags&=-33);var s=ip(e);fd(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=ip(e);hd(e,o,a);break;default:throw Error(U(161))}}catch(u){Me(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ub(e,t,n){Q=e,AE(e)}function AE(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||co;if(!a){var o=i.alternate,u=o!==null&&o.memoizedState!==null||at;o=co;var l=at;if(co=a,(at=u)&&!l)for(Q=i;Q!==null;)a=Q,u=a.child,a.tag===22&&a.memoizedState!==null?up(i):u!==null?(u.return=a,Q=u):up(i);for(;s!==null;)Q=s,AE(s),s=s.sibling;Q=i,co=o,at=l}ap(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):ap(e)}}function ap(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||$u(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&V0(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}V0(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var h=l.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ra(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}at||t.flags&512&&dd(t)}catch(p){Me(t,t.return,p)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function op(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function up(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(u){Me(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Me(t,i,u)}}var s=t.return;try{dd(t)}catch(u){Me(t,s,u)}break;case 5:var a=t.return;try{dd(t)}catch(u){Me(t,a,u)}}}catch(u){Me(t,t.return,u)}if(t===e){Q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Q=o;break}Q=t.return}}var Hb=Math.ceil,au=Un.ReactCurrentDispatcher,jh=Un.ReactCurrentOwner,Qt=Un.ReactCurrentBatchConfig,me=0,et=null,We=null,nt=0,Dt=0,Ei=Tr(0),Qe=0,pa=null,Wr=0,Qu=0,Uh=0,Fs=null,xt=null,Hh=0,Fi=1/0,Nn=null,ou=!1,pd=null,ar=null,ho=!1,Jn=null,uu=0,Bs=0,md=null,Oo=-1,Do=0;function mt(){return me&6?Ue():Oo!==-1?Oo:Oo=Ue()}function or(e){return e.mode&1?me&2&&nt!==0?nt&-nt:Sb.transition!==null?(Do===0&&(Do=f1()),Do):(e=_e,e!==0||(e=window.event,e=e===void 0?16:y1(e.type)),e):1}function an(e,t,n,r){if(50<Bs)throw Bs=0,md=null,Error(U(185));Ra(e,n,r),(!(me&2)||e!==et)&&(e===et&&(!(me&2)&&(Qu|=n),Qe===4&&Kn(e,nt)),vt(e,r),n===1&&me===0&&!(t.mode&1)&&(Fi=Ue()+500,Wu&&yr()))}function vt(e,t){var n=e.callbackNode;S2(e,t);var r=Yo(e,e===et?nt:0);if(r===0)n!==null&&E0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&E0(n),t===1)e.tag===0?Cb(lp.bind(null,e)):j1(lp.bind(null,e)),Tb(function(){!(me&6)&&yr()}),n=null;else{switch(p1(r)){case 1:n=fh;break;case 4:n=d1;break;case 16:n=Vo;break;case 536870912:n=h1;break;default:n=Vo}n=FE(n,wE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wE(e,t){if(Oo=-1,Do=0,me&6)throw Error(U(327));var n=e.callbackNode;if(Ni()&&e.callbackNode!==n)return null;var r=Yo(e,e===et?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=lu(e,r);else{t=r;var i=me;me|=2;var s=OE();(et!==e||nt!==t)&&(Nn=null,Fi=Ue()+500,Mr(e,t));do try{Vb();break}catch(o){RE(e,o)}while(1);vh(),au.current=s,me=i,We!==null?t=0:(et=null,nt=0,t=Qe)}if(t!==0){if(t===2&&(i=zc(e),i!==0&&(r=i,t=gd(e,i))),t===1)throw n=pa,Mr(e,0),Kn(e,r),vt(e,Ue()),n;if(t===6)Kn(e,r);else{if(i=e.current.alternate,!(r&30)&&!zb(i)&&(t=lu(e,r),t===2&&(s=zc(e),s!==0&&(r=s,t=gd(e,s))),t===1))throw n=pa,Mr(e,0),Kn(e,r),vt(e,Ue()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:vr(e,xt,Nn);break;case 3:if(Kn(e,r),(r&130023424)===r&&(t=Hh+500-Ue(),10<t)){if(Yo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kc(vr.bind(null,e,xt,Nn),t);break}vr(e,xt,Nn);break;case 4:if(Kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-sn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hb(r/1960))-r,10<r){e.timeoutHandle=Kc(vr.bind(null,e,xt,Nn),r);break}vr(e,xt,Nn);break;case 5:vr(e,xt,Nn);break;default:throw Error(U(329))}}}return vt(e,Ue()),e.callbackNode===n?wE.bind(null,e):null}function gd(e,t){var n=Fs;return e.current.memoizedState.isDehydrated&&(Mr(e,t).flags|=256),e=lu(e,t),e!==2&&(t=xt,xt=n,t!==null&&Ed(t)),e}function Ed(e){xt===null?xt=e:xt.push.apply(xt,e)}function zb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~Uh,t&=~Qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sn(t),r=1<<n;e[n]=-1,t&=~r}}function lp(e){if(me&6)throw Error(U(327));Ni();var t=Yo(e,0);if(!(t&1))return vt(e,Ue()),null;var n=lu(e,t);if(e.tag!==0&&n===2){var r=zc(e);r!==0&&(t=r,n=gd(e,r))}if(n===1)throw n=pa,Mr(e,0),Kn(e,t),vt(e,Ue()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vr(e,xt,Nn),vt(e,Ue()),null}function zh(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Fi=Ue()+500,Wu&&yr())}}function Vr(e){Jn!==null&&Jn.tag===0&&!(me&6)&&Ni();var t=me;me|=1;var n=Qt.transition,r=_e;try{if(Qt.transition=null,_e=1,e)return e()}finally{_e=r,Qt.transition=n,me=t,!(me&6)&&yr()}}function Wh(){Dt=Ei.current,Ae(Ei)}function Mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_b(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Ch(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ko();break;case 3:Pi(),Ae(St),Ae(lt),Oh();break;case 5:Rh(r);break;case 4:Pi();break;case 13:Ae(De);break;case 19:Ae(De);break;case 10:kh(r.type._context);break;case 22:case 23:Wh()}n=n.return}if(et=e,We=e=ur(e.current,null),nt=Dt=t,Qe=0,pa=null,Uh=Qu=Wr=0,xt=Fs=null,Rr!==null){for(t=0;t<Rr.length;t++)if(n=Rr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Rr=null}return e}function RE(e,t){do{var n=We;try{if(vh(),Ao.current=su,iu){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}iu=!1}if(zr=0,Ke=Ve=Le=null,Ps=!1,da=0,jh.current=null,n===null||n.return===null){Qe=1,pa=t,We=null;break}e:{var s=e,a=n.return,o=n,u=t;if(t=nt,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=K0(a);if(m!==null){m.flags&=-257,X0(m,a,o,s,t),m.mode&1&&q0(s,l,t),t=m,u=l;var g=t.updateQueue;if(g===null){var x=new Set;x.add(u),t.updateQueue=x}else g.add(u);break e}else{if(!(t&1)){q0(s,l,t),Vh();break e}u=Error(U(426))}}else if(Re&&o.mode&1){var I=K0(a);if(I!==null){!(I.flags&65536)&&(I.flags|=256),X0(I,a,o,s,t),Sh(Mi(u,o));break e}}s=u=Mi(u,o),Qe!==4&&(Qe=2),Fs===null?Fs=[s]:Fs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=pE(s,u,t);W0(s,E);break e;case 1:o=u;var T=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ar===null||!ar.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=mE(s,o,t);W0(s,k);break e}}s=s.return}while(s!==null)}LE(n)}catch(O){t=O,We===n&&n!==null&&(We=n=n.return);continue}break}while(1)}function OE(){var e=au.current;return au.current=su,e===null?su:e}function Vh(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(Wr&268435455)&&!(Qu&268435455)||Kn(et,nt)}function lu(e,t){var n=me;me|=2;var r=OE();(et!==e||nt!==t)&&(Nn=null,Mr(e,t));do try{Wb();break}catch(i){RE(e,i)}while(1);if(vh(),me=n,au.current=r,We!==null)throw Error(U(261));return et=null,nt=0,Qe}function Wb(){for(;We!==null;)DE(We)}function Vb(){for(;We!==null&&!m2();)DE(We)}function DE(e){var t=ME(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?LE(e):We=t,jh.current=null}function LE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fb(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,We=null;return}}else if(n=Mb(n,t,Dt),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Qe===0&&(Qe=5)}function vr(e,t,n){var r=_e,i=Qt.transition;try{Qt.transition=null,_e=1,Yb(e,t,n,r)}finally{Qt.transition=i,_e=r}return null}function Yb(e,t,n,r){do Ni();while(Jn!==null);if(me&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(N2(e,s),e===et&&(We=et=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ho||(ho=!0,FE(Vo,function(){return Ni(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qt.transition,Qt.transition=null;var a=_e;_e=1;var o=me;me|=4,jh.current=null,jb(e,n),IE(n,e),db(Gc),$o=!!Qc,Gc=Qc=null,e.current=n,Ub(n),g2(),me=o,_e=a,Qt.transition=s}else e.current=n;if(ho&&(ho=!1,Jn=e,uu=i),s=e.pendingLanes,s===0&&(ar=null),T2(n.stateNode),vt(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ou)throw ou=!1,e=pd,pd=null,e;return uu&1&&e.tag!==0&&Ni(),s=e.pendingLanes,s&1?e===md?Bs++:(Bs=0,md=e):Bs=0,yr(),null}function Ni(){if(Jn!==null){var e=p1(uu),t=Qt.transition,n=_e;try{if(Qt.transition=null,_e=16>e?16:e,Jn===null)var r=!1;else{if(e=Jn,Jn=null,uu=0,me&6)throw Error(U(331));var i=me;for(me|=4,Q=e.current;Q!==null;){var s=Q,a=s.child;if(Q.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var l=o[u];for(Q=l;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Ms(8,h,s)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var p=h.sibling,m=h.return;if(NE(h),h===l){Q=null;break}if(p!==null){p.return=m,Q=p;break}Q=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var I=x.sibling;x.sibling=null,x=I}while(x!==null)}}Q=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Q=a;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ms(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Q=E;break e}Q=s.return}}var T=e.current;for(Q=T;Q!==null;){a=Q;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Q=_;else e:for(a=T;Q!==null;){if(o=Q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$u(9,o)}}catch(O){Me(o,o.return,O)}if(o===a){Q=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Q=k;break e}Q=o.return}}if(me=i,yr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Bu,e)}catch{}r=!0}return r}finally{_e=n,Qt.transition=t}}return!1}function cp(e,t,n){t=Mi(n,t),t=pE(e,t,1),e=sr(e,t,1),t=mt(),e!==null&&(Ra(e,1,t),vt(e,t))}function Me(e,t,n){if(e.tag===3)cp(e,e,n);else for(;t!==null;){if(t.tag===3){cp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){e=Mi(n,e),e=mE(t,e,1),t=sr(t,e,1),e=mt(),t!==null&&(Ra(t,1,e),vt(t,e));break}}t=t.return}}function $b(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(nt&n)===n&&(Qe===4||Qe===3&&(nt&130023424)===nt&&500>Ue()-Hh?Mr(e,0):Uh|=n),vt(e,t)}function PE(e,t){t===0&&(e.mode&1?(t=to,to<<=1,!(to&130023424)&&(to=4194304)):t=1);var n=mt();e=Mn(e,t),e!==null&&(Ra(e,t,n),vt(e,n))}function Qb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PE(e,n)}function Gb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),PE(e,n)}var ME;ME=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,Pb(e,t,n);bt=!!(e.flags&131072)}else bt=!1,Re&&t.flags&1048576&&U1(t,Zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ro(e,t),e=t.pendingProps;var i=Oi(t,lt.current);Si(t,n),i=Lh(null,t,r,e,i,n);var s=Ph();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(r)?(s=!0,Xo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ah(t),i.updater=Yu,t.stateNode=i,i._reactInternals=t,rd(t,r,e,n),t=ad(null,t,r,!0,s,n)):(t.tag=0,Re&&s&&bh(t),ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ro(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Kb(r),e=Jt(r,e),i){case 0:t=sd(null,t,r,e,n);break e;case 1:t=ep(null,t,r,e,n);break e;case 11:t=J0(null,t,r,e,n);break e;case 14:t=Z0(null,t,r,Jt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),sd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),ep(e,t,r,i,n);case 3:e:{if(TE(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,i=s.element,$1(e,t),nu(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Mi(Error(U(423)),t),t=tp(e,t,r,n,i);break e}else if(r!==i){i=Mi(Error(U(424)),t),t=tp(e,t,r,n,i);break e}else for(Lt=ir(t.stateNode.containerInfo.firstChild),Pt=t,Re=!0,en=null,n=V1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===i){t=Fn(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 5:return Q1(t),e===null&&ed(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,qc(r,i)?a=null:s!==null&&qc(r,s)&&(t.flags|=32),_E(e,t),ht(e,t,a,n),t.child;case 6:return e===null&&ed(t),null;case 13:return yE(e,t,n);case 4:return wh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Li(t,null,r,n):ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),J0(e,t,r,i,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,ve(eu,r._currentValue),r._currentValue=a,s!==null)if(ln(s.value,a)){if(s.children===i.children&&!St.current){t=Fn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=On(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),td(s.return,n,t),o.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),td(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Si(t,n),i=Gt(i),r=r(i),t.flags|=1,ht(e,t,r,n),t.child;case 14:return r=t.type,i=Jt(r,t.pendingProps),i=Jt(r.type,i),Z0(e,t,r,i,n);case 15:return gE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),Ro(e,t),t.tag=1,Nt(r)?(e=!0,Xo(t)):e=!1,Si(t,n),fE(t,r,i),rd(t,r,i,n),ad(null,t,r,!0,e,n);case 19:return xE(e,t,n);case 22:return EE(e,t,n)}throw Error(U(156,t.tag))};function FE(e,t){return c1(e,t)}function qb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,n,r){return new qb(e,t,n,r)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kb(e){if(typeof e=="function")return Yh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ch)return 11;if(e===dh)return 14}return 2}function ur(e,t){var n=e.alternate;return n===null?(n=$t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lo(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Yh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case oi:return Fr(n.children,i,s,t);case lh:a=8,i|=8;break;case kc:return e=$t(12,n,t,i|2),e.elementType=kc,e.lanes=s,e;case Ic:return e=$t(13,n,t,i),e.elementType=Ic,e.lanes=s,e;case Ac:return e=$t(19,n,t,i),e.elementType=Ac,e.lanes=s,e;case Qg:return Gu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yg:a=10;break e;case $g:a=9;break e;case ch:a=11;break e;case dh:a=14;break e;case Qn:a=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=$t(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Fr(e,t,n,r){return e=$t(7,e,r,t),e.lanes=n,e}function Gu(e,t,n,r){return e=$t(22,e,r,t),e.elementType=Qg,e.lanes=n,e.stateNode={isHidden:!1},e}function Gl(e,t,n){return e=$t(6,e,null,t),e.lanes=n,e}function ql(e,t,n){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xb(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $h(e,t,n,r,i,s,a,o,u){return e=new Xb(e,t,n,o,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$t(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(s),e}function Jb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function BE(e){if(!e)return pr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Nt(n))return B1(e,n,t)}return t}function jE(e,t,n,r,i,s,a,o,u){return e=$h(n,r,!0,e,i,s,a,o,u),e.context=BE(null),n=e.current,r=mt(),i=or(n),s=On(r,i),s.callback=t??null,sr(n,s,i),e.current.lanes=i,Ra(e,i,r),vt(e,r),e}function qu(e,t,n,r){var i=t.current,s=mt(),a=or(i);return n=BE(n),t.context===null?t.context=n:t.pendingContext=n,t=On(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sr(i,t,a),e!==null&&(an(e,i,a,s),Io(e,i,a)),a}function cu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qh(e,t){dp(e,t),(e=e.alternate)&&dp(e,t)}function Zb(){return null}var UE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gh(e){this._internalRoot=e}Ku.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));qu(e,t,null,null)};Ku.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){qu(null,e,null,null)}),t[Pn]=null}};function Ku(e){this._internalRoot=e}Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=E1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qn.length&&t!==0&&t<qn[n].priority;n++);qn.splice(n,0,e),n===0&&T1(e)}};function qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hp(){}function eC(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=cu(a);s.call(l)}}var a=jE(t,r,e,0,null,!1,!1,"",hp);return e._reactRootContainer=a,e[Pn]=a.current,aa(e.nodeType===8?e.parentNode:e),Vr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var l=cu(u);o.call(l)}}var u=$h(e,0,!1,null,null,!1,!1,"",hp);return e._reactRootContainer=u,e[Pn]=u.current,aa(e.nodeType===8?e.parentNode:e),Vr(function(){qu(t,u,n,r)}),u}function Ju(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var u=cu(a);o.call(u)}}qu(t,a,e,i)}else a=eC(n,t,e,i,r);return cu(a)}m1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ks(t.pendingLanes);n!==0&&(ph(t,n|1),vt(t,Ue()),!(me&6)&&(Fi=Ue()+500,yr()))}break;case 13:Vr(function(){var r=Mn(e,1);if(r!==null){var i=mt();an(r,e,1,i)}}),Qh(e,1)}};mh=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var n=mt();an(t,e,134217728,n)}Qh(e,134217728)}};g1=function(e){if(e.tag===13){var t=or(e),n=Mn(e,t);if(n!==null){var r=mt();an(n,e,t,r)}Qh(e,t)}};E1=function(){return _e};_1=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};jc=function(e,t,n){switch(t){case"input":if(Oc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zu(r);if(!i)throw Error(U(90));qg(r),Oc(r,i)}}}break;case"textarea":Xg(e,n);break;case"select":t=n.value,t!=null&&yi(e,!!n.multiple,t,!1)}};i1=zh;s1=Vr;var tC={usingClientEntryPoint:!1,Events:[Da,di,zu,n1,r1,zh]},gs={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nC={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=u1(e),e===null?null:e.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||Zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{Bu=fo.inject(nC),En=fo}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(t))throw Error(U(200));return Jb(e,t,null,n)};Bt.createRoot=function(e,t){if(!qh(e))throw Error(U(299));var n=!1,r="",i=UE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$h(e,1,!1,null,null,n,!1,r,i),e[Pn]=t.current,aa(e.nodeType===8?e.parentNode:e),new Gh(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=u1(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return Vr(e)};Bt.hydrate=function(e,t,n){if(!Xu(t))throw Error(U(200));return Ju(null,e,t,!0,n)};Bt.hydrateRoot=function(e,t,n){if(!qh(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=UE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=jE(t,null,e,1,n??null,i,!1,s,a),e[Pn]=t.current,aa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ku(t)};Bt.render=function(e,t,n){if(!Xu(t))throw Error(U(200));return Ju(null,e,t,!1,n)};Bt.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(U(40));return e._reactRootContainer?(Vr(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};Bt.unstable_batchedUpdates=zh;Bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Ju(e,t,n,!1,r)};Bt.version="18.3.1-next-f1338f8080-20240426";function HE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HE)}catch(e){console.error(e)}}HE(),Hg.exports=Bt;var rC=Hg.exports,fp=rC;Nc.createRoot=fp.createRoot,Nc.hydrateRoot=fp.hydrateRoot;var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aC=(e,t)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...u},l)=>$.createElement("svg",{ref:l,...iC,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${sC(e)}`,...u},[...t.map(([h,d])=>$.createElement(h,d)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n};var ie=aC;const oC=ie("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),uC=ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),lC=ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),cC=ie("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),zE=ie("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),pp=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),mp=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),dC=ie("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),WE=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),hC=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),fC=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),VE=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pC=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),mC=ie("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),js=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),gC=ie("Heading",[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]]),EC=ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),_C=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),TC=ie("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),yC=ie("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),xC=ie("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),bC=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),YE=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Po=ie("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),du=ie("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),gp=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),CC=ie("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Ep=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),_p=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Tp=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$E=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Zn=ie("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),SC=ie("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),NC=ie("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),vC=ie("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),kC=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),QE=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),IC=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),yp=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),AC="admin626",wC="hhxxttxs0626",Bi="admin_w3_2025",ma=()=>{let e=localStorage.getItem("w3_user_id");return e||(e="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("w3_user_id",e)),e},wn=()=>ma()===Bi,RC=()=>{localStorage.setItem("w3_user_id",Bi),console.log(" "),console.log(" ID:",Bi)},xp=e=>{const t=ma();return t===Bi||t===e},hu=()=>{const e=ma(),t=localStorage.getItem("w3_username")||"",n=wn();return{userId:e,username:t,isAdmin:n}};function OC({onClose:e}){const[t,n]=$.useState(null),[r,i]=$.useState(!1),[s,a]=$.useState(""),[o,u]=$.useState(""),[l,h]=$.useState("");$.useEffect(()=>{n(hu())},[]);const d=()=>{if(s!==AC){h(" ");return}if(o!==wC){h(" ");return}RC(),n(hu()),h(""),a(""),u(""),alert(` 

`)},p=()=>{navigator.clipboard.writeText(Bi),i(!0),setTimeout(()=>i(!1),2e3)};return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[f.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-6 rounded-t-2xl text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Zn,{size:28}),f.jsx("h2",{className:"text-2xl font-bold",children:""})]}),f.jsx("button",{onClick:e,className:"text-white/80 hover:text-white transition-colors text-2xl",children:""})]})}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(IC,{size:20,className:"text-slate-600"}),f.jsx("h3",{className:"font-bold text-slate-800",children:""})]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-slate-600",children:""}),f.jsx("span",{className:"font-medium text-slate-800",children:t==null?void 0:t.username})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-slate-600",children:" ID"}),f.jsx("code",{className:"text-xs bg-white px-2 py-1 rounded border border-slate-300",children:t==null?void 0:t.userId})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-slate-600",children:""}),t!=null&&t.isAdmin?f.jsxs("span",{className:"text-amber-600 font-medium flex items-center gap-1",children:[f.jsx(Zn,{size:14}),""]}):f.jsx("span",{className:"text-slate-500",children:""})]})]})]}),f.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(yC,{size:20,className:"text-amber-600"}),f.jsx("h3",{className:"font-bold text-slate-800",children:" ID"})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("code",{className:"flex-1 text-xs bg-white px-3 py-2 rounded border border-amber-300 font-mono break-all",children:Bi}),f.jsx("button",{onClick:p,className:"p-2 bg-white hover:bg-amber-50 border border-amber-300 rounded transition-colors",title:" ID",children:r?f.jsx(zE,{size:16,className:"text-green-600"}):f.jsx(WE,{size:16,className:"text-amber-600"})})]}),f.jsx("p",{className:"text-xs text-amber-700",children:"  ID"})]}),t!=null&&t.isAdmin?f.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[f.jsx(Zn,{size:20}),f.jsx("span",{className:"font-medium",children:""})]}),f.jsx("p",{className:"text-sm text-green-600 mt-2",children:""})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(YE,{size:20,className:"text-slate-600"}),f.jsx("h3",{className:"font-bold text-slate-800",children:""})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:""}),f.jsx("input",{type:"text",value:s,onChange:m=>{a(m.target.value),h("")},placeholder:"",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:""}),f.jsx("input",{type:"password",value:o,onChange:m=>{u(m.target.value),h("")},placeholder:"",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",onKeyPress:m=>m.key==="Enter"&&d()})]}),l&&f.jsx("p",{className:"text-red-500 text-sm font-medium",children:l}),f.jsxs("button",{onClick:d,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-3 rounded-lg hover:shadow-lg transition-all font-medium flex items-center justify-center gap-2",children:[f.jsx(Zn,{size:20}),""]})]})]}),f.jsx("p",{className:"text-xs text-slate-500 text-center",children:" "})]}),f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:""}),f.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[f.jsx("li",{children:" "}),f.jsx("li",{children:" "}),f.jsx("li",{children:"  ID "}),f.jsx("li",{children:"  ID"})]})]})]})]})})}function DC({onNavigate:e}){const[t,n]=$.useState({weekProgress:0,completedTasks:0,totalTasks:0,articleCount:0}),[r,i]=$.useState(!1);$.useEffect(()=>{const o=localStorage.getItem("w3_warroom");if(o){const l=JSON.parse(o),h=l.tasks.filter(p=>p.done).length,d=l.tasks.length;n(p=>({...p,weekProgress:d>0?Math.round(h/d*100):0,completedTasks:h,totalTasks:d}))}const u=localStorage.getItem("w3_journal");if(u){const l=JSON.parse(u);n(h=>({...h,articleCount:l.length}))}},[]);const s=new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"}),a=Math.ceil(new Date().getDate()/7);return f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-slate-200",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:" "}),f.jsx("p",{className:"text-slate-600",children:s}),f.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[" ",a," "]})]}),f.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-100 to-orange-100 hover:from-amber-200 hover:to-orange-200 text-amber-700 rounded-lg transition-all border border-amber-200",title:"",children:[f.jsx(Zn,{size:18}),f.jsx("span",{className:"text-sm font-medium",children:""})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(Kl,{title:"",value:`${t.weekProgress}%`,color:"blue",onClick:()=>e("warroom")}),f.jsx(Kl,{title:"",value:`${t.completedTasks}/${t.totalTasks}`,color:"green",onClick:()=>e("warroom")}),f.jsx(Kl,{title:"",value:`${t.articleCount} `,color:"purple",onClick:()=>e("journal")})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:""}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx(po,{label:" ",onClick:()=>e("journal")}),f.jsx(po,{label:" ",onClick:()=>e("warroom")}),f.jsx(po,{label:" ",onClick:()=>e("export")}),f.jsx(po,{label:" ",onClick:()=>e("export")})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl shadow-lg p-6 border border-blue-200",children:[f.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-2",children:" "}),f.jsxs("ul",{className:"space-y-2 text-slate-700 text-sm",children:[f.jsx("li",{children:" "}),f.jsx("li",{children:' "" JSON '}),f.jsx("li",{children:"  JSON "}),f.jsx("li",{children:' ""'})]})]}),r&&f.jsx(OC,{onClose:()=>i(!1)})]})}function Kl({title:e,value:t,color:n,onClick:r}){const i={blue:"from-blue-500 to-cyan-400",green:"from-green-500 to-emerald-400",purple:"from-purple-500 to-pink-400"};return f.jsxs("div",{onClick:r,className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 cursor-pointer hover:shadow-xl transition-all",children:[f.jsx("p",{className:"text-slate-600 text-sm mb-2",children:e}),f.jsx("p",{className:`text-3xl font-bold bg-gradient-to-r ${i[n]} bg-clip-text text-transparent`,children:t})]})}function po({label:e,onClick:t}){return f.jsx("button",{onClick:t,className:"bg-gradient-to-r from-slate-100 to-slate-200 hover:from-blue-50 hover:to-cyan-50 text-slate-700 rounded-lg py-3 px-4 font-medium transition-all hover:shadow-md",children:e})}function LC(){const[e,t]=$.useState(()=>{const m=localStorage.getItem("w3_warroom");return m?JSON.parse(m):{week:1,title:"",goals:[" Java "," 20 "," UI"],tasks:[]}}),[n,r]=$.useState(""),[i,s]=$.useState("");$.useEffect(()=>{localStorage.setItem("w3_warroom",JSON.stringify(e))},[e]);const a=()=>{n.trim()&&(t(m=>({...m,tasks:[...m.tasks,{id:Date.now(),title:n,done:!1,effort:5,note:""}]})),r(""))},o=()=>{i.trim()&&(t(m=>({...m,goals:[...m.goals,i]})),s(""))},u=m=>{t(g=>({...g,goals:g.goals.filter((x,I)=>I!==m)}))},l=m=>{t(g=>({...g,tasks:g.tasks.map(x=>x.id===m?{...x,done:!x.done}:x)}))},h=m=>{t(g=>({...g,tasks:g.tasks.filter(x=>x.id!==m)}))},d=(m,g)=>{t(x=>({...x,tasks:x.tasks.map(I=>I.id===m?{...I,effort:parseInt(g)}:I)}))},p=e.tasks.length>0?Math.round(e.tasks.filter(m=>m.done).length/e.tasks.length*100):0;return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 rounded-2xl shadow-lg p-8 text-white",children:[f.jsx("input",{type:"text",value:e.title,onChange:m=>t(g=>({...g,title:m.target.value})),className:"bg-transparent text-3xl font-bold w-full outline-none border-b-2 border-white/30 focus:border-white pb-2",placeholder:"..."}),f.jsxs("p",{className:"mt-4 text-white/90",children:[" ",e.week,"    ",p,"%"]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:" "}),f.jsx("div",{className:"space-y-2 mb-4",children:e.goals.map((m,g)=>f.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 rounded-lg p-3",children:[f.jsx("span",{className:"flex-1 text-slate-700",children:m}),f.jsx("button",{onClick:()=>u(g),className:"text-red-500 hover:bg-red-50 rounded-lg px-3 py-1 text-sm",children:""})]},g))}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:i,onChange:m=>s(m.target.value),onKeyPress:m=>m.key==="Enter"&&o(),placeholder:"...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{onClick:o,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:""})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:" "}),f.jsx("div",{className:"space-y-3 mb-4",children:e.tasks.map(m=>f.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"checkbox",checked:m.done,onChange:()=>l(m.id),className:"w-5 h-5 rounded"}),f.jsx("span",{className:`flex-1 ${m.done?"line-through text-slate-400":"text-slate-800"}`,children:m.title}),f.jsx("button",{onClick:()=>h(m.id),className:"text-red-500 hover:bg-red-50 rounded-lg px-3 py-1 text-sm",children:""})]}),f.jsxs("div",{className:"flex items-center gap-2 ml-8",children:[f.jsx("label",{className:"text-sm text-slate-600",children:":"}),f.jsx("input",{type:"range",min:"1",max:"10",value:m.effort,onChange:g=>d(m.id,g.target.value),className:"flex-1"}),f.jsx("span",{className:"text-sm font-medium text-blue-600 w-8",children:m.effort})]})]},m.id))}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value),onKeyPress:m=>m.key==="Enter"&&a(),placeholder:"...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{onClick:a,className:"bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors",children:""})]})]})]})}function bp(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function GE(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const PC=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,MC=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FC={};function Cp(e,t){return((t||FC).jsx?MC:PC).test(e)}const BC=/[ \t\n\f\r]/g;function jC(e){return typeof e=="object"?e.type==="text"?Sp(e.value):!1:Sp(e)}function Sp(e){return e.replace(BC,"")===""}class Pa{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Pa.prototype.normal={};Pa.prototype.property={};Pa.prototype.space=void 0;function qE(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Pa(n,r,t)}function ga(e){return e.toLowerCase()}class At{constructor(t,n){this.attribute=n,this.property=t}}At.prototype.attribute="";At.prototype.booleanish=!1;At.prototype.boolean=!1;At.prototype.commaOrSpaceSeparated=!1;At.prototype.commaSeparated=!1;At.prototype.defined=!1;At.prototype.mustUseProperty=!1;At.prototype.number=!1;At.prototype.overloadedBoolean=!1;At.prototype.property="";At.prototype.spaceSeparated=!1;At.prototype.space=void 0;let UC=0;const re=Xr(),ze=Xr(),_d=Xr(),H=Xr(),Ce=Xr(),vi=Xr(),Ot=Xr();function Xr(){return 2**++UC}const Td=Object.freeze(Object.defineProperty({__proto__:null,boolean:re,booleanish:ze,commaOrSpaceSeparated:Ot,commaSeparated:vi,number:H,overloadedBoolean:_d,spaceSeparated:Ce},Symbol.toStringTag,{value:"Module"})),Xl=Object.keys(Td);class Kh extends At{constructor(t,n,r,i){let s=-1;if(super(t,n),Np(this,"space",i),typeof r=="number")for(;++s<Xl.length;){const a=Xl[s];Np(this,Xl[s],(r&Td[a])===Td[a])}}}Kh.prototype.defined=!0;function Np(e,t,n){n&&(e[t]=n)}function Ji(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Kh(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[ga(r)]=r,n[ga(s.attribute)]=r}return new Pa(t,n,e.space)}const KE=Ji({properties:{ariaActiveDescendant:null,ariaAtomic:ze,ariaAutoComplete:null,ariaBusy:ze,ariaChecked:ze,ariaColCount:H,ariaColIndex:H,ariaColSpan:H,ariaControls:Ce,ariaCurrent:null,ariaDescribedBy:Ce,ariaDetails:null,ariaDisabled:ze,ariaDropEffect:Ce,ariaErrorMessage:null,ariaExpanded:ze,ariaFlowTo:Ce,ariaGrabbed:ze,ariaHasPopup:null,ariaHidden:ze,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ce,ariaLevel:H,ariaLive:null,ariaModal:ze,ariaMultiLine:ze,ariaMultiSelectable:ze,ariaOrientation:null,ariaOwns:Ce,ariaPlaceholder:null,ariaPosInSet:H,ariaPressed:ze,ariaReadOnly:ze,ariaRelevant:null,ariaRequired:ze,ariaRoleDescription:Ce,ariaRowCount:H,ariaRowIndex:H,ariaRowSpan:H,ariaSelected:ze,ariaSetSize:H,ariaSort:null,ariaValueMax:H,ariaValueMin:H,ariaValueNow:H,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function XE(e,t){return t in e?e[t]:t}function JE(e,t){return XE(e,t.toLowerCase())}const HC=Ji({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vi,acceptCharset:Ce,accessKey:Ce,action:null,allow:null,allowFullScreen:re,allowPaymentRequest:re,allowUserMedia:re,alt:null,as:null,async:re,autoCapitalize:null,autoComplete:Ce,autoFocus:re,autoPlay:re,blocking:Ce,capture:null,charSet:null,checked:re,cite:null,className:Ce,cols:H,colSpan:null,content:null,contentEditable:ze,controls:re,controlsList:Ce,coords:H|vi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:re,defer:re,dir:null,dirName:null,disabled:re,download:_d,draggable:ze,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:re,formTarget:null,headers:Ce,height:H,hidden:_d,high:H,href:null,hrefLang:null,htmlFor:Ce,httpEquiv:Ce,id:null,imageSizes:null,imageSrcSet:null,inert:re,inputMode:null,integrity:null,is:null,isMap:re,itemId:null,itemProp:Ce,itemRef:Ce,itemScope:re,itemType:Ce,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:re,low:H,manifest:null,max:null,maxLength:H,media:null,method:null,min:null,minLength:H,multiple:re,muted:re,name:null,nonce:null,noModule:re,noValidate:re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:re,optimum:H,pattern:null,ping:Ce,placeholder:null,playsInline:re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:re,referrerPolicy:null,rel:Ce,required:re,reversed:re,rows:H,rowSpan:H,sandbox:Ce,scope:null,scoped:re,seamless:re,selected:re,shadowRootClonable:re,shadowRootDelegatesFocus:re,shadowRootMode:null,shape:null,size:H,sizes:null,slot:null,span:H,spellCheck:ze,src:null,srcDoc:null,srcLang:null,srcSet:null,start:H,step:null,style:null,tabIndex:H,target:null,title:null,translate:null,type:null,typeMustMatch:re,useMap:null,value:ze,width:H,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ce,axis:null,background:null,bgColor:null,border:H,borderColor:null,bottomMargin:H,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:re,declare:re,event:null,face:null,frame:null,frameBorder:null,hSpace:H,leftMargin:H,link:null,longDesc:null,lowSrc:null,marginHeight:H,marginWidth:H,noResize:re,noHref:re,noShade:re,noWrap:re,object:null,profile:null,prompt:null,rev:null,rightMargin:H,rules:null,scheme:null,scrolling:ze,standby:null,summary:null,text:null,topMargin:H,valueType:null,version:null,vAlign:null,vLink:null,vSpace:H,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:re,disableRemotePlayback:re,prefix:null,property:null,results:H,security:null,unselectable:null},space:"html",transform:JE}),zC=Ji({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ot,accentHeight:H,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:H,amplitude:H,arabicForm:null,ascent:H,attributeName:null,attributeType:null,azimuth:H,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:H,by:null,calcMode:null,capHeight:H,className:Ce,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:H,diffuseConstant:H,direction:null,display:null,dur:null,divisor:H,dominantBaseline:null,download:re,dx:null,dy:null,edgeMode:null,editable:null,elevation:H,enableBackground:null,end:null,event:null,exponent:H,externalResourcesRequired:null,fill:null,fillOpacity:H,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vi,g2:vi,glyphName:vi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:H,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:H,horizOriginX:H,horizOriginY:H,id:null,ideographic:H,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:H,k:H,k1:H,k2:H,k3:H,k4:H,kernelMatrix:Ot,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:H,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:H,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:H,overlineThickness:H,paintOrder:null,panose1:null,path:null,pathLength:H,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ce,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:H,pointsAtY:H,pointsAtZ:H,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ot,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ot,rev:Ot,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ot,requiredFeatures:Ot,requiredFonts:Ot,requiredFormats:Ot,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:H,specularExponent:H,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:H,strikethroughThickness:H,string:null,stroke:null,strokeDashArray:Ot,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:H,strokeOpacity:H,strokeWidth:null,style:null,surfaceScale:H,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ot,tabIndex:H,tableValues:null,target:null,targetX:H,targetY:H,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ot,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:H,underlineThickness:H,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:H,values:null,vAlphabetic:H,vMathematical:H,vectorEffect:null,vHanging:H,vIdeographic:H,version:null,vertAdvY:H,vertOriginX:H,vertOriginY:H,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:H,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:XE}),ZE=Ji({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),e_=Ji({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:JE}),t_=Ji({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),WC={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},VC=/[A-Z]/g,vp=/-[a-z]/g,YC=/^data[-\w.:]+$/i;function Zu(e,t){const n=ga(t);let r=t,i=At;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&YC.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(vp,QC);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!vp.test(s)){let a=s.replace(VC,$C);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Kh}return new i(r,t)}function $C(e){return"-"+e.toLowerCase()}function QC(e){return e.charAt(1).toUpperCase()}const Ma=qE([KE,HC,ZE,e_,t_],"html"),xr=qE([KE,zC,ZE,e_,t_],"svg");function kp(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function n_(e){return e.join(" ").trim()}var Xh={},Ip=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,GC=/\n/g,qC=/^\s*/,KC=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,XC=/^:\s*/,JC=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ZC=/^[;\s]*/,eS=/^\s+|\s+$/g,tS=`
`,Ap="/",wp="*",Ar="",nS="comment",rS="declaration";function iS(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var x=g.match(GC);x&&(n+=x.length);var I=g.lastIndexOf(tS);r=~I?g.length-I:r+g.length}function s(){var g={line:n,column:r};return function(x){return x.position=new a(g),l(),x}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var x=new Error(t.source+":"+n+":"+r+": "+g);if(x.reason=g,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function u(g){var x=g.exec(e);if(x){var I=x[0];return i(I),e=e.slice(I.length),x}}function l(){u(qC)}function h(g){var x;for(g=g||[];x=d();)x!==!1&&g.push(x);return g}function d(){var g=s();if(!(Ap!=e.charAt(0)||wp!=e.charAt(1))){for(var x=2;Ar!=e.charAt(x)&&(wp!=e.charAt(x)||Ap!=e.charAt(x+1));)++x;if(x+=2,Ar===e.charAt(x-1))return o("End of comment missing");var I=e.slice(2,x-2);return r+=2,i(I),e=e.slice(x),r+=2,g({type:nS,comment:I})}}function p(){var g=s(),x=u(KC);if(x){if(d(),!u(XC))return o("property missing ':'");var I=u(JC),E=g({type:rS,property:Rp(x[0].replace(Ip,Ar)),value:I?Rp(I[0].replace(Ip,Ar)):Ar});return u(ZC),E}}function m(){var g=[];h(g);for(var x;x=p();)x!==!1&&(g.push(x),h(g));return g}return l(),m()}function Rp(e){return e?e.replace(eS,Ar):Ar}var sS=iS,aS=Uo&&Uo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.default=uS;const oS=aS(sS);function uS(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,oS.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:o}=s;i?t(a,o,s):o&&(n=n||{},n[a]=o)}),n}var el={};Object.defineProperty(el,"__esModule",{value:!0});el.camelCase=void 0;var lS=/^--[a-zA-Z0-9_-]+$/,cS=/-([a-z])/g,dS=/^[^-]+$/,hS=/^-(webkit|moz|ms|o|khtml)-/,fS=/^-(ms)-/,pS=function(e){return!e||dS.test(e)||lS.test(e)},mS=function(e,t){return t.toUpperCase()},Op=function(e,t){return"".concat(t,"-")},gS=function(e,t){return t===void 0&&(t={}),pS(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(fS,Op):e=e.replace(hS,Op),e.replace(cS,mS))};el.camelCase=gS;var ES=Uo&&Uo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_S=ES(Xh),TS=el;function yd(e,t){var n={};return!e||typeof e!="string"||(0,_S.default)(e,function(r,i){r&&i&&(n[(0,TS.camelCase)(r,t)]=i)}),n}yd.default=yd;var yS=yd;const xS=th(yS),tl=r_("end"),yn=r_("start");function r_(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function bS(e){const t=yn(e),n=tl(e);if(t&&n)return{start:t,end:n}}function Us(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Dp(e.position):"start"in e||"end"in e?Dp(e):"line"in e||"column"in e?xd(e):""}function xd(e){return Lp(e&&e.line)+":"+Lp(e&&e.column)}function Dp(e){return xd(e&&e.start)+"-"+xd(e&&e.end)}function Lp(e){return e&&typeof e=="number"?e:1}class ct extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Us(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ct.prototype.file="";ct.prototype.name="";ct.prototype.reason="";ct.prototype.message="";ct.prototype.stack="";ct.prototype.column=void 0;ct.prototype.line=void 0;ct.prototype.ancestors=void 0;ct.prototype.cause=void 0;ct.prototype.fatal=void 0;ct.prototype.place=void 0;ct.prototype.ruleId=void 0;ct.prototype.source=void 0;const Jh={}.hasOwnProperty,CS=new Map,SS=/[A-Z]/g,NS=new Set(["table","tbody","thead","tfoot","tr"]),vS=new Set(["td","th"]),i_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function kS(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=PS(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=LS(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?xr:Ma,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=s_(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function s_(e,t,n){if(t.type==="element")return IS(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return AS(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return RS(e,t,n);if(t.type==="mdxjsEsm")return wS(e,t);if(t.type==="root")return OS(e,t,n);if(t.type==="text")return DS(e,t)}function IS(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=xr,e.schema=i),e.ancestors.push(t);const s=o_(e,t.tagName,!1),a=MS(e,t);let o=ef(e,t);return NS.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!jC(u):!0})),a_(e,a,s,t),Zh(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function AS(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ea(e,t.position)}function wS(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ea(e,t.position)}function RS(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=xr,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:o_(e,t.name,!0),a=FS(e,t),o=ef(e,t);return a_(e,a,s,t),Zh(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function OS(e,t,n){const r={};return Zh(r,ef(e,t)),e.create(t,e.Fragment,r,n)}function DS(e,t){return t.value}function a_(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Zh(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function LS(e,t,n){return r;function r(i,s,a,o){const l=Array.isArray(a.children)?n:t;return o?l(s,a,o):l(s,a)}}function PS(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),u=yn(r);return t(i,s,a,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function MS(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Jh.call(t.properties,i)){const s=BS(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&vS.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function FS(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Ea(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Ea(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function ef(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:CS;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const l=i.get(u)||0;a=u+"-"+l,i.set(u,l+1)}}const o=s_(e,s,a);o!==void 0&&n.push(o)}return n}function BS(e,t,n){const r=Zu(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?GE(n):n_(n)),r.property==="style"){let i=typeof n=="object"?n:jS(e,String(n));return e.stylePropertyNameCase==="css"&&(i=US(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?WC[r.property]||r.property:r.attribute,n]}}function jS(e,t){try{return xS(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ct("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=i_+"#cannot-parse-style-attribute",i}}function o_(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=Cp(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=Cp(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Jh.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ea(e)}function Ea(e,t){const n=new ct("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=i_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function US(e){const t={};let n;for(n in e)Jh.call(e,n)&&(t[HS(n)]=e[n]);return t}function HS(e){let t=e.replace(SS,zS);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function zS(e){return"-"+e.toLowerCase()}const Jl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},WS={};function tf(e,t){const n=t||WS,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return u_(e,r,i)}function u_(e,t,n){if(VS(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Pp(e.children,t,n)}return Array.isArray(e)?Pp(e,t,n):""}function Pp(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=u_(e[i],t,n);return r.join("")}function VS(e){return!!(e&&typeof e=="object")}const Mp=document.createElement("i");function nf(e){const t="&"+e+";";Mp.innerHTML=t;const n=Mp.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Mt(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function zt(e,t){return e.length>0?(Mt(e,e.length,0,t),e):t}const Fp={}.hasOwnProperty;function l_(e){const t={};let n=-1;for(;++n<e.length;)YS(t,e[n]);return t}function YS(e,t){let n;for(n in t){const i=(Fp.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){Fp.call(i,a)||(i[a]=[]);const o=s[a];$S(i[a],Array.isArray(o)?o:o?[o]:[])}}}function $S(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Mt(e,0,0,r)}function c_(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function on(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ft=br(/[A-Za-z]/),ut=br(/[\dA-Za-z]/),QS=br(/[#-'*+\--9=?A-Z^-~]/);function fu(e){return e!==null&&(e<32||e===127)}const bd=br(/\d/),GS=br(/[\dA-Fa-f]/),qS=br(/[!-/:-@[-`{-~]/);function X(e){return e!==null&&e<-2}function xe(e){return e!==null&&(e<0||e===32)}function le(e){return e===-2||e===-1||e===32}const nl=br(/\p{P}|\p{S}/u),Yr=br(/\s/);function br(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Zi(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&ut(e.charCodeAt(n+1))&&ut(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function pe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return le(u)?(e.enter(n),o(u)):t(u)}function o(u){return le(u)&&s++<i?(e.consume(u),o):(e.exit(n),t(u))}}const KS={tokenize:XS};function XS(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),pe(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return X(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const JS={tokenize:ZS},Bp={tokenize:eN};function ZS(e){const t=this,n=[];let r=0,i,s,a;return o;function o(_){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,u,l)(_)}return l(_)}function u(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&T();const k=t.events.length;let O=k,v;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){v=t.events[O][1].end;break}E(r);let D=k;for(;D<t.events.length;)t.events[D][1].end={...v},D++;return Mt(t.events,O+1,0,t.events.slice(k)),t.events.length=D,l(_)}return o(_)}function l(_){if(r===n.length){if(!i)return p(_);if(i.currentConstruct&&i.currentConstruct.concrete)return g(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Bp,h,d)(_)}function h(_){return i&&T(),E(r),p(_)}function d(_){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(_)}function p(_){return t.containerState={},e.attempt(Bp,m,g)(_)}function m(_){return r++,n.push([t.currentConstruct,t.containerState]),p(_)}function g(_){if(_===null){i&&T(),E(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(_)}function x(_){if(_===null){I(e.exit("chunkFlow"),!0),E(0),e.consume(_);return}return X(_)?(e.consume(_),I(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(_),x)}function I(_,k){const O=t.sliceStream(_);if(k&&O.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(O),t.parser.lazy[_.start.line]){let v=i.events.length;for(;v--;)if(i.events[v][1].start.offset<a&&(!i.events[v][1].end||i.events[v][1].end.offset>a))return;const D=t.events.length;let B=D,G,A;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(G){A=t.events[B][1].end;break}G=!0}for(E(r),v=D;v<t.events.length;)t.events[v][1].end={...A},v++;Mt(t.events,B+1,0,t.events.slice(D)),t.events.length=v}}function E(_){let k=n.length;for(;k-- >_;){const O=n[k];t.containerState=O[1],O[0].exit.call(t,e)}n.length=_}function T(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function eN(e,t,n){return pe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ji(e){if(e===null||xe(e)||Yr(e))return 1;if(nl(e))return 2}function rl(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Cd={name:"attention",resolveAll:tN,tokenize:nN};function tN(e,t){let n=-1,r,i,s,a,o,u,l,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},p={...e[n][1].start};jp(d,-u),jp(p,u),a={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=zt(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=zt(l,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),l=zt(l,rl(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=zt(l,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,l=zt(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Mt(e,r-1,n-r+3,l),n=r+l.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function nN(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ji(r);let s;return a;function a(u){return s=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===s)return e.consume(u),o;const l=e.exit("attentionSequence"),h=ji(u),d=!h||h===2&&i||n.includes(u),p=!i||i===2&&h||n.includes(r);return l._open=!!(s===42?d:d&&(i||!p)),l._close=!!(s===42?p:p&&(h||!d)),t(u)}}function jp(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const rN={name:"autolink",tokenize:iN};function iN(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return ft(m)?(e.consume(m),a):m===64?n(m):l(m)}function a(m){return m===43||m===45||m===46||ut(m)?(r=1,o(m)):l(m)}function o(m){return m===58?(e.consume(m),r=0,u):(m===43||m===45||m===46||ut(m))&&r++<32?(e.consume(m),o):(r=0,l(m))}function u(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||fu(m)?n(m):(e.consume(m),u)}function l(m){return m===64?(e.consume(m),h):QS(m)?(e.consume(m),l):n(m)}function h(m){return ut(m)?d(m):n(m)}function d(m){return m===46?(e.consume(m),r=0,h):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||ut(m))&&r++<63){const g=m===45?p:d;return e.consume(m),g}return n(m)}}const Fa={partial:!0,tokenize:sN};function sN(e,t,n){return r;function r(s){return le(s)?pe(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||X(s)?t(s):n(s)}}const d_={continuation:{tokenize:oN},exit:uN,name:"blockQuote",tokenize:aN};function aN(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return le(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function oN(e,t,n){const r=this;return i;function i(a){return le(a)?pe(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(d_,t,n)(a)}}function uN(e){e.exit("blockQuote")}const h_={name:"characterEscape",tokenize:lN};function lN(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return qS(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const f_={name:"characterReference",tokenize:cN};function cN(e,t,n){const r=this;let i=0,s,a;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,a=ut,h(d))}function l(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=GS,h):(e.enter("characterReferenceValue"),s=7,a=bd,h(d))}function h(d){if(d===59&&i){const p=e.exit("characterReferenceValue");return a===ut&&!nf(r.sliceSerialize(p))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&i++<s?(e.consume(d),h):n(d)}}const Up={partial:!0,tokenize:hN},Hp={concrete:!0,name:"codeFenced",tokenize:dN};function dN(e,t,n){const r=this,i={partial:!0,tokenize:O};let s=0,a=0,o;return u;function u(v){return l(v)}function l(v){const D=r.events[r.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,o=v,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(v)}function h(v){return v===o?(a++,e.consume(v),h):a<3?n(v):(e.exit("codeFencedFenceSequence"),le(v)?pe(e,d,"whitespace")(v):d(v))}function d(v){return v===null||X(v)?(e.exit("codeFencedFence"),r.interrupt?t(v):e.check(Up,x,k)(v)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||X(v)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(v)):le(v)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),pe(e,m,"whitespace")(v)):v===96&&v===o?n(v):(e.consume(v),p)}function m(v){return v===null||X(v)?d(v):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||X(v)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(v)):v===96&&v===o?n(v):(e.consume(v),g)}function x(v){return e.attempt(i,k,I)(v)}function I(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),E}function E(v){return s>0&&le(v)?pe(e,T,"linePrefix",s+1)(v):T(v)}function T(v){return v===null||X(v)?e.check(Up,x,k)(v):(e.enter("codeFlowValue"),_(v))}function _(v){return v===null||X(v)?(e.exit("codeFlowValue"),T(v)):(e.consume(v),_)}function k(v){return e.exit("codeFenced"),t(v)}function O(v,D,B){let G=0;return A;function A(ne){return v.enter("lineEnding"),v.consume(ne),v.exit("lineEnding"),P}function P(ne){return v.enter("codeFencedFence"),le(ne)?pe(v,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):Y(ne)}function Y(ne){return ne===o?(v.enter("codeFencedFenceSequence"),Z(ne)):B(ne)}function Z(ne){return ne===o?(G++,v.consume(ne),Z):G>=a?(v.exit("codeFencedFenceSequence"),le(ne)?pe(v,de,"whitespace")(ne):de(ne)):B(ne)}function de(ne){return ne===null||X(ne)?(v.exit("codeFencedFence"),D(ne)):B(ne)}}}function hN(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Zl={name:"codeIndented",tokenize:pN},fN={partial:!0,tokenize:mN};function pN(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),pe(e,s,"linePrefix",4+1)(l)}function s(l){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(l):n(l)}function a(l){return l===null?u(l):X(l)?e.attempt(fN,a,u)(l):(e.enter("codeFlowValue"),o(l))}function o(l){return l===null||X(l)?(e.exit("codeFlowValue"),a(l)):(e.consume(l),o)}function u(l){return e.exit("codeIndented"),t(l)}}function mN(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):X(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):pe(e,s,"linePrefix",4+1)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):X(a)?i(a):n(a)}}const gN={name:"codeText",previous:_N,resolve:EN,tokenize:TN};function EN(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function _N(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TN(e,t,n){let r=0,i,s;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),r++,o):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(s=e.enter("codeTextSequence"),i=0,h(d)):X(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(d))}function l(d){return d===null||d===32||d===96||X(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),l)}function h(d){return d===96?(e.consume(d),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",l(d))}}class yN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Es(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Es(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Es(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Es(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Es(this.left,n.reverse())}}}function Es(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function p_(e){const t={};let n=-1,r,i,s,a,o,u,l;const h=new yN(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,xN(h,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},o=h.slice(i,n),o.unshift(r),h.splice(i,n-i+1,o))}}return Mt(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!l}function xN(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,u=[],l={};let h,d,p=-1,m=n,g=0,x=0;const I=[x];for(;m;){for(;e.get(++i)[1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),d&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(x=p+1,I.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):I.pop(),p=I.length;p--;){const E=o.slice(I[p],I[p+1]),T=s.pop();u.push([T,T+E.length-1]),e.splice(T,2,E)}for(u.reverse(),p=-1;++p<u.length;)l[g+u[p][0]]=g+u[p][1],g+=u[p][1]-u[p][0]-1;return l}const bN={resolve:SN,tokenize:NN},CN={partial:!0,tokenize:vN};function SN(e){return p_(e),e}function NN(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):X(o)?e.check(CN,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function vN(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),pe(e,s,"linePrefix")}function s(a){if(a===null||X(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function m_(e,t,n,r,i,s,a,o,u){const l=u||Number.POSITIVE_INFINITY;let h=0;return d;function d(E){return E===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(E),e.exit(s),p):E===null||E===32||E===41||fu(E)?n(E):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(E))}function p(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===62?(e.exit("chunkString"),e.exit(o),p(E)):E===null||E===60||X(E)?n(E):(e.consume(E),E===92?g:m)}function g(E){return E===60||E===62||E===92?(e.consume(E),m):m(E)}function x(E){return!h&&(E===null||E===41||xe(E))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(E)):h<l&&E===40?(e.consume(E),h++,x):E===41?(e.consume(E),h--,x):E===null||E===32||E===40||fu(E)?n(E):(e.consume(E),E===92?I:x)}function I(E){return E===40||E===41||E===92?(e.consume(E),x):x(E)}}function g_(e,t,n,r,i,s){const a=this;let o=0,u;return l;function l(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),h}function h(m){return o>999||m===null||m===91||m===93&&!u||m===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):X(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||X(m)||o++>999?(e.exit("chunkString"),h(m)):(e.consume(m),u||(u=!le(m)),m===92?p:d)}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,d):d(m)}}function E_(e,t,n,r,i,s){let a;return o;function o(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),a=p===40?41:p,u):n(p)}function u(p){return p===a?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),l(p))}function l(p){return p===a?(e.exit(s),u(a)):p===null?n(p):X(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),pe(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===a||p===null||X(p)?(e.exit("chunkString"),l(p)):(e.consume(p),p===92?d:h)}function d(p){return p===a||p===92?(e.consume(p),h):h(p)}}function Hs(e,t){let n;return r;function r(i){return X(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):le(i)?pe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const kN={name:"definition",tokenize:AN},IN={partial:!0,tokenize:wN};function AN(e,t,n){const r=this;let i;return s;function s(m){return e.enter("definition"),a(m)}function a(m){return g_.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=on(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),u):n(m)}function u(m){return xe(m)?Hs(e,l)(m):l(m)}function l(m){return m_(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return e.attempt(IN,d,d)(m)}function d(m){return le(m)?pe(e,p,"whitespace")(m):p(m)}function p(m){return m===null||X(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function wN(e,t,n){return r;function r(o){return xe(o)?Hs(e,i)(o):n(o)}function i(o){return E_(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return le(o)?pe(e,a,"whitespace")(o):a(o)}function a(o){return o===null||X(o)?t(o):n(o)}}const RN={name:"hardBreakEscape",tokenize:ON};function ON(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return X(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const DN={name:"headingAtx",resolve:LN,tokenize:PN};function LN(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Mt(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function PN(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(e.consume(h),a):h===null||xe(h)?(e.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||X(h)?(e.exit("atxHeading"),t(h)):le(h)?pe(e,o,"whitespace")(h):(e.enter("atxHeadingText"),l(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),o(h))}function l(h){return h===null||h===35||xe(h)?(e.exit("atxHeadingText"),o(h)):(e.consume(h),l)}}const MN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zp=["pre","script","style","textarea"],FN={concrete:!0,name:"htmlFlow",resolveTo:UN,tokenize:HN},BN={partial:!0,tokenize:WN},jN={partial:!0,tokenize:zN};function UN(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function HN(e,t,n){const r=this;let i,s,a,o,u;return l;function l(N){return h(N)}function h(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),d}function d(N){return N===33?(e.consume(N),p):N===47?(e.consume(N),s=!0,x):N===63?(e.consume(N),i=3,r.interrupt?t:C):ft(N)?(e.consume(N),a=String.fromCharCode(N),I):n(N)}function p(N){return N===45?(e.consume(N),i=2,m):N===91?(e.consume(N),i=5,o=0,g):ft(N)?(e.consume(N),i=4,r.interrupt?t:C):n(N)}function m(N){return N===45?(e.consume(N),r.interrupt?t:C):n(N)}function g(N){const Be="CDATA[";return N===Be.charCodeAt(o++)?(e.consume(N),o===Be.length?r.interrupt?t:Y:g):n(N)}function x(N){return ft(N)?(e.consume(N),a=String.fromCharCode(N),I):n(N)}function I(N){if(N===null||N===47||N===62||xe(N)){const Be=N===47,wt=a.toLowerCase();return!Be&&!s&&zp.includes(wt)?(i=1,r.interrupt?t(N):Y(N)):MN.includes(a.toLowerCase())?(i=6,Be?(e.consume(N),E):r.interrupt?t(N):Y(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?T(N):_(N))}return N===45||ut(N)?(e.consume(N),a+=String.fromCharCode(N),I):n(N)}function E(N){return N===62?(e.consume(N),r.interrupt?t:Y):n(N)}function T(N){return le(N)?(e.consume(N),T):A(N)}function _(N){return N===47?(e.consume(N),A):N===58||N===95||ft(N)?(e.consume(N),k):le(N)?(e.consume(N),_):A(N)}function k(N){return N===45||N===46||N===58||N===95||ut(N)?(e.consume(N),k):O(N)}function O(N){return N===61?(e.consume(N),v):le(N)?(e.consume(N),O):_(N)}function v(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),u=N,D):le(N)?(e.consume(N),v):B(N)}function D(N){return N===u?(e.consume(N),u=null,G):N===null||X(N)?n(N):(e.consume(N),D)}function B(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||xe(N)?O(N):(e.consume(N),B)}function G(N){return N===47||N===62||le(N)?_(N):n(N)}function A(N){return N===62?(e.consume(N),P):n(N)}function P(N){return N===null||X(N)?Y(N):le(N)?(e.consume(N),P):n(N)}function Y(N){return N===45&&i===2?(e.consume(N),Te):N===60&&i===1?(e.consume(N),Oe):N===62&&i===4?(e.consume(N),he):N===63&&i===3?(e.consume(N),C):N===93&&i===5?(e.consume(N),K):X(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(BN,Ee,Z)(N)):N===null||X(N)?(e.exit("htmlFlowData"),Z(N)):(e.consume(N),Y)}function Z(N){return e.check(jN,de,Ee)(N)}function de(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),ne}function ne(N){return N===null||X(N)?Z(N):(e.enter("htmlFlowData"),Y(N))}function Te(N){return N===45?(e.consume(N),C):Y(N)}function Oe(N){return N===47?(e.consume(N),a="",W):Y(N)}function W(N){if(N===62){const Be=a.toLowerCase();return zp.includes(Be)?(e.consume(N),he):Y(N)}return ft(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),W):Y(N)}function K(N){return N===93?(e.consume(N),C):Y(N)}function C(N){return N===62?(e.consume(N),he):N===45&&i===2?(e.consume(N),C):Y(N)}function he(N){return N===null||X(N)?(e.exit("htmlFlowData"),Ee(N)):(e.consume(N),he)}function Ee(N){return e.exit("htmlFlow"),t(N)}}function zN(e,t,n){const r=this;return i;function i(a){return X(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function WN(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Fa,t,n)}}const VN={name:"htmlText",tokenize:YN};function YN(e,t,n){const r=this;let i,s,a;return o;function o(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),u}function u(C){return C===33?(e.consume(C),l):C===47?(e.consume(C),O):C===63?(e.consume(C),_):ft(C)?(e.consume(C),B):n(C)}function l(C){return C===45?(e.consume(C),h):C===91?(e.consume(C),s=0,g):ft(C)?(e.consume(C),T):n(C)}function h(C){return C===45?(e.consume(C),m):n(C)}function d(C){return C===null?n(C):C===45?(e.consume(C),p):X(C)?(a=d,Oe(C)):(e.consume(C),d)}function p(C){return C===45?(e.consume(C),m):d(C)}function m(C){return C===62?Te(C):C===45?p(C):d(C)}function g(C){const he="CDATA[";return C===he.charCodeAt(s++)?(e.consume(C),s===he.length?x:g):n(C)}function x(C){return C===null?n(C):C===93?(e.consume(C),I):X(C)?(a=x,Oe(C)):(e.consume(C),x)}function I(C){return C===93?(e.consume(C),E):x(C)}function E(C){return C===62?Te(C):C===93?(e.consume(C),E):x(C)}function T(C){return C===null||C===62?Te(C):X(C)?(a=T,Oe(C)):(e.consume(C),T)}function _(C){return C===null?n(C):C===63?(e.consume(C),k):X(C)?(a=_,Oe(C)):(e.consume(C),_)}function k(C){return C===62?Te(C):_(C)}function O(C){return ft(C)?(e.consume(C),v):n(C)}function v(C){return C===45||ut(C)?(e.consume(C),v):D(C)}function D(C){return X(C)?(a=D,Oe(C)):le(C)?(e.consume(C),D):Te(C)}function B(C){return C===45||ut(C)?(e.consume(C),B):C===47||C===62||xe(C)?G(C):n(C)}function G(C){return C===47?(e.consume(C),Te):C===58||C===95||ft(C)?(e.consume(C),A):X(C)?(a=G,Oe(C)):le(C)?(e.consume(C),G):Te(C)}function A(C){return C===45||C===46||C===58||C===95||ut(C)?(e.consume(C),A):P(C)}function P(C){return C===61?(e.consume(C),Y):X(C)?(a=P,Oe(C)):le(C)?(e.consume(C),P):G(C)}function Y(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,Z):X(C)?(a=Y,Oe(C)):le(C)?(e.consume(C),Y):(e.consume(C),de)}function Z(C){return C===i?(e.consume(C),i=void 0,ne):C===null?n(C):X(C)?(a=Z,Oe(C)):(e.consume(C),Z)}function de(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||xe(C)?G(C):(e.consume(C),de)}function ne(C){return C===47||C===62||xe(C)?G(C):n(C)}function Te(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function Oe(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),W}function W(C){return le(C)?pe(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):K(C)}function K(C){return e.enter("htmlTextData"),a(C)}}const rf={name:"labelEnd",resolveAll:qN,resolveTo:KN,tokenize:XN},$N={tokenize:JN},QN={tokenize:ZN},GN={tokenize:ev};function qN(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Mt(e,0,e.length,n),e}function KN(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},l={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",u,t],["enter",l,t]],o=zt(o,e.slice(s+1,s+r+3)),o=zt(o,[["enter",h,t]]),o=zt(o,rl(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=zt(o,[["exit",h,t],e[a-2],e[a-1],["exit",l,t]]),o=zt(o,e.slice(a+1)),o=zt(o,[["exit",u,t]]),Mt(e,s,e.length,o),e}function XN(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(p){return s?s._inactive?d(p):(a=r.parser.defined.includes(on(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),u):n(p)}function u(p){return p===40?e.attempt($N,h,a?h:d)(p):p===91?e.attempt(QN,h,a?l:d)(p):a?h(p):d(p)}function l(p){return e.attempt(GN,h,d)(p)}function h(p){return t(p)}function d(p){return s._balanced=!0,n(p)}}function JN(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return xe(d)?Hs(e,s)(d):s(d)}function s(d){return d===41?h(d):m_(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return xe(d)?Hs(e,u)(d):h(d)}function o(d){return n(d)}function u(d){return d===34||d===39||d===40?E_(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function l(d){return xe(d)?Hs(e,h)(d):h(d)}function h(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function ZN(e,t,n){const r=this;return i;function i(o){return g_.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(on(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function ev(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const tv={name:"labelStartImage",resolveAll:rf.resolveAll,tokenize:nv};function nv(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const rv={name:"labelStartLink",resolveAll:rf.resolveAll,tokenize:iv};function iv(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const ec={name:"lineEnding",tokenize:sv};function sv(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),pe(e,t,"linePrefix")}}const Mo={name:"thematicBreak",tokenize:av};function av(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),a(l)}function a(l){return i=l,o(l)}function o(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||X(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),le(l)?pe(e,o,"whitespace")(l):o(l))}}const yt={continuation:{tokenize:cv},exit:hv,name:"list",tokenize:lv},ov={partial:!0,tokenize:fv},uv={partial:!0,tokenize:dv};function lv(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:bd(m)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Mo,n,l)(m):l(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(m)}return n(m)}function u(m){return bd(m)&&++a<10?(e.consume(m),u):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),l(m)):n(m)}function l(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Fa,r.interrupt?n:h,e.attempt(ov,p,d))}function h(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function d(m){return le(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function cv(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Fa,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pe(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!le(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(uv,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,pe(e,e.attempt(yt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function dv(e,t,n){const r=this;return pe(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function hv(e){e.exit(this.containerState.type)}function fv(e,t,n){const r=this;return pe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const a=r.events[r.events.length-1];return!le(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Wp={name:"setextUnderline",resolveTo:pv,tokenize:mv};function pv(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function mv(e,t,n){const r=this;let i;return s;function s(l){let h=r.events.length,d;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){d=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=l,a(l)):n(l)}function a(l){return e.enter("setextHeadingLineSequence"),o(l)}function o(l){return l===i?(e.consume(l),o):(e.exit("setextHeadingLineSequence"),le(l)?pe(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||X(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const gv={tokenize:Ev};function Ev(e){const t=this,n=e.attempt(Fa,r,e.attempt(this.parser.constructs.flowInitial,i,pe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(bN,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const _v={resolveAll:T_()},Tv=__("string"),yv=__("text");function __(e){return{resolveAll:T_(e==="text"?xv:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(h){return l(h)?s(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return l(h)?(n.exit("data"),s(h)):(n.consume(h),u)}function l(h){if(h===null)return!0;const d=i[h];let p=-1;if(d)for(;++p<d.length;){const m=d[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function T_(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function xv(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(a=l.length;l.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(l===-2)u=!0,o++;else if(l!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const l={type:n===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...l.start},r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}const bv={42:yt,43:yt,45:yt,48:yt,49:yt,50:yt,51:yt,52:yt,53:yt,54:yt,55:yt,56:yt,57:yt,62:d_},Cv={91:kN},Sv={[-2]:Zl,[-1]:Zl,32:Zl},Nv={35:DN,42:Mo,45:[Wp,Mo],60:FN,61:Wp,95:Mo,96:Hp,126:Hp},vv={38:f_,92:h_},kv={[-5]:ec,[-4]:ec,[-3]:ec,33:tv,38:f_,42:Cd,60:[rN,VN],91:rv,92:[RN,h_],93:rf,95:Cd,96:gN},Iv={null:[Cd,_v]},Av={null:[42,95]},wv={null:[]},Rv=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Av,contentInitial:Cv,disable:wv,document:bv,flow:Nv,flowInitial:Sv,insideSpan:Iv,string:vv,text:kv},Symbol.toStringTag,{value:"Module"}));function Ov(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const u={attempt:D(O),check:D(v),consume:T,enter:_,exit:k,interrupt:D(v,{interrupt:!0})},l={code:null,containerState:{},defineSkip:x,events:[],now:g,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:d};let h=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function d(P){return a=zt(a,P),I(),a[a.length-1]!==null?[]:(B(t,0),l.events=rl(s,l.events,l),l.events)}function p(P,Y){return Lv(m(P),Y)}function m(P){return Dv(a,P)}function g(){const{_bufferIndex:P,_index:Y,line:Z,column:de,offset:ne}=r;return{_bufferIndex:P,_index:Y,line:Z,column:de,offset:ne}}function x(P){i[P.line]=P.column,A()}function I(){let P;for(;r._index<a.length;){const Y=a[r._index];if(typeof Y=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<Y.length;)E(Y.charCodeAt(r._bufferIndex));else E(Y)}}function E(P){h=h(P)}function T(P){X(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,A()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=P}function _(P,Y){const Z=Y||{};return Z.type=P,Z.start=g(),l.events.push(["enter",Z,l]),o.push(Z),Z}function k(P){const Y=o.pop();return Y.end=g(),l.events.push(["exit",Y,l]),Y}function O(P,Y){B(P,Y.from)}function v(P,Y){Y.restore()}function D(P,Y){return Z;function Z(de,ne,Te){let Oe,W,K,C;return Array.isArray(de)?Ee(de):"tokenize"in de?Ee([de]):he(de);function he(M){return q;function q(ee){const je=ee!==null&&M[ee],_t=ee!==null&&M.null,qa=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(_t)?_t:_t?[_t]:[]];return Ee(qa)(ee)}}function Ee(M){return Oe=M,W=0,M.length===0?Te:N(M[W])}function N(M){return q;function q(ee){return C=G(),K=M,M.partial||(l.currentConstruct=M),M.name&&l.parser.constructs.disable.null.includes(M.name)?wt():M.tokenize.call(Y?Object.assign(Object.create(l),Y):l,u,Be,wt)(ee)}}function Be(M){return P(K,C),ne}function wt(M){return C.restore(),++W<Oe.length?N(Oe[W]):Te}}}function B(P,Y){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&Mt(l.events,Y,l.events.length-Y,P.resolve(l.events.slice(Y),l)),P.resolveTo&&(l.events=P.resolveTo(l.events,l))}function G(){const P=g(),Y=l.previous,Z=l.currentConstruct,de=l.events.length,ne=Array.from(o);return{from:de,restore:Te};function Te(){r=P,l.previous=Y,l.currentConstruct=Z,l.events.length=de,o=ne,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Dv(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function Lv(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function Pv(e){const r={constructs:l_([Rv,...(e||{}).extensions||[]]),content:i(KS),defined:[],document:i(JS),flow:i(gv),lazy:{},string:i(Tv),text:i(yv)};return r;function i(s){return a;function a(o){return Ov(r,s,o)}}}function Mv(e){for(;!p_(e););return e}const Vp=/[\0\t\n\r]/g;function Fv(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const u=[];let l,h,d,p,m;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Vp.lastIndex=d,l=Vp.exec(s),p=l&&l.index!==void 0?l.index:s.length,m=s.charCodeAt(p),!l){t=s.slice(d);break}if(m===10&&d===p&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<p&&(u.push(s.slice(d,p)),e+=p-d),m){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}d=p+1}return o&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const Bv=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function jv(e){return e.replace(Bv,Uv)}function Uv(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return c_(n.slice(s?2:1),s?16:10)}return nf(n)||e}const y_={}.hasOwnProperty;function Hv(e,t,n){return typeof t!="string"&&(n=t,t=void 0),zv(n)(Mv(Pv(n).document().write(Fv()(e,t,!0))))}function zv(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(r0),autolinkProtocol:G,autolinkEmail:G,atxHeading:s(e0),blockQuote:s(_t),characterEscape:G,characterReference:G,codeFenced:s(qa),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(qa,a),codeText:s(Cx,a),codeTextData:G,data:G,codeFlowValue:G,definition:s(Sx),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Nx),hardBreakEscape:s(t0),hardBreakTrailing:s(t0),htmlFlow:s(n0,a),htmlFlowData:G,htmlText:s(n0,a),htmlTextData:G,image:s(vx),label:a,link:s(r0),listItem:s(kx),listItemValue:p,listOrdered:s(i0,d),listUnordered:s(i0),paragraph:s(Ix),reference:N,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(e0),strong:s(Ax),thematicBreak:s(Rx)},exit:{atxHeading:u(),atxHeadingSequence:O,autolink:u(),autolinkEmail:je,autolinkProtocol:ee,blockQuote:u(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:wt,characterReferenceMarkerNumeric:wt,characterReferenceValue:M,characterReference:q,codeFenced:u(I),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:A,codeIndented:u(E),codeText:u(ne),codeTextData:A,data:A,definition:u(),definitionDestinationString:k,definitionLabelString:T,definitionTitleString:_,emphasis:u(),hardBreakEscape:u(Y),hardBreakTrailing:u(Y),htmlFlow:u(Z),htmlFlowData:A,htmlText:u(de),htmlTextData:A,image:u(Oe),label:K,labelText:W,lineEnding:P,link:u(Te),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Be,resourceDestinationString:C,resourceTitleString:he,resource:Ee,setextHeading:u(B),setextHeadingLineSequence:D,setextHeadingText:v,strong:u(),thematicBreak:u()}};x_(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(L){let V={type:"root",children:[]};const te={stack:[V],tokenStack:[],config:t,enter:o,exit:l,buffer:a,resume:h,data:n},fe=[];let ye=-1;for(;++ye<L.length;)if(L[ye][1].type==="listOrdered"||L[ye][1].type==="listUnordered")if(L[ye][0]==="enter")fe.push(ye);else{const Kt=fe.pop();ye=i(L,Kt,ye)}for(ye=-1;++ye<L.length;){const Kt=t[L[ye][0]];y_.call(Kt,L[ye][1].type)&&Kt[L[ye][1].type].call(Object.assign({sliceSerialize:L[ye][2].sliceSerialize},te),L[ye][1])}if(te.tokenStack.length>0){const Kt=te.tokenStack[te.tokenStack.length-1];(Kt[1]||Yp).call(te,void 0,Kt[0])}for(V.position={start:Vn(L.length>0?L[0][1].start:{line:1,column:1,offset:0}),end:Vn(L.length>0?L[L.length-2][1].end:{line:1,column:1,offset:0})},ye=-1;++ye<t.transforms.length;)V=t.transforms[ye](V)||V;return V}function i(L,V,te){let fe=V-1,ye=-1,Kt=!1,Cr,Cn,os,us;for(;++fe<=te;){const Rt=L[fe];switch(Rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Rt[0]==="enter"?ye++:ye--,us=void 0;break}case"lineEndingBlank":{Rt[0]==="enter"&&(Cr&&!us&&!ye&&!os&&(os=fe),us=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:us=void 0}if(!ye&&Rt[0]==="enter"&&Rt[1].type==="listItemPrefix"||ye===-1&&Rt[0]==="exit"&&(Rt[1].type==="listUnordered"||Rt[1].type==="listOrdered")){if(Cr){let ti=fe;for(Cn=void 0;ti--;){const Sn=L[ti];if(Sn[1].type==="lineEnding"||Sn[1].type==="lineEndingBlank"){if(Sn[0]==="exit")continue;Cn&&(L[Cn][1].type="lineEndingBlank",Kt=!0),Sn[1].type="lineEnding",Cn=ti}else if(!(Sn[1].type==="linePrefix"||Sn[1].type==="blockQuotePrefix"||Sn[1].type==="blockQuotePrefixWhitespace"||Sn[1].type==="blockQuoteMarker"||Sn[1].type==="listItemIndent"))break}os&&(!Cn||os<Cn)&&(Cr._spread=!0),Cr.end=Object.assign({},Cn?L[Cn][1].start:Rt[1].end),L.splice(Cn||fe,0,["exit",Cr,Rt[2]]),fe++,te++}if(Rt[1].type==="listItemPrefix"){const ti={type:"listItem",_spread:!1,start:Object.assign({},Rt[1].start),end:void 0};Cr=ti,L.splice(fe,0,["enter",ti,Rt[2]]),fe++,te++,os=void 0,us=!0}}}return L[V][1]._spread=Kt,te}function s(L,V){return te;function te(fe){o.call(this,L(fe),fe),V&&V.call(this,fe)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(L,V,te){this.stack[this.stack.length-1].children.push(L),this.stack.push(L),this.tokenStack.push([V,te||void 0]),L.position={start:Vn(V.start),end:void 0}}function u(L){return V;function V(te){L&&L.call(this,te),l.call(this,te)}}function l(L,V){const te=this.stack.pop(),fe=this.tokenStack.pop();if(fe)fe[0].type!==L.type&&(V?V.call(this,L,fe[0]):(fe[1]||Yp).call(this,L,fe[0]));else throw new Error("Cannot close `"+L.type+"` ("+Us({start:L.start,end:L.end})+"): its not open");te.position.end=Vn(L.end)}function h(){return tf(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(L){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(L),10),this.data.expectingFirstListItemValue=void 0}}function m(){const L=this.resume(),V=this.stack[this.stack.length-1];V.lang=L}function g(){const L=this.resume(),V=this.stack[this.stack.length-1];V.meta=L}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const L=this.resume(),V=this.stack[this.stack.length-1];V.value=L.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const L=this.resume(),V=this.stack[this.stack.length-1];V.value=L.replace(/(\r?\n|\r)$/g,"")}function T(L){const V=this.resume(),te=this.stack[this.stack.length-1];te.label=V,te.identifier=on(this.sliceSerialize(L)).toLowerCase()}function _(){const L=this.resume(),V=this.stack[this.stack.length-1];V.title=L}function k(){const L=this.resume(),V=this.stack[this.stack.length-1];V.url=L}function O(L){const V=this.stack[this.stack.length-1];if(!V.depth){const te=this.sliceSerialize(L).length;V.depth=te}}function v(){this.data.setextHeadingSlurpLineEnding=!0}function D(L){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(L).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function G(L){const te=this.stack[this.stack.length-1].children;let fe=te[te.length-1];(!fe||fe.type!=="text")&&(fe=wx(),fe.position={start:Vn(L.start),end:void 0},te.push(fe)),this.stack.push(fe)}function A(L){const V=this.stack.pop();V.value+=this.sliceSerialize(L),V.position.end=Vn(L.end)}function P(L){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const te=V.children[V.children.length-1];te.position.end=Vn(L.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(V.type)&&(G.call(this,L),A.call(this,L))}function Y(){this.data.atHardBreak=!0}function Z(){const L=this.resume(),V=this.stack[this.stack.length-1];V.value=L}function de(){const L=this.resume(),V=this.stack[this.stack.length-1];V.value=L}function ne(){const L=this.resume(),V=this.stack[this.stack.length-1];V.value=L}function Te(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=V,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function Oe(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=V,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function W(L){const V=this.sliceSerialize(L),te=this.stack[this.stack.length-2];te.label=jv(V),te.identifier=on(V).toLowerCase()}function K(){const L=this.stack[this.stack.length-1],V=this.resume(),te=this.stack[this.stack.length-1];if(this.data.inReference=!0,te.type==="link"){const fe=L.children;te.children=fe}else te.alt=V}function C(){const L=this.resume(),V=this.stack[this.stack.length-1];V.url=L}function he(){const L=this.resume(),V=this.stack[this.stack.length-1];V.title=L}function Ee(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function Be(L){const V=this.resume(),te=this.stack[this.stack.length-1];te.label=V,te.identifier=on(this.sliceSerialize(L)).toLowerCase(),this.data.referenceType="full"}function wt(L){this.data.characterReferenceType=L.type}function M(L){const V=this.sliceSerialize(L),te=this.data.characterReferenceType;let fe;te?(fe=c_(V,te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):fe=nf(V);const ye=this.stack[this.stack.length-1];ye.value+=fe}function q(L){const V=this.stack.pop();V.position.end=Vn(L.end)}function ee(L){A.call(this,L);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(L)}function je(L){A.call(this,L);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(L)}function _t(){return{type:"blockquote",children:[]}}function qa(){return{type:"code",lang:null,meta:null,value:""}}function Cx(){return{type:"inlineCode",value:""}}function Sx(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Nx(){return{type:"emphasis",children:[]}}function e0(){return{type:"heading",depth:0,children:[]}}function t0(){return{type:"break"}}function n0(){return{type:"html",value:""}}function vx(){return{type:"image",title:null,url:"",alt:null}}function r0(){return{type:"link",title:null,url:"",children:[]}}function i0(L){return{type:"list",ordered:L.type==="listOrdered",start:null,spread:L._spread,children:[]}}function kx(L){return{type:"listItem",spread:L._spread,checked:null,children:[]}}function Ix(){return{type:"paragraph",children:[]}}function Ax(){return{type:"strong",children:[]}}function wx(){return{type:"text",value:""}}function Rx(){return{type:"thematicBreak"}}}function Vn(e){return{line:e.line,column:e.column,offset:e.offset}}function x_(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?x_(e,r):Wv(e,r)}}function Wv(e,t){let n;for(n in t)if(y_.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Yp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Us({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Us({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Us({start:t.start,end:t.end})+") is still open")}function Vv(e){const t=this;t.parser=n;function n(r){return Hv(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Yv(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function $v(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Qv(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function Gv(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qv(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Kv(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Zi(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function Xv(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Jv(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function b_(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function Zv(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return b_(e,t);const i={src:Zi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function ek(e,t){const n={src:Zi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function tk(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function nk(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return b_(e,t);const i={href:Zi(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function rk(e,t){const n={href:Zi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ik(e,t,n){const r=e.all(t),i=n?sk(n):C_(t),s={},a=[];if(typeof t.checked=="boolean"){const h=r[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,l),e.applyData(t,l)}function sk(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=C_(n[r])}return t}function C_(e){const t=e.spread;return t??e.children.length>1}function ak(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function ok(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uk(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function lk(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ck(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=yn(t.children[1]),u=tl(t.children[t.children.length-1]);o&&u&&(a.position={start:o,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function dk(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let u=-1;const l=[];for(;++u<o;){const d=t.children[u],p={},m=a?a[u]:void 0;m&&(p.align=m);let g={type:"element",tagName:s,properties:p,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),l.push(g)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,h),e.applyData(t,h)}function hk(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const $p=9,Qp=32;function fk(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Gp(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Gp(t.slice(i),i>0,!1)),s.join("")}function Gp(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===$p||s===Qp;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===$p||s===Qp;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function pk(e,t){const n={type:"text",value:fk(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function mk(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const gk={blockquote:Yv,break:$v,code:Qv,delete:Gv,emphasis:qv,footnoteReference:Kv,heading:Xv,html:Jv,imageReference:Zv,image:ek,inlineCode:tk,linkReference:nk,link:rk,listItem:ik,list:ak,paragraph:ok,root:uk,strong:lk,table:ck,tableCell:hk,tableRow:dk,text:pk,thematicBreak:mk,toml:mo,yaml:mo,definition:mo,footnoteDefinition:mo};function mo(){}const S_=-1,il=0,zs=1,pu=2,sf=3,af=4,of=5,uf=6,N_=7,v_=8,qp=typeof self=="object"?self:globalThis,Ek=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case il:case S_:return n(a,i);case zs:{const o=n([],i);for(const u of a)o.push(r(u));return o}case pu:{const o=n({},i);for(const[u,l]of a)o[r(u)]=r(l);return o}case sf:return n(new Date(a),i);case af:{const{source:o,flags:u}=a;return n(new RegExp(o,u),i)}case of:{const o=n(new Map,i);for(const[u,l]of a)o.set(r(u),r(l));return o}case uf:{const o=n(new Set,i);for(const u of a)o.add(r(u));return o}case N_:{const{name:o,message:u}=a;return n(new qp[o](u),i)}case v_:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new qp[s](a),i)};return r},Kp=e=>Ek(new Map,e)(0),ri="",{toString:_k}={},{keys:Tk}=Object,_s=e=>{const t=typeof e;if(t!=="object"||!e)return[il,t];const n=_k.call(e).slice(8,-1);switch(n){case"Array":return[zs,ri];case"Object":return[pu,ri];case"Date":return[sf,ri];case"RegExp":return[af,ri];case"Map":return[of,ri];case"Set":return[uf,ri];case"DataView":return[zs,n]}return n.includes("Array")?[zs,n]:n.includes("Error")?[N_,n]:[pu,n]},go=([e,t])=>e===il&&(t==="function"||t==="symbol"),yk=(e,t,n,r)=>{const i=(a,o)=>{const u=r.push(a)-1;return n.set(o,u),u},s=a=>{if(n.has(a))return n.get(a);let[o,u]=_s(a);switch(o){case il:{let h=a;switch(u){case"bigint":o=v_,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([S_],a)}return i([o,h],a)}case zs:{if(u){let p=a;return u==="DataView"?p=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(p=new Uint8Array(a)),i([u,[...p]],a)}const h=[],d=i([o,h],a);for(const p of a)h.push(s(p));return d}case pu:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const h=[],d=i([o,h],a);for(const p of Tk(a))(e||!go(_s(a[p])))&&h.push([s(p),s(a[p])]);return d}case sf:return i([o,a.toISOString()],a);case af:{const{source:h,flags:d}=a;return i([o,{source:h,flags:d}],a)}case of:{const h=[],d=i([o,h],a);for(const[p,m]of a)(e||!(go(_s(p))||go(_s(m))))&&h.push([s(p),s(m)]);return d}case uf:{const h=[],d=i([o,h],a);for(const p of a)(e||!go(_s(p)))&&h.push(s(p));return d}}const{message:l}=a;return i([o,{name:u,message:l}],a)};return s},Xp=(e,{json:t,lossy:n}={})=>{const r=[];return yk(!(t||n),!!t,new Map,r)(e),r},Ui=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Kp(Xp(e,t)):structuredClone(e):(e,t)=>Kp(Xp(e,t));function xk(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function bk(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ck(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||xk,r=e.options.footnoteBackLabel||bk,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const h=e.all(l),d=String(l.identifier).toUpperCase(),p=Zi(d.toLowerCase());let m=0;const g=[],x=e.footnoteCounts.get(d);for(;x!==void 0&&++m<=x;){g.length>0&&g.push({type:"text",value:" "});let T=typeof n=="string"?n:n(u,m);typeof T=="string"&&(T={type:"text",value:T}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,m),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const I=h[h.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const T=I.children[I.children.length-1];T&&T.type==="text"?T.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...g)}else h.push(...g);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(h,!0)};e.patch(l,E),o.push(E)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ui(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const sl=function(e){if(e==null)return kk;if(typeof e=="function")return al(e);if(typeof e=="object")return Array.isArray(e)?Sk(e):Nk(e);if(typeof e=="string")return vk(e);throw new Error("Expected function, string, or object as test")};function Sk(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=sl(e[n]);return al(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Nk(e){const t=e;return al(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function vk(e){return al(t);function t(n){return n&&n.type===e}}function al(e){return t;function t(n,r,i){return!!(Ik(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function kk(){return!0}function Ik(e){return e!==null&&typeof e=="object"&&"type"in e}const k_=[],Ak=!0,Sd=!1,wk="skip";function I_(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=sl(i),a=r?-1:1;o(e,void 0,[])();function o(u,l,h){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(u.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=k_,g,x,I;if((!t||s(u,l,h[h.length-1]||void 0))&&(m=Rk(n(u,h)),m[0]===Sd))return m;if("children"in u&&u.children){const E=u;if(E.children&&m[0]!==wk)for(x=(r?E.children.length:-1)+a,I=h.concat(E);x>-1&&x<E.children.length;){const T=E.children[x];if(g=o(T,x,I)(),g[0]===Sd)return g;x=typeof g[1]=="number"?g[1]:x+a}}return m}}}function Rk(e){return Array.isArray(e)?e:typeof e=="number"?[Ak,e]:e==null?k_:[e]}function ol(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),I_(e,s,o,i);function o(u,l){const h=l[l.length-1],d=h?h.children.indexOf(u):void 0;return a(u,d,h)}}const Nd={}.hasOwnProperty,Ok={};function Dk(e,t){const n=t||Ok,r=new Map,i=new Map,s=new Map,a={...gk,...n.handlers},o={all:l,applyData:Pk,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:Lk,wrap:Fk};return ol(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?r:i,p=String(h.identifier).toUpperCase();d.has(p)||d.set(p,h)}}),o;function u(h,d){const p=h.type,m=o.handlers[p];if(Nd.call(o.handlers,p)&&m)return m(o,h,d);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in h){const{children:x,...I}=h,E=Ui(I);return E.children=o.all(h),E}return Ui(h)}return(o.options.unknownHandler||Mk)(o,h,d)}function l(h){const d=[];if("children"in h){const p=h.children;let m=-1;for(;++m<p.length;){const g=o.one(p[m],h);if(g){if(m&&p[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Jp(g.value)),!Array.isArray(g)&&g.type==="element")){const x=g.children[0];x&&x.type==="text"&&(x.value=Jp(x.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function Lk(e,t){e.position&&(t.position=bS(e))}function Pk(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Ui(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Mk(e,t){const n=t.data||{},r="value"in t&&!(Nd.call(n,"hProperties")||Nd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Fk(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Jp(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Zp(e,t){const n=Dk(e,t),r=n.one(e,void 0),i=Ck(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Bk(e,t){return e&&"run"in e?async function(n,r){const i=Zp(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Zp(n,{file:r,...e||t})}}function em(e){if(e)throw e}var Fo=Object.prototype.hasOwnProperty,A_=Object.prototype.toString,tm=Object.defineProperty,nm=Object.getOwnPropertyDescriptor,rm=function(t){return typeof Array.isArray=="function"?Array.isArray(t):A_.call(t)==="[object Array]"},im=function(t){if(!t||A_.call(t)!=="[object Object]")return!1;var n=Fo.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Fo.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Fo.call(t,i)},sm=function(t,n){tm&&n.name==="__proto__"?tm(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},am=function(t,n){if(n==="__proto__")if(Fo.call(t,n)){if(nm)return nm(t,n).value}else return;return t[n]},jk=function e(){var t,n,r,i,s,a,o=arguments[0],u=1,l=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},u=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=am(o,n),i=am(t,n),o!==i&&(h&&i&&(im(i)||(s=rm(i)))?(s?(s=!1,a=r&&rm(r)?r:[]):a=r&&im(r)?r:{},sm(o,{name:n,newValue:e(h,a,i)})):typeof i<"u"&&sm(o,{name:n,newValue:i}));return o};const tc=th(jk);function vd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Uk(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(u,...l){const h=e[++s];let d=-1;if(u){a(u);return}for(;++d<i.length;)(l[d]===null||l[d]===void 0)&&(l[d]=i[d]);i=l,h?Hk(h,o)(...l):a(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Hk(e,t){let n;return r;function r(...a){const o=e.length>a.length;let u;o&&a.push(i);try{u=e.apply(this,a)}catch(l){const h=l;if(o&&n)throw h;return i(h)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const pn={basename:zk,dirname:Wk,extname:Vk,join:Yk,sep:"/"};function zk(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ba(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function Wk(e){if(Ba(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Vk(e){Ba(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Yk(...e){let t=-1,n;for(;++t<e.length;)Ba(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":$k(n)}function $k(e){Ba(e);const t=e.codePointAt(0)===47;let n=Qk(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Qk(e,t){let n="",r=0,i=-1,s=0,a=-1,o,u;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Ba(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Gk={cwd:qk};function qk(){return"/"}function kd(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Kk(e){if(typeof e=="string")e=new URL(e);else if(!kd(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Xk(e)}function Xk(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const nc=["history","path","basename","stem","extname","dirname"];class w_{constructor(t){let n;t?kd(t)?n={path:t}:typeof t=="string"||Jk(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Gk.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<nc.length;){const s=nc[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)nc.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?pn.basename(this.path):void 0}set basename(t){ic(t,"basename"),rc(t,"basename"),this.path=pn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?pn.dirname(this.path):void 0}set dirname(t){om(this.basename,"dirname"),this.path=pn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?pn.extname(this.path):void 0}set extname(t){if(rc(t,"extname"),om(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){kd(t)&&(t=Kk(t)),ic(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?pn.basename(this.path,this.extname):void 0}set stem(t){ic(t,"stem"),rc(t,"stem"),this.path=pn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ct(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function rc(e,t){if(e&&e.includes(pn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pn.sep+"`")}function ic(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function om(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Jk(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Zk=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},e3={}.hasOwnProperty;class lf extends Zk{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Uk()}copy(){const t=new lf;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(tc(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(oc("data",this.frozen),this.namespace[t]=n,this):e3.call(this.namespace,t)&&this.namespace[t]||void 0:t?(oc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Eo(t),r=this.parser||this.Parser;return sc("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),sc("process",this.parser||this.Parser),ac("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Eo(t),u=r.parse(o);r.run(u,o,function(h,d,p){if(h||!d||!p)return l(h);const m=d,g=r.stringify(m,p);r3(g)?p.value=g:p.result=g,l(h,p)});function l(h,d){h||!d?a(h):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),sc("processSync",this.parser||this.Parser),ac("processSync",this.compiler||this.Compiler),this.process(t,i),lm("processSync","process",n),r;function i(s,a){n=!0,em(s),r=a}}run(t,n,r){um(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const u=Eo(n);i.run(t,u,l);function l(h,d,p){const m=d||t;h?o(h):a?a(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),lm("runSync","run",r),i;function s(a,o){em(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Eo(n),i=this.compiler||this.Compiler;return ac("stringify",i),um(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(oc("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[h,...d]=l;u(h,d)}else a(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function a(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(l.plugins),l.settings&&(i.settings=tc(!0,i.settings,l.settings))}function o(l){let h=-1;if(l!=null)if(Array.isArray(l))for(;++h<l.length;){const d=l[h];s(d)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,h){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===l){p=d;break}if(p===-1)r.push([l,...h]);else if(h.length>0){let[m,...g]=h;const x=r[p][1];vd(x)&&vd(m)&&(m=tc(!0,x,m)),r[p]=[l,m,...g]}}}}const t3=new lf().freeze();function sc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ac(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function oc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function um(e){if(!vd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function lm(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Eo(e){return n3(e)?e:new w_(e)}function n3(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function r3(e){return typeof e=="string"||i3(e)}function i3(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const s3="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",cm=[],dm={allowDangerousHtml:!0},a3=/^(https?|ircs?|mailto|xmpp)$/i,o3=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function R_(e){const t=u3(e),n=l3(e);return c3(t.runSync(t.parse(n),n),e)}function u3(e){const t=e.rehypePlugins||cm,n=e.remarkPlugins||cm,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...dm}:dm;return t3().use(Vv).use(n).use(Bk,r).use(t)}function l3(e){const t=e.children||"",n=new w_;return typeof t=="string"&&(n.value=t),n}function c3(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,u=t.urlTransform||d3;for(const h of o3)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+s3+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),ol(e,l),kS(e,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function l(h,d,p){if(h.type==="raw"&&p&&typeof d=="number")return a?p.children.splice(d,1):p.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let m;for(m in Jl)if(Object.hasOwn(Jl,m)&&Object.hasOwn(h.properties,m)){const g=h.properties[m],x=Jl[m];(x===null||x.includes(h.tagName))&&(h.properties[m]=u(String(g||""),m,h))}}if(h.type==="element"){let m=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!m&&r&&typeof d=="number"&&(m=!r(h,d,p)),m&&p&&typeof d=="number")return o&&h.children?p.children.splice(d,1,...h.children):p.children.splice(d,1),d}}}function d3(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||a3.test(e.slice(0,t))?e:""}function hm(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function h3(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function f3(e,t,n){const i=sl((n||{}).ignore||[]),s=p3(t);let a=-1;for(;++a<s.length;)I_(e,"text",o);function o(l,h){let d=-1,p;for(;++d<h.length;){const m=h[d],g=p?p.children:void 0;if(i(m,g?g.indexOf(m):void 0,p))return;p=m}if(p)return u(l,h)}function u(l,h){const d=h[h.length-1],p=s[a][0],m=s[a][1];let g=0;const I=d.children.indexOf(l);let E=!1,T=[];p.lastIndex=0;let _=p.exec(l.value);for(;_;){const k=_.index,O={index:_.index,input:_.input,stack:[...h,l]};let v=m(..._,O);if(typeof v=="string"&&(v=v.length>0?{type:"text",value:v}:void 0),v===!1?p.lastIndex=k+1:(g!==k&&T.push({type:"text",value:l.value.slice(g,k)}),Array.isArray(v)?T.push(...v):v&&T.push(v),g=k+_[0].length,E=!0),!p.global)break;_=p.exec(l.value)}return E?(g<l.value.length&&T.push({type:"text",value:l.value.slice(g)}),d.children.splice(I,1,...T)):T=[l],I+T.length}}function p3(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([m3(i[0]),g3(i[1])])}return t}function m3(e){return typeof e=="string"?new RegExp(h3(e),"g"):e}function g3(e){return typeof e=="function"?e:function(){return e}}const uc="phrasing",lc=["autolink","link","image","label"];function E3(){return{transforms:[S3],enter:{literalAutolink:T3,literalAutolinkEmail:cc,literalAutolinkHttp:cc,literalAutolinkWww:cc},exit:{literalAutolink:C3,literalAutolinkEmail:b3,literalAutolinkHttp:y3,literalAutolinkWww:x3}}}function _3(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:uc,notInConstruct:lc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:uc,notInConstruct:lc},{character:":",before:"[ps]",after:"\\/",inConstruct:uc,notInConstruct:lc}]}}function T3(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function cc(e){this.config.enter.autolinkProtocol.call(this,e)}function y3(e){this.config.exit.autolinkProtocol.call(this,e)}function x3(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function b3(e){this.config.exit.autolinkEmail.call(this,e)}function C3(e){this.exit(e)}function S3(e){f3(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,N3],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),v3]],{ignore:["link","linkReference"]})}function N3(e,t,n,r,i){let s="";if(!O_(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!k3(n)))return!1;const a=I3(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function v3(e,t,n,r){return!O_(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function k3(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function I3(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=hm(e,"(");let s=hm(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function O_(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Yr(n)||nl(n))&&(!t||n!==47)}D_.peek=F3;function A3(){this.buffer()}function w3(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function R3(){this.buffer()}function O3(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function D3(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=on(this.sliceSerialize(e)).toLowerCase(),n.label=t}function L3(e){this.exit(e)}function P3(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=on(this.sliceSerialize(e)).toLowerCase(),n.label=t}function M3(e){this.exit(e)}function F3(){return"["}function D_(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function B3(){return{enter:{gfmFootnoteCallString:A3,gfmFootnoteCall:w3,gfmFootnoteDefinitionLabelString:R3,gfmFootnoteDefinition:O3},exit:{gfmFootnoteCallString:D3,gfmFootnoteCall:L3,gfmFootnoteDefinitionLabelString:P3,gfmFootnoteDefinition:M3}}}function j3(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:D_},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let u=o.move("[^");const l=s.enter("footnoteDefinition"),h=s.enter("label");return u+=o.move(s.safe(s.associationId(r),{before:u,after:"]"})),h(),u+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?L_:U3))),l(),u}}function U3(e,t,n){return t===0?e:L_(e,t,n)}function L_(e,t,n){return(n?"":"    ")+e}const H3=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];P_.peek=$3;function z3(){return{canContainEols:["delete"],enter:{strikethrough:V3},exit:{strikethrough:Y3}}}function W3(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:H3}],handlers:{delete:P_}}}function V3(e){this.enter({type:"delete",children:[]},e)}function Y3(e){this.exit(e)}function P_(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function $3(){return"~"}function Q3(e){return e.length}function G3(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Q3,s=[],a=[],o=[],u=[];let l=0,h=-1;for(;++h<e.length;){const x=[],I=[];let E=-1;for(e[h].length>l&&(l=e[h].length);++E<e[h].length;){const T=q3(e[h][E]);if(n.alignDelimiters!==!1){const _=i(T);I[E]=_,(u[E]===void 0||_>u[E])&&(u[E]=_)}x.push(T)}a[h]=x,o[h]=I}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<l;)s[d]=fm(r[d]);else{const x=fm(r);for(;++d<l;)s[d]=x}d=-1;const p=[],m=[];for(;++d<l;){const x=s[d];let I="",E="";x===99?(I=":",E=":"):x===108?I=":":x===114&&(E=":");let T=n.alignDelimiters===!1?1:Math.max(1,u[d]-I.length-E.length);const _=I+"-".repeat(T)+E;n.alignDelimiters!==!1&&(T=I.length+T+E.length,T>u[d]&&(u[d]=T),m[d]=T),p[d]=_}a.splice(1,0,p),o.splice(1,0,m),h=-1;const g=[];for(;++h<a.length;){const x=a[h],I=o[h];d=-1;const E=[];for(;++d<l;){const T=x[d]||"";let _="",k="";if(n.alignDelimiters!==!1){const O=u[d]-(I[d]||0),v=s[d];v===114?_=" ".repeat(O):v===99?O%2?(_=" ".repeat(O/2+.5),k=" ".repeat(O/2-.5)):(_=" ".repeat(O/2),k=_):k=" ".repeat(O)}n.delimiterStart!==!1&&!d&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&T==="")&&(n.delimiterStart!==!1||d)&&E.push(" "),n.alignDelimiters!==!1&&E.push(_),E.push(T),n.alignDelimiters!==!1&&E.push(k),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||d!==l-1)&&E.push("|")}g.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return g.join(`
`)}function q3(e){return e==null?"":String(e)}function fm(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const pm={}.hasOwnProperty;function M_(e,t){const n=t||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&pm.call(i,e)){const u=String(i[e]);a=pm.call(o,u)?o[u]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function K3(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),X3);return i(),a}function X3(e,t,n){return">"+(n?"":" ")+e}function J3(e,t){return mm(e,t.inConstruct,!0)&&!mm(e,t.notInConstruct,!1)}function mm(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function gm(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&J3(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Z3(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function eI(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function tI(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function nI(e,t,n,r){const i=tI(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(eI(e,n)){const d=n.enter("codeIndented"),p=n.indentLines(s,rI);return d(),p}const o=n.createTracker(r),u=i.repeat(Math.max(Z3(s,i)+1,3)),l=n.enter("codeFenced");let h=o.move(u);if(e.lang){const d=n.enter(`codeFencedLang${a}`);h+=o.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...o.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);h+=o.move(" "),h+=o.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...o.current()})),d()}return h+=o.move(`
`),s&&(h+=o.move(s+`
`)),h+=o.move(u),l(),h}function rI(e,t,n){return(n?"":"    ")+e}function cf(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function iI(e,t,n,r){const i=cf(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const u=n.createTracker(r);let l=u.move("[");return l+=u.move(n.safe(n.associationId(e),{before:l,after:"]",...u.current()})),l+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(o=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,{before:l,after:e.title?" ":`
`,...u.current()}))),o(),e.title&&(o=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(e.title,{before:l,after:i,...u.current()})),l+=u.move(i),o()),a(),l}function sI(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function _a(e){return"&#x"+e.toString(16).toUpperCase()+";"}function mu(e,t,n){const r=ji(e),i=ji(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}F_.peek=aI;function F_(e,t,n,r){const i=sI(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let u=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const l=u.charCodeAt(0),h=mu(r.before.charCodeAt(r.before.length-1),l,i);h.inside&&(u=_a(l)+u.slice(1));const d=u.charCodeAt(u.length-1),p=mu(r.after.charCodeAt(0),d,i);p.inside&&(u=u.slice(0,-1)+_a(d));const m=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},o+u+m}function aI(e,t,n){return n.options.emphasis||"*"}function oI(e,t){let n=!1;return ol(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Sd}),!!((!e.depth||e.depth<3)&&tf(e)&&(t.options.setext||n))}function uI(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(oI(e,n)){const h=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),h(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let l=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(l)&&(l=_a(l.charCodeAt(0))+l.slice(1)),l=l?a+" "+l:a,n.options.closeAtx&&(l+=" "+a),u(),o(),l}B_.peek=lI;function B_(e){return e.value||""}function lI(){return"<"}j_.peek=cI;function j_(e,t,n,r){const i=cf(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const u=n.createTracker(r);let l=u.move("![");return l+=u.move(n.safe(e.alt,{before:l,after:"]",...u.current()})),l+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(o=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,{before:l,after:e.title?" ":")",...u.current()}))),o(),e.title&&(o=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(e.title,{before:l,after:i,...u.current()})),l+=u.move(i),o()),l+=u.move(")"),a(),l}function cI(){return"!"}U_.peek=dI;function U_(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("![");const l=n.safe(e.alt,{before:u,after:"]",...o.current()});u+=o.move(l+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return a(),n.stack=h,s(),i==="full"||!l||l!==d?u+=o.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function dI(){return"!"}H_.peek=hI;function H_(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(r);){let l=u.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(u.index+1)}}return i+r+i}function hI(){return"`"}function z_(e,t){const n=tf(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}W_.peek=fI;function W_(e,t,n,r){const i=cf(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,u;if(z_(e,n)){const h=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,{before:d,after:">",...a.current()})),d+=a.move(">"),o(),n.stack=h,d}o=n.enter("link"),u=n.enter("label");let l=a.move("[");return l+=a.move(n.containerPhrasing(e,{before:l,after:"](",...a.current()})),l+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),l+=a.move("<"),l+=a.move(n.safe(e.url,{before:l,after:">",...a.current()})),l+=a.move(">")):(u=n.enter("destinationRaw"),l+=a.move(n.safe(e.url,{before:l,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=n.enter(`title${s}`),l+=a.move(" "+i),l+=a.move(n.safe(e.title,{before:l,after:i,...a.current()})),l+=a.move(i),u()),l+=a.move(")"),o(),l}function fI(e,t,n){return z_(e,n)?"<":"["}V_.peek=pI;function V_(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("[");const l=n.containerPhrasing(e,{before:u,after:"]",...o.current()});u+=o.move(l+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return a(),n.stack=h,s(),i==="full"||!l||l!==d?u+=o.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function pI(){return"["}function df(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function mI(e){const t=df(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function gI(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Y_(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function EI(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?gI(n):df(n);const o=e.ordered?a==="."?")":".":mI(n);let u=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),Y_(n)===a&&h){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),n.bulletCurrent=a;const l=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),l}function _I(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function TI(e,t,n,r){const i=_I(n);let s=n.bulletCurrent||df(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const u=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,o.current()),h);return u(),l;function h(d,p,m){return p?(m?"":" ".repeat(a))+d:(m?s:s+" ".repeat(a-s.length))+d}}function yI(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const xI=sl(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function bI(e,t,n,r){return(e.children.some(function(a){return xI(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function CI(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}$_.peek=SI;function $_(e,t,n,r){const i=CI(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let u=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const l=u.charCodeAt(0),h=mu(r.before.charCodeAt(r.before.length-1),l,i);h.inside&&(u=_a(l)+u.slice(1));const d=u.charCodeAt(u.length-1),p=mu(r.after.charCodeAt(0),d,i);p.inside&&(u=u.slice(0,-1)+_a(d));const m=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},o+u+m}function SI(e,t,n){return n.options.strong||"*"}function NI(e,t,n,r){return n.safe(e.value,r)}function vI(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function kI(e,t,n){const r=(Y_(n)+(n.options.ruleSpaces?" ":"")).repeat(vI(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Q_={blockquote:K3,break:gm,code:nI,definition:iI,emphasis:F_,hardBreak:gm,heading:uI,html:B_,image:j_,imageReference:U_,inlineCode:H_,link:W_,linkReference:V_,list:EI,listItem:TI,paragraph:yI,root:bI,strong:$_,text:NI,thematicBreak:kI};function II(){return{enter:{table:AI,tableData:Em,tableHeader:Em,tableRow:RI},exit:{codeText:OI,table:wI,tableData:dc,tableHeader:dc,tableRow:dc}}}function AI(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function wI(e){this.exit(e),this.data.inTable=void 0}function RI(e){this.enter({type:"tableRow",children:[]},e)}function dc(e){this.exit(e)}function Em(e){this.enter({type:"tableCell",children:[]},e)}function OI(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,DI));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function DI(e,t){return t==="|"?t:e}function LI(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:u,tableRow:o}};function a(m,g,x,I){return l(h(m,x,I),m.align)}function o(m,g,x,I){const E=d(m,x,I),T=l([E]);return T.slice(0,T.indexOf(`
`))}function u(m,g,x,I){const E=x.enter("tableCell"),T=x.enter("phrasing"),_=x.containerPhrasing(m,{...I,before:s,after:s});return T(),E(),_}function l(m,g){return G3(m,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function h(m,g,x){const I=m.children;let E=-1;const T=[],_=g.enter("table");for(;++E<I.length;)T[E]=d(I[E],g,x);return _(),T}function d(m,g,x){const I=m.children;let E=-1;const T=[],_=g.enter("tableRow");for(;++E<I.length;)T[E]=u(I[E],m,g,x);return _(),T}function p(m,g,x){let I=Q_.inlineCode(m,g,x);return x.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function PI(){return{exit:{taskListCheckValueChecked:_m,taskListCheckValueUnchecked:_m,paragraph:FI}}}function MI(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:BI}}}function _m(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function FI(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function BI(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let u=Q_.listItem(e,t,n,{...r,...o.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),u;function l(h){return h+a}}function jI(){return[E3(),B3(),z3(),II(),PI()]}function UI(e){return{extensions:[_3(),j3(e),W3(),LI(e),MI()]}}const HI={tokenize:QI,partial:!0},G_={tokenize:GI,partial:!0},q_={tokenize:qI,partial:!0},K_={tokenize:KI,partial:!0},zI={tokenize:XI,partial:!0},X_={name:"wwwAutolink",tokenize:YI,previous:Z_},J_={name:"protocolAutolink",tokenize:$I,previous:eT},Hn={name:"emailAutolink",tokenize:VI,previous:tT},xn={};function WI(){return{text:xn}}let Sr=48;for(;Sr<123;)xn[Sr]=Hn,Sr++,Sr===58?Sr=65:Sr===91&&(Sr=97);xn[43]=Hn;xn[45]=Hn;xn[46]=Hn;xn[95]=Hn;xn[72]=[Hn,J_];xn[104]=[Hn,J_];xn[87]=[Hn,X_];xn[119]=[Hn,X_];function VI(e,t,n){const r=this;let i,s;return a;function a(d){return!Id(d)||!tT.call(r,r.previous)||hf(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return Id(d)?(e.consume(d),o):d===64?(e.consume(d),u):n(d)}function u(d){return d===46?e.check(zI,h,l)(d):d===45||d===95||ut(d)?(s=!0,e.consume(d),u):h(d)}function l(d){return e.consume(d),i=!0,u}function h(d){return s&&i&&ft(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function YI(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!Z_.call(r,r.previous)||hf(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(HI,e.attempt(G_,e.attempt(q_,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function $I(e,t,n){const r=this;let i="",s=!1;return a;function a(d){return(d===72||d===104)&&eT.call(r,r.previous)&&!hf(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),o):n(d)}function o(d){if(ft(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(d),u}return n(d)}function u(d){return d===47?(e.consume(d),s?l:(s=!0,u)):n(d)}function l(d){return d===null||fu(d)||xe(d)||Yr(d)||nl(d)?n(d):e.attempt(G_,e.attempt(q_,h),n)(d)}function h(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function QI(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function GI(e,t,n){let r,i,s;return a;function a(l){return l===46||l===95?e.check(K_,u,o)(l):l===null||xe(l)||Yr(l)||l!==45&&nl(l)?u(l):(s=!0,e.consume(l),a)}function o(l){return l===95?r=!0:(i=r,r=void 0),e.consume(l),a}function u(l){return i||r||!s?n(l):t(l)}}function qI(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(K_,t,s)(a):a===null||xe(a)||Yr(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function KI(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||xe(o)||Yr(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||xe(o)||Yr(o)?t(o):r(o)}function s(o){return ft(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):ft(o)?(e.consume(o),a):n(o)}}function XI(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return ut(s)?n(s):t(s)}}function Z_(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||xe(e)}function eT(e){return!ft(e)}function tT(e){return!(e===47||Id(e))}function Id(e){return e===43||e===45||e===46||e===95||ut(e)}function hf(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const JI={tokenize:aA,partial:!0};function ZI(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:rA,continuation:{tokenize:iA},exit:sA}},text:{91:{name:"gfmFootnoteCall",tokenize:nA},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:eA,resolveTo:tA}}}}function eA(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return n(u);const l=on(r.sliceSerialize({start:a.end,end:r.now()}));return l.codePointAt(0)!==94||!s.includes(l.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function tA(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function nA(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(d){if(s>999||d===93&&!a||d===null||d===91||xe(d))return n(d);if(d===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(on(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return xe(d)||(a=!0),s++,e.consume(d),d===92?h:l}function h(d){return d===91||d===92||d===93?(e.consume(d),s++,l):l(d)}}function rA(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return u;function u(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(g)}function h(g){if(a>999||g===93&&!o||g===null||g===91||xe(g))return n(g);if(g===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=on(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return xe(g)||(o=!0),a++,e.consume(g),g===92?d:h}function d(g){return g===91||g===92||g===93?(e.consume(g),a++,h):h(g)}function p(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),pe(e,m,"gfmFootnoteDefinitionWhitespace")):n(g)}function m(g){return t(g)}}function iA(e,t,n){return e.check(Fa,t,e.attempt(JI,t,n))}function sA(e){e.exit("gfmFootnoteDefinition")}function aA(e,t,n){const r=this;return pe(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function oA(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let l=u;for(;l--;)if(a[l][0]==="exit"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[l][1].end.offset-a[l][1].start.offset){a[u][1].type="strikethroughSequence",a[l][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[l][1].start),end:Object.assign({},a[u][1].end)},d={type:"strikethroughText",start:Object.assign({},a[l][1].end),end:Object.assign({},a[u][1].start)},p=[["enter",h,o],["enter",a[l][1],o],["exit",a[l][1],o],["enter",d,o]],m=o.parser.constructs.insideSpan.null;m&&Mt(p,p.length,0,rl(m,a.slice(l+1,u),o)),Mt(p,p.length,0,[["exit",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",h,o]]),Mt(a,l-1,u-l+3,p),u=l+p.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,o,u){const l=this.previous,h=this.events;let d=0;return p;function p(g){return l===126&&h[h.length-1][1].type!=="characterEscape"?u(g):(a.enter("strikethroughSequenceTemporary"),m(g))}function m(g){const x=ji(l);if(g===126)return d>1?u(g):(a.consume(g),d++,m);if(d<2&&!n)return u(g);const I=a.exit("strikethroughSequenceTemporary"),E=ji(g);return I._open=!E||E===2&&!!x,I._close=!x||x===2&&!!E,o(g)}}}class uA{constructor(){this.map=[]}add(t,n,r){lA(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function lA(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function cA(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function dA(){return{flow:{null:{name:"table",tokenize:hA,resolveAll:fA}}}}function hA(e,t,n){const r=this;let i=0,s=0,a;return o;function o(A){let P=r.events.length-1;for(;P>-1;){const de=r.events[P][1].type;if(de==="lineEnding"||de==="linePrefix")P--;else break}const Y=P>-1?r.events[P][1].type:null,Z=Y==="tableHead"||Y==="tableRow"?v:u;return Z===v&&r.parser.lazy[r.now().line]?n(A):Z(A)}function u(A){return e.enter("tableHead"),e.enter("tableRow"),l(A)}function l(A){return A===124||(a=!0,s+=1),h(A)}function h(A){return A===null?n(A):X(A)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),m):n(A):le(A)?pe(e,h,"whitespace")(A):(s+=1,a&&(a=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),d(A)))}function d(A){return A===null||A===124||xe(A)?(e.exit("data"),h(A)):(e.consume(A),A===92?p:d)}function p(A){return A===92||A===124?(e.consume(A),d):d(A)}function m(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),a=!1,le(A)?pe(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):g(A))}function g(A){return A===45||A===58?I(A):A===124?(a=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),x):O(A)}function x(A){return le(A)?pe(e,I,"whitespace")(A):I(A)}function I(A){return A===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),E):A===45?(s+=1,E(A)):A===null||X(A)?k(A):O(A)}function E(A){return A===45?(e.enter("tableDelimiterFiller"),T(A)):O(A)}function T(A){return A===45?(e.consume(A),T):A===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),_):(e.exit("tableDelimiterFiller"),_(A))}function _(A){return le(A)?pe(e,k,"whitespace")(A):k(A)}function k(A){return A===124?g(A):A===null||X(A)?!a||i!==s?O(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):O(A)}function O(A){return n(A)}function v(A){return e.enter("tableRow"),D(A)}function D(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),D):A===null||X(A)?(e.exit("tableRow"),t(A)):le(A)?pe(e,D,"whitespace")(A):(e.enter("data"),B(A))}function B(A){return A===null||A===124||xe(A)?(e.exit("data"),D(A)):(e.consume(A),A===92?G:B)}function G(A){return A===92||A===124?(e.consume(A),B):B(A)}}function fA(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,l,h,d;const p=new uA;for(;++n<e.length;){const m=e[n],g=m[1];m[0]==="enter"?g.type==="tableHead"?(o=!1,u!==0&&(Tm(p,t,u,l,h),h=void 0,u=0),l={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",l,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,h={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",h,t]])),i=g.type==="tableDelimiterRow"?2:h?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=_o(p,t,s,i,void 0,d),s=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],d=_o(p,t,s,i,void 0,d)),s=a,a=[s[1],n,0,0])):g.type==="tableHead"?(o=!0,u=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(u=n,s[1]!==0?(a[0]=a[1],d=_o(p,t,s,i,n,d)):a[1]!==0&&(d=_o(p,t,a,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&Tm(p,t,u,l,h),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=cA(t.events,n))}return e}function _o(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},si(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=si(t.events,n[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const l=si(t.events,n[2]),h=si(t.events,n[3]),d={type:o,start:Object.assign({},l),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,x=n[3]-n[2]-1;e.add(g,x,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},si(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function Tm(e,t,n,r,i){const s=[],a=si(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function si(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const pA={name:"tasklistCheck",tokenize:gA};function mA(){return{text:{91:pA}}}function gA(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return xe(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(u)}function o(u){return X(u)?t(u):le(u)?e.check({tokenize:EA},t,n)(u):n(u)}}function EA(e,t,n){return pe(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function _A(e){return l_([WI(),ZI(),oA(e),dA(),mA()])}const TA={};function nT(e){const t=this,n=e||TA,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(_A(n)),s.push(jI()),a.push(UI(n))}function yA({articles:e,onSelectArticle:t}){const[n,r]=$.useState({}),[i,s]=$.useState({}),[a,o]=$.useState(new Set),[u,l]=$.useState(new Set),[h,d]=$.useState("month");$.useEffect(()=>{const x={};e.forEach(I=>{const E=new Date(I.date),T=`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}`;x[T]||(x[T]=[]),x[T].push(I)}),r(x)},[e]),$.useEffect(()=>{const x={};e.forEach(I=>{x[I.category]||(x[I.category]=[]),x[I.category].push(I)}),s(x)},[e]);const p=x=>{const I=new Set(a);I.has(x)?I.delete(x):I.add(x),o(I)},m=x=>{const I=new Set(u);I.has(x)?I.delete(x):I.add(x),l(I)},g=x=>{const[I,E]=x.split("-");return`${I}${parseInt(E)}`};return f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800",children:" "}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>d("month"),className:`px-4 py-2 rounded-lg transition-colors ${h==="month"?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[f.jsx(lC,{size:16,className:"inline mr-2"}),""]}),f.jsxs("button",{onClick:()=>d("category"),className:`px-4 py-2 rounded-lg transition-colors ${h==="category"?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[f.jsx(vC,{size:16,className:"inline mr-2"}),""]})]})]}),h==="month"&&f.jsx("div",{className:"space-y-2",children:Object.keys(n).sort().reverse().map(x=>f.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[f.jsx("button",{onClick:()=>p(x),className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors",children:f.jsxs("div",{className:"flex items-center gap-3",children:[a.has(x)?f.jsx(pp,{size:20,className:"text-slate-600"}):f.jsx(mp,{size:20,className:"text-slate-600"}),f.jsx("span",{className:"font-medium text-slate-800",children:g(x)}),f.jsxs("span",{className:"text-sm text-slate-500",children:["(",n[x].length," )"]})]})}),a.has(x)&&f.jsx("div",{className:"p-2 bg-white",children:n[x].map(I=>f.jsx("button",{onClick:()=>t(I),className:"w-full text-left p-3 hover:bg-blue-50 rounded-lg transition-colors",children:f.jsx("div",{className:"flex items-start justify-between",children:f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-1",children:I.title}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[f.jsx("span",{children:I.category}),f.jsx("span",{children:""}),f.jsx("span",{children:I.date})]})]})})},I.id))})]},x))}),h==="category"&&f.jsx("div",{className:"space-y-2",children:Object.keys(i).sort().map(x=>f.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[f.jsx("button",{onClick:()=>m(x),className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors",children:f.jsxs("div",{className:"flex items-center gap-3",children:[u.has(x)?f.jsx(pp,{size:20,className:"text-slate-600"}):f.jsx(mp,{size:20,className:"text-slate-600"}),f.jsx("span",{className:"font-medium text-slate-800",children:x}),f.jsxs("span",{className:"text-sm text-slate-500",children:["(",i[x].length," )"]})]})}),u.has(x)&&f.jsx("div",{className:"p-2 bg-white",children:i[x].map(I=>f.jsx("button",{onClick:()=>t(I),className:"w-full text-left p-3 hover:bg-blue-50 rounded-lg transition-colors",children:f.jsx("div",{className:"flex items-start justify-between",children:f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-1",children:I.title}),f.jsx("div",{className:"text-sm text-slate-500",children:I.date})]})})},I.id))})]},x))}),e.length===0&&f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-slate-400",children:""})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(e,t){if(!e)throw es(t)},es=function(e){return new Error("Firebase Database ("+rT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},xA=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],a=e[n++],o=e[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},ff={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,o=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,h=s>>2,d=(s&3)<<4|o>>4;let p=(o&15)<<2|l>>6,m=l&63;u||(m=64,a||(p=64)),r.push(n[h],n[d],n[p],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(iT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):xA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||o==null||l==null||d==null)throw new bA;const p=s<<2|o>>4;if(r.push(p),l!==64){const m=o<<4&240|l>>2;if(r.push(m),d!==64){const g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sT=function(e){const t=iT(e);return ff.encodeByteArray(t,!0)},gu=function(e){return sT(e).replace(/\./g,"")},Ad=function(e){try{return ff.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(e){return aT(void 0,e)}function aT(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!SA(n)||(e[n]=aT(e[n],t[n]));return e}function SA(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=()=>NA().__FIREBASE_DEFAULTS__,kA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},IA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ad(e[1]);return t&&JSON.parse(t)},oT=()=>{try{return vA()||kA()||IA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},AA=e=>{var t,n;return(n=(t=oT())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},wA=e=>{const t=AA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},uT=()=>{var e;return(e=oT())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),o="";return[gu(JSON.stringify(n)),gu(JSON.stringify(a)),o].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(OA())}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cT(){return rT.NODE_ADMIN===!0}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="FirebaseError";class ja extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=MA,Object.setPrototypeOf(this,ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dT.prototype.create)}}class dT{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?FA(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ja(i,o,r)}}function FA(e,t){return e.replace(BA,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const BA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(e){return JSON.parse(e)}function Ye(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Ta(Ad(s[0])||""),n=Ta(Ad(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},jA=function(e){const t=hT(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},UA=function(e){const t=hT(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ym(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Eu(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function wd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],a=t[i];if(xm(s)&&xm(a)){if(!wd(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const p=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],u=this.chain_[4],l,h;for(let d=0;d<80;d++){d<40?d<20?(l=o^s&(a^o),h=1518500249):(l=s^a^o,h=1859775393):d<60?(l=s&a|o&(s|a),h=2400959708):(l=s^a^o,h=3395469782);const p=(i<<5|i>>>27)+l+u+h+r[d]&4294967295;u=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function pf(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,z(r<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ll=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(e){return e&&e._delegate?e._delegate:e}class ya{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ul;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($A(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YA(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(e){return e===kr?void 0:e}function $A(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Se||(Se={}));const GA={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},qA=Se.INFO,KA={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},XA=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=KA[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fT{constructor(t){this.name=t,this._logLevel=qA,this._logHandler=XA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const JA=(e,t)=>t.some(n=>e instanceof n);let bm,Cm;function ZA(){return bm||(bm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ew(){return Cm||(Cm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Rd=new WeakMap,mT=new WeakMap,hc=new WeakMap,mf=new WeakMap;function tw(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(lr(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&pT.set(n,e)}).catch(()=>{}),mf.set(t,e),t}function nw(e){if(Rd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Rd.set(e,t)}let Od={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Rd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||mT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rw(e){Od=e(Od)}function iw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(fc(this),t,...n);return mT.set(r,t.sort?t.sort():[t]),lr(r)}:ew().includes(e)?function(...t){return e.apply(fc(this),t),lr(pT.get(this))}:function(...t){return lr(e.apply(fc(this),t))}}function sw(e){return typeof e=="function"?iw(e):(e instanceof IDBTransaction&&nw(e),JA(e,ZA())?new Proxy(e,Od):e)}function lr(e){if(e instanceof IDBRequest)return tw(e);if(hc.has(e))return hc.get(e);const t=sw(e);return t!==e&&(hc.set(e,t),mf.set(t,e)),t}const fc=e=>mf.get(e);function aw(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=lr(a);return r&&a.addEventListener("upgradeneeded",u=>{r(lr(a.result),u.oldVersion,u.newVersion,lr(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const ow=["get","getKey","getAll","getAllKeys","count"],uw=["put","add","delete","clear"],pc=new Map;function Sm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pc.get(t))return pc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=uw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ow.includes(n)))return;const s=async function(a,...o){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(o.shift())),(await Promise.all([l[n](...o),i&&u.done]))[0]};return pc.set(t,s),s}rw(e=>({...e,get:(t,n,r)=>Sm(t,n)||e.get(t,n,r),has:(t,n)=>!!Sm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dd="@firebase/app",Nm="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new fT("@firebase/app"),dw="@firebase/app-compat",hw="@firebase/analytics-compat",fw="@firebase/analytics",pw="@firebase/app-check-compat",mw="@firebase/app-check",gw="@firebase/auth",Ew="@firebase/auth-compat",_w="@firebase/database",Tw="@firebase/data-connect",yw="@firebase/database-compat",xw="@firebase/functions",bw="@firebase/functions-compat",Cw="@firebase/installations",Sw="@firebase/installations-compat",Nw="@firebase/messaging",vw="@firebase/messaging-compat",kw="@firebase/performance",Iw="@firebase/performance-compat",Aw="@firebase/remote-config",ww="@firebase/remote-config-compat",Rw="@firebase/storage",Ow="@firebase/storage-compat",Dw="@firebase/firestore",Lw="@firebase/vertexai-preview",Pw="@firebase/firestore-compat",Mw="firebase",Fw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",Bw={[Dd]:"fire-core",[dw]:"fire-core-compat",[fw]:"fire-analytics",[hw]:"fire-analytics-compat",[mw]:"fire-app-check",[pw]:"fire-app-check-compat",[gw]:"fire-auth",[Ew]:"fire-auth-compat",[_w]:"fire-rtdb",[Tw]:"fire-data-connect",[yw]:"fire-rtdb-compat",[xw]:"fire-fn",[bw]:"fire-fn-compat",[Cw]:"fire-iid",[Sw]:"fire-iid-compat",[Nw]:"fire-fcm",[vw]:"fire-fcm-compat",[kw]:"fire-perf",[Iw]:"fire-perf-compat",[Aw]:"fire-rc",[ww]:"fire-rc-compat",[Rw]:"fire-gcs",[Ow]:"fire-gcs-compat",[Dw]:"fire-fst",[Pw]:"fire-fst-compat",[Lw]:"fire-vertex","fire-js":"fire-js",[Mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,jw=new Map,Pd=new Map;function vm(e,t){try{e.container.addComponent(t)}catch(n){Bn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Tu(e){const t=e.name;if(Pd.has(t))return Bn.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,e);for(const n of _u.values())vm(n,e);for(const n of jw.values())vm(n,e);return!0}function Uw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new dT("app","Firebase",Hw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=Fw;function gT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ld,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=uT()),!n)throw cr.create("no-options");const s=_u.get(i);if(s){if(wd(n,s.options)&&wd(r,s.config))return s;throw cr.create("duplicate-app",{appName:i})}const a=new QA(i);for(const u of Pd.values())a.addComponent(u);const o=new zw(n,r,a);return _u.set(i,o),o}function Vw(e=Ld){const t=_u.get(e);if(!t&&e===Ld&&uT())return gT();if(!t)throw cr.create("no-app",{appName:e});return t}function ki(e,t,n){var r;let i=(r=Bw[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${t}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bn.warn(o.join(" "));return}Tu(new ya(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebase-heartbeat-database",$w=1,xa="firebase-heartbeat-store";let mc=null;function ET(){return mc||(mc=aw(Yw,$w,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(xa)}catch(n){console.warn(n)}}}}).catch(e=>{throw cr.create("idb-open",{originalErrorMessage:e.message})})),mc}async function Qw(e){try{const n=(await ET()).transaction(xa),r=await n.objectStore(xa).get(_T(e));return await n.done,r}catch(t){if(t instanceof ja)Bn.warn(t.message);else{const n=cr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bn.warn(n.message)}}}async function km(e,t){try{const r=(await ET()).transaction(xa,"readwrite");await r.objectStore(xa).put(t,_T(e)),await r.done}catch(n){if(n instanceof ja)Bn.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bn.warn(r.message)}}}function _T(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=1024,qw=30*24*60*60*1e3;class Kw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Im();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=qw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Im(),{heartbeatsToSend:r,unsentEntries:i}=Xw(this._heartbeatsCache.heartbeats),s=gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bn.warn(n),""}}}function Im(){return new Date().toISOString().substring(0,10)}function Xw(e,t=Gw){const n=[];let r=e.slice();for(const i of e){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Am(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Am(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Jw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return km(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return km(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Am(e){return gu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(e){Tu(new ya("platform-logger",t=>new lw(t),"PRIVATE")),Tu(new ya("heartbeat",t=>new Kw(t),"PRIVATE")),ki(Dd,Nm,e),ki(Dd,Nm,"esm2017"),ki("fire-js","")}Zw("");const wm="@firebase/database",Rm="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT="";function e6(e){TT=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ye(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ta(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return zn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new t6(t)}}catch{}return new n6},Dr=yT("localStorage"),Md=yT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new fT("@firebase/database"),r6=function(){let e=1;return function(){return e++}}(),xT=function(e){const t=WA(e),n=new zA;n.update(t);const r=n.digest();return ff.encodeByteArray(r)},Ua=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ua.apply(null,r):typeof r=="object"?t+=Ye(r):t+=r,t+=" "}return t};let Br=null,Om=!0;const i6=function(e,t){z(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ii.logLevel=Se.VERBOSE,Br=Ii.log.bind(Ii),t&&Md.set("logging_enabled",!0)):typeof e=="function"?Br=e:(Br=null,Md.remove("logging_enabled"))},ot=function(...e){if(Om===!0&&(Om=!1,Br===null&&Md.get("logging_enabled")===!0&&i6(!0)),Br){const t=Ua.apply(null,e);Br(t)}},Ha=function(e){return function(...t){ot(e,...t)}},Fd=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ua(...e);Ii.error(t)},jn=function(...e){const t=`FIREBASE FATAL ERROR: ${Ua(...e)}`;throw Ii.error(t),new Error(t)},kt=function(...e){const t="FIREBASE WARNING: "+Ua(...e);Ii.warn(t)},s6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bT=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},a6=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zi="[MIN_NAME]",$r="[MAX_NAME]",ts=function(e,t){if(e===t)return 0;if(e===zi||t===$r)return-1;if(t===zi||e===$r)return 1;{const n=Dm(e),r=Dm(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},o6=function(e,t){return e===t?0:e<t?-1:1},Ts=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ye(t))},gf=function(e){if(typeof e!="object"||e===null)return Ye(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ye(t[r]),n+=":",n+=gf(e[t[r]]);return n+="}",n},CT=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function It(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ST=function(e){z(!bT(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,a,o,u;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=o+r,a=Math.round(e*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));const l=[];for(u=n;u;u-=1)l.push(a%2?1:0),a=Math.floor(a/2);for(u=t;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const h=l.join("");let d="";for(u=0;u<64;u+=8){let p=parseInt(h.substr(u,8),2).toString(16);p.length===1&&(p="0"+p),d=d+p}return d.toLowerCase()},u6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},l6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function c6(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const d6=new RegExp("^-?(0*)\\d{1,10}$"),h6=-2147483648,f6=2147483647,Dm=function(e){if(d6.test(e)){const t=Number(e);if(t>=h6&&t<=f6)return t}return null},ns=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw kt("Exception was thrown by user callback.",n),t},Math.floor(0))}},p6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ws=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(t)}}class Ai{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Ai.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="5",NT="v",vT="s",kT="r",IT="f",AT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wT="ls",RT="p",Bd="ac",OT="websocket",DT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n,r,i,s=!1,a="",o=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Dr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function E6(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function PT(e,t,n){z(typeof t=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let r;if(t===OT)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===DT)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);E6(e)&&(n.ns=e.namespace);const i=[];return It(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.counters_={}}incrementCounter(t,n=1){zn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return CA(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc={},Ec={};function _f(e){const t=e.toString();return gc[t]||(gc[t]=new _6),gc[t]}function T6(e,t){const n=e.toString();return Ec[n]||(Ec[n]=t()),Ec[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ns(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="start",x6="close",b6="pLPCommand",C6="pRTLPCB",MT="id",FT="pw",BT="ser",S6="cb",N6="seg",v6="ts",k6="d",I6="dframe",jT=1870,UT=30,A6=jT-UT,w6=25e3,R6=3e4;class _i{constructor(t,n,r,i,s,a,o){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ha(t),this.stats_=_f(n),this.urlFn=u=>(this.appCheckToken&&(u[Bd]=this.appCheckToken),PT(n,DT,u))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new y6(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(R6)),a6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tf((...s)=>{const[a,o,u,l,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Lm)this.id=o,this.password=u;else if(a===x6)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[Lm]="t",r[BT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[S6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[NT]=Ef,this.transportSessionId&&(r[vT]=this.transportSessionId),this.lastSessionId&&(r[wT]=this.lastSessionId),this.applicationId&&(r[RT]=this.applicationId),this.appCheckToken&&(r[Bd]=this.appCheckToken),typeof location<"u"&&location.hostname&&AT.test(location.hostname)&&(r[kT]=IT);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_i.forceAllow_=!0}static forceDisallow(){_i.forceDisallow_=!0}static isAvailable(){return _i.forceAllow_?!0:!_i.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!u6()&&!l6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ye(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sT(n),i=CT(r,A6);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[I6]="t",r[MT]=t,r[FT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ye(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Tf{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=r6(),window[b6+this.uniqueCallbackIdentifier]=t,window[C6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Tf.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){ot("frame writing exception"),o.stack&&ot(o.stack),ot(o)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ot("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[MT]=this.myID,t[FT]=this.myPW,t[BT]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+UT+r.length<=jT;){const a=this.pendingSegs.shift();r=r+"&"+N6+i+"="+a.seg+"&"+v6+i+"="+a.ts+"&"+k6+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(w6)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ot("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=16384,D6=45e3;let yu=null;typeof MozWebSocket<"u"?yu=MozWebSocket:typeof WebSocket<"u"&&(yu=WebSocket);class tn{constructor(t,n,r,i,s,a,o){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ha(this.connId),this.stats_=_f(n),this.connURL=tn.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const a={};return a[NT]=Ef,typeof location<"u"&&location.hostname&&AT.test(location.hostname)&&(a[kT]=IT),n&&(a[vT]=n),r&&(a[wT]=r),i&&(a[Bd]=i),s&&(a[RT]=s),PT(t,OT,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dr.set("previous_websocket_failure",!0);try{let r;cT(),this.mySock=new yu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&yu!==null&&!tn.forceDisallow_}static previouslyFailed(){return Dr.isInMemoryStorage||Dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Dr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ta(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Ye(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=CT(n,O6);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(D6))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[_i,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=tn&&tn.isAvailable();let r=n&&!tn.previouslyFailed();if(t.webSocketOnly&&(n||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tn];else{const i=this.transports_=[];for(const s of ba.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ba.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ba.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=6e4,P6=5e3,M6=10*1024,F6=100*1024,_c="t",Pm="d",B6="s",Mm="r",j6="e",Fm="o",Bm="a",jm="n",Um="p",U6="h";class H6{constructor(t,n,r,i,s,a,o,u,l,h){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ha("c:"+this.id+":"),this.transportManager_=new ba(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ws(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>F6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>M6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(_c in t){const n=t[_c];n===Bm?this.upgradeIfSecondaryHealthy_():n===Mm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Fm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ts("t",t),r=Ts("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Um,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Bm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ts("t",t),r=Ts("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ts(_c,t);if(Pm in t){const r=t[Pm];if(n===U6){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===jm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===B6?this.onConnectionShutdown_(r):n===Mm?this.onReset_(r):n===j6?Fd("Server Error: "+r):n===Fm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fd("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ef!==r&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ws(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L6))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ws(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(P6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Um,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){z(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends zT{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xu}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=32,zm=768;class be{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ge(){return new be("")}function ae(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function mr(e){return e.pieces_.length-e.pieceNum_}function Ne(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new be(e.pieces_,t)}function WT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function z6(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function VT(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function YT(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new be(t,0)}function $e(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof be)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new be(n,0)}function ue(e){return e.pieceNum_>=e.pieces_.length}function pt(e,t){const n=ae(e),r=ae(t);if(n===null)return t;if(n===r)return pt(Ne(e),Ne(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function yf(e,t){if(mr(e)!==mr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(mr(e)>mr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class W6{constructor(t,n){this.errorPrefix_=n,this.parts_=VT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ll(this.parts_[r]);$T(this)}}function V6(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ll(t),$T(e)}function Y6(e){const t=e.parts_.pop();e.byteLength_-=ll(t),e.parts_.length>0&&(e.byteLength_-=1)}function $T(e){if(e.byteLength_>zm)throw new Error(e.errorPrefix_+"has a key path longer than "+zm+" bytes ("+e.byteLength_+").");if(e.parts_.length>Hm)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hm+") or object contains a cycle "+Ir(e))}function Ir(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends zT{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new xf}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=1e3,$6=60*5*1e3,Wm=30*1e3,Q6=1.3,G6=3e4,q6="server_kill",Vm=3;class Dn extends HT{constructor(t,n,r,i,s,a,o,u){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=u,this.id=Dn.nextPersistentConnectionId_++,this.log_=Ha("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ys,this.maxReconnectDelay_=$6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!cT())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xf.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&xu.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Ye(s)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new ul,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,o=>{const u=o.d,l=o.s;Dn.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",o),l!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(l,u))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&zn(t,"w")){const r=Hi(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||UA(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Wm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=jA(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ye(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Fd("Unrecognized action received from server: "+Ye(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>G6&&(this.reconnectDelay_=ys),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Q6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Dn.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const u=function(){o?o.close():(a=!0,r())},l=function(d){z(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(d)};this.realtime_={close:u,sendRequest:l};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,p]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,o=new H6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,m=>{kt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(q6)},s))}catch(d){this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&kt(d),u())}}}interrupt(t){ot("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ot("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ym(this.interruptReasons_)&&(this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>gf(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new be(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){ot("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vm&&(this.reconnectDelay_=Wm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ot("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+TT.replace(/\./g,"-")]=1,lT()?t["framework.cordova"]=1:DA()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=xu.getInstance().currentlyOnline();return ym(this.interruptReasons_)&&t}}Dn.nextPersistentConnectionId_=0;Dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new oe(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new oe(zi,t),i=new oe(zi,n);return this.compare(r,i)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;class QT extends cl{static get __EMPTY_NODE(){return To}static set __EMPTY_NODE(t){To=t}compare(t,n){return ts(t.name,n.name)}isDefinedOn(t){throw es("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe($r,To)}makePost(t,n){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new oe(t,To)}toString(){return".key"}}const wi=new QT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Xe{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Xe.RED,this.left=i??Ct.EMPTY_NODE,this.right=s??Ct.EMPTY_NODE}copy(t,n,r,i,s){return new Xe(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Xe.RED=!0;Xe.BLACK=!1;class K6{copy(t,n,r,i,s){return this}insert(t,n,r){return new Xe(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(t,n=Ct.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ct(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Xe.BLACK,null,null))}remove(t){return new Ct(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xe.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new yo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new yo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new yo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new yo(this.root_,null,this.comparator_,!0,t)}}Ct.EMPTY_NODE=new K6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(e,t){return ts(e.name,t.name)}function bf(e,t){return ts(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd;function J6(e){jd=e}const GT=function(e){return typeof e=="number"?"number:"+ST(e):"string:"+e},qT=function(e){if(e.isLeafNode()){const t=e.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&zn(t,".sv"),"Priority must be a string or number.")}else z(e===jd||e.isEmpty(),"priority of unexpected type.");z(e===jd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym;class qe{constructor(t,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qT(this.priorityNode_)}static set __childrenNodeConstructor(t){Ym=t}static get __childrenNodeConstructor(){return Ym}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new qe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ue(t)?this:ae(t)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=ae(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||mr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+GT(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=ST(this.value_):t+=this.value_,this.lazyHash_=xT(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===qe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof qe.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=qe.VALUE_TYPE_ORDER.indexOf(n),s=qe.VALUE_TYPE_ORDER.indexOf(r);return z(i>=0,"Unknown leaf type: "+n),z(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KT,XT;function Z6(e){KT=e}function e4(e){XT=e}class t4 extends cl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ts(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe($r,new qe("[PRIORITY-POST]",XT))}makePost(t,n){const r=KT(t);return new oe(n,new qe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fe=new t4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=Math.log(2);class r4{constructor(t){const n=s=>parseInt(Math.log(s)/n4,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bu=function(e,t,n,r){e.sort(t);const i=function(u,l){const h=l-u;let d,p;if(h===0)return null;if(h===1)return d=e[u],p=n?n(d):d,new Xe(p,d.node,Xe.BLACK,null,null);{const m=parseInt(h/2,10)+u,g=i(u,m),x=i(m+1,l);return d=e[m],p=n?n(d):d,new Xe(p,d.node,Xe.BLACK,g,x)}},s=function(u){let l=null,h=null,d=e.length;const p=function(g,x){const I=d-g,E=d;d-=g;const T=i(I+1,E),_=e[I],k=n?n(_):_;m(new Xe(k,_.node,x,null,T))},m=function(g){l?(l.left=g,l=g):(h=g,l=g)};for(let g=0;g<u.count;++g){const x=u.nextBitIsOne(),I=Math.pow(2,u.count-(g+1));x?p(I,Xe.BLACK):(p(I,Xe.BLACK),p(I,Xe.RED))}return h},a=new r4(e.length),o=s(a);return new Ct(r||t,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;const ii={};class Rn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return z(ii&&Fe,"ChildrenNode.ts has not been loaded"),Tc=Tc||new Rn({".priority":ii},{".priority":Fe}),Tc}get(t){const n=Hi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ct?n:null}hasIndex(t){return zn(this.indexSet_,t.toString())}addIndex(t,n){z(t!==wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(oe.Wrap);let a=s.getNext();for(;a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=bu(r,t.getCompare()):o=ii;const u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;const h=Object.assign({},this.indexes_);return h[u]=o,new Rn(h,l)}addToIndexes(t,n){const r=Eu(this.indexes_,(i,s)=>{const a=Hi(this.indexSet_,s);if(z(a,"Missing index implementation for "+s),i===ii)if(a.isDefinedOn(t.node)){const o=[],u=n.getIterator(oe.Wrap);let l=u.getNext();for(;l;)l.name!==t.name&&o.push(l),l=u.getNext();return o.push(t),bu(o,a.getCompare())}else return ii;else{const o=n.get(t.name);let u=i;return o&&(u=u.remove(new oe(t.name,o))),u.insert(t,t.node)}});return new Rn(r,this.indexSet_)}removeFromIndexes(t,n){const r=Eu(this.indexes_,i=>{if(i===ii)return i;{const s=n.get(t.name);return s?i.remove(new oe(t.name,s)):i}});return new Rn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs;class J{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qT(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xs||(xs=new J(new Ct(bf),null,Rn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xs}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?xs:n}}getChild(t){const n=ae(t);return n===null?this:this.getImmediateChild(n).getChild(Ne(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(z(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new oe(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?xs:this.priorityNode_;return new J(i,a,s)}}updateChild(t,n){const r=ae(t);if(r===null)return n;{z(ae(t)!==".priority"||mr(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ne(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Fe,(a,o)=>{n[a]=o.val(t),r++,s&&J.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!t&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+GT(this.getPriority().val())+":"),this.forEachChild(Fe,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":xT(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new oe(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new oe(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new oe(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,oe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,oe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===za?-1:0}withIndex(t){if(t===wi||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===wi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Fe),i=n.getIterator(Fe);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===wi?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class i4 extends J{constructor(){super(new Ct(bf),J.EMPTY_NODE,Rn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const za=new i4;Object.defineProperties(oe,{MIN:{value:new oe(zi,J.EMPTY_NODE)},MAX:{value:new oe($r,za)}});QT.__EMPTY_NODE=J.EMPTY_NODE;qe.__childrenNodeConstructor=J;J6(za);e4(za);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=!0;function Je(e,t=null){if(e===null)return J.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new qe(n,Je(t))}if(!(e instanceof Array)&&s4){const n=[];let r=!1;if(It(e,(a,o)=>{if(a.substring(0,1)!=="."){const u=Je(o);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new oe(a,u)))}}),n.length===0)return J.EMPTY_NODE;const s=bu(n,X6,a=>a.name,bf);if(r){const a=bu(n,Fe.getCompare());return new J(s,Je(t),new Rn({".priority":a},{".priority":Fe}))}else return new J(s,Je(t),Rn.Default)}else{let n=J.EMPTY_NODE;return It(e,(r,i)=>{if(zn(e,r)&&r.substring(0,1)!=="."){const s=Je(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Je(t))}}Z6(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4 extends cl{constructor(t){super(),this.indexPath_=t,z(!ue(t)&&ae(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ts(t.name,n.name):s}makePost(t,n){const r=Je(t),i=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new oe(n,i)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,za);return new oe($r,t)}toString(){return VT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4 extends cl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?ts(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(t,n){const r=Je(t);return new oe(n,r)}toString(){return".value"}}const u4=new o4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(e){return{type:"value",snapshotNode:e}}function Wi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ca(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Sa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function l4(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t){this.index_=t}updateChild(t,n,r,i,s,a){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=t.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Ca(n,o)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Wi(n,r)):a.trackChildChange(Sa(n,r,o))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Fe,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ca(i,s))}),n.isLeafNode()||n.forEachChild(Fe,(i,s)=>{if(t.hasChild(i)){const a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Sa(i,s,a))}else r.trackChildChange(Wi(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t){this.indexedFilter_=new Cf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Na.getStartPost_(t),this.endPost_=Na.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,a){return this.matches(new oe(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)}updateFullNode(t,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);const s=this;return n.forEachChild(Fe,(a,o)=>{s.matches(new oe(a,o))||(i=i.updateImmediateChild(a,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Na(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,a){return this.rangedFilter_.matches(new oe(n,r))||(r=J.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let a;if(this.reverse_){const d=this.index_.getCompare();a=(p,m)=>d(m,p)}else a=this.index_.getCompare();const o=t;z(o.numChildren()===this.limit_,"");const u=new oe(n,r),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(o.hasChild(n)){const d=o.getImmediateChild(n);let p=i.getChildAfterChild(this.index_,l,this.reverse_);for(;p!=null&&(p.name===n||o.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);const m=p==null?1:a(p,u);if(h&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(Sa(n,r,d)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ca(n,d));const x=o.updateImmediateChild(n,J.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(s!=null&&s.trackChildChange(Wi(p.name,p.node)),x.updateImmediateChild(p.name,p.node)):x}}else return r.isEmpty()?t:h&&a(l,u)>=0?(s!=null&&(s.trackChildChange(Ca(l.name,l.node)),s.trackChildChange(Wi(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(l.name,J.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zi}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$r}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const t=new Sf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function d4(e){return e.loadsAllData()?new Cf(e.getIndex()):e.hasLimit()?new c4(e):new Na(e)}function $m(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Fe?n="$priority":e.index_===u4?n="$value":e.index_===wi?n="$key":(z(e.index_ instanceof a4,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ye(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ye(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ye(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ye(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ye(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Qm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Fe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends HT{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ha("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=Cu.getListenId_(t,r),o={};this.listens_[a]=o;const u=$m(t._queryParams);this.restRequest_(s+".json",u,(l,h)=>{let d=h;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),Hi(this.listens_,a)===o){let p;l?l===401?p="permission_denied":p="rest_error:"+l:p="ok",i(p,null)}})}unlisten(t,n){const r=Cu.getListenId_(t,n);delete this.listens_[r]}get(t){const n=$m(t._queryParams),r=t._path.toString(),i=new ul;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+HA(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let u=null;if(o.status>=200&&o.status<300){try{u=Ta(o.responseText)}catch{kt("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,u)}else o.status!==401&&o.status!==404&&kt("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(){return{value:null,children:new Map}}function ZT(e,t,n){if(ue(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=ae(t);e.children.has(r)||e.children.set(r,Su());const i=e.children.get(r);t=Ne(t),ZT(i,t,n)}}function Ud(e,t,n){e.value!==null?n(t,e.value):f4(e,(r,i)=>{const s=new be(t.toString()+"/"+r);Ud(i,s,n)})}function f4(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&It(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=10*1e3,m4=30*1e3,g4=5*60*1e3;class E4{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new p4(t);const r=Gm+(m4-Gm)*Math.random();Ws(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;It(t,(i,s)=>{s>0&&zn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ws(this.reportStats_.bind(this),Math.floor(Math.random()*2*g4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function ey(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=rn.ACK_USER_WRITE,this.source=ey()}operationForChild(t){if(ue(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new be(t));return new Nu(ge(),n,this.revert)}}else return z(ae(this.path)===t,"operationForChild called for unrelated child."),new Nu(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n){this.source=t,this.path=n,this.type=rn.LISTEN_COMPLETE}operationForChild(t){return ue(this.path)?new va(this.source,ge()):new va(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=rn.OVERWRITE}operationForChild(t){return ue(this.path)?new Qr(this.source,ge(),this.snap.getImmediateChild(t)):new Qr(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=rn.MERGE}operationForChild(t){if(ue(this.path)){const n=this.children.subtree(new be(t));return n.isEmpty()?null:n.value?new Qr(this.source,ge(),n.value):new ka(this.source,ge(),n)}else return z(ae(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ka(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ue(t))return this.isFullyInitialized()&&!this.filtered_;const n=ae(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function T4(e,t,n,r){const i=[],s=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(l4(a.childName,a.snapshotNode))}),bs(e,i,"child_removed",t,r,n),bs(e,i,"child_added",t,r,n),bs(e,i,"child_moved",s,r,n),bs(e,i,"child_changed",t,r,n),bs(e,i,"value",t,r,n),i}function bs(e,t,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,u)=>x4(e,o,u)),a.forEach(o=>{const u=y4(e,o,s);i.forEach(l=>{l.respondsTo(o.type)&&t.push(l.createEvent(u,e.query_))})})}function y4(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function x4(e,t,n){if(t.childName==null||n.childName==null)throw es("Should only compare child_ events.");const r=new oe(t.childName,t.snapshotNode),i=new oe(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e,t){return{eventCache:e,serverCache:t}}function Vs(e,t,n,r){return dl(new gr(t,n,r),e.serverCache)}function ty(e,t,n,r){return dl(e.eventCache,new gr(t,n,r))}function vu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Gr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc;const b4=()=>(yc||(yc=new Ct(o6)),yc);class Ie{constructor(t,n=b4()){this.value=t,this.children=n}static fromObject(t){let n=new Ie(null);return It(t,(r,i)=>{n=n.set(new be(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ue(t))return null;{const r=ae(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ne(t),n);return s!=null?{path:$e(new be(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ue(t))return this;{const n=ae(t),r=this.children.get(n);return r!==null?r.subtree(Ne(t)):new Ie(null)}}set(t,n){if(ue(t))return new Ie(n,this.children);{const r=ae(t),s=(this.children.get(r)||new Ie(null)).set(Ne(t),n),a=this.children.insert(r,s);return new Ie(this.value,a)}}remove(t){if(ue(t))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const n=ae(t),r=this.children.get(n);if(r){const i=r.remove(Ne(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ie(null):new Ie(this.value,s)}else return this}}get(t){if(ue(t))return this.value;{const n=ae(t),r=this.children.get(n);return r?r.get(Ne(t)):null}}setTree(t,n){if(ue(t))return n;{const r=ae(t),s=(this.children.get(r)||new Ie(null)).setTree(Ne(t),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new Ie(this.value,a)}}fold(t){return this.fold_(ge(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_($e(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ge(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ue(t))return null;{const s=ae(t),a=this.children.get(s);return a?a.findOnPath_(Ne(t),$e(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ge(),n)}foreachOnPath_(t,n,r){if(ue(t))return this;{this.value&&r(n,this.value);const i=ae(t),s=this.children.get(i);return s?s.foreachOnPath_(Ne(t),$e(n,i),r):new Ie(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_($e(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.writeTree_=t}static empty(){return new un(new Ie(null))}}function Ys(e,t,n){if(ue(t))return new un(new Ie(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const a=pt(i,t);return s=s.updateChild(a,n),new un(e.writeTree_.set(i,s))}else{const i=new Ie(n),s=e.writeTree_.setTree(t,i);return new un(s)}}}function qm(e,t,n){let r=e;return It(n,(i,s)=>{r=Ys(r,$e(t,i),s)}),r}function Km(e,t){if(ue(t))return un.empty();{const n=e.writeTree_.setTree(t,new Ie(null));return new un(n)}}function Hd(e,t){return Zr(e,t)!=null}function Zr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(pt(n.path,t)):null}function Xm(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fe,(r,i)=>{t.push(new oe(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new oe(r,i.value))}),t}function dr(e,t){if(ue(t))return e;{const n=Zr(e,t);return n!=null?new un(new Ie(n)):new un(e.writeTree_.subtree(t))}}function zd(e){return e.writeTree_.isEmpty()}function Vi(e,t){return ny(ge(),e.writeTree_,t)}function ny(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(z(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ny($e(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild($e(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(e,t){return ay(t,e)}function C4(e,t,n,r,i){z(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ys(e.visibleWrites,t,n)),e.lastWriteId=r}function S4(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function N4(e,t){const n=e.allWrites.findIndex(o=>o.writeId===t);z(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const o=e.allWrites[a];o.visible&&(a>=n&&v4(o,r.path)?i=!1:nn(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return k4(e),!0;if(r.snap)e.visibleWrites=Km(e.visibleWrites,r.path);else{const o=r.children;It(o,u=>{e.visibleWrites=Km(e.visibleWrites,$e(r.path,u))})}return!0}else return!1}function v4(e,t){if(e.snap)return nn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&nn($e(e.path,n),t))return!0;return!1}function k4(e){e.visibleWrites=ry(e.allWrites,I4,ge()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function I4(e){return e.visible}function ry(e,t,n){let r=un.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const a=s.path;let o;if(s.snap)nn(n,a)?(o=pt(n,a),r=Ys(r,o,s.snap)):nn(a,n)&&(o=pt(a,n),r=Ys(r,ge(),s.snap.getChild(o)));else if(s.children){if(nn(n,a))o=pt(n,a),r=qm(r,o,s.children);else if(nn(a,n))if(o=pt(a,n),ue(o))r=qm(r,ge(),s.children);else{const u=Hi(s.children,ae(o));if(u){const l=u.getChild(Ne(o));r=Ys(r,ge(),l)}}}else throw es("WriteRecord should have .snap or .children")}}return r}function iy(e,t,n,r,i){if(!r&&!i){const s=Zr(e.visibleWrites,t);if(s!=null)return s;{const a=dr(e.visibleWrites,t);if(zd(a))return n;if(n==null&&!Hd(a,ge()))return null;{const o=n||J.EMPTY_NODE;return Vi(a,o)}}}else{const s=dr(e.visibleWrites,t);if(!i&&zd(s))return n;if(!i&&n==null&&!Hd(s,ge()))return null;{const a=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(nn(l.path,t)||nn(t,l.path))},o=ry(e.allWrites,a,t),u=n||J.EMPTY_NODE;return Vi(o,u)}}}function A4(e,t,n){let r=J.EMPTY_NODE;const i=Zr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Fe,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=dr(e.visibleWrites,t);return n.forEachChild(Fe,(a,o)=>{const u=Vi(dr(s,new be(a)),o);r=r.updateImmediateChild(a,u)}),Xm(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=dr(e.visibleWrites,t);return Xm(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function w4(e,t,n,r,i){z(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=$e(t,n);if(Hd(e.visibleWrites,s))return null;{const a=dr(e.visibleWrites,s);return zd(a)?i.getChild(n):Vi(a,i.getChild(n))}}function R4(e,t,n,r){const i=$e(t,n),s=Zr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=dr(e.visibleWrites,i);return Vi(a,r.getNode().getImmediateChild(n))}else return null}function O4(e,t){return Zr(e.visibleWrites,t)}function D4(e,t,n,r,i,s,a){let o;const u=dr(e.visibleWrites,t),l=Zr(u,ge());if(l!=null)o=l;else if(n!=null)o=Vi(u,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const h=[],d=a.getCompare(),p=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let m=p.getNext();for(;m&&h.length<i;)d(m,r)!==0&&h.push(m),m=p.getNext();return h}else return[]}function L4(){return{visibleWrites:un.empty(),allWrites:[],lastWriteId:-1}}function ku(e,t,n,r){return iy(e.writeTree,e.treePath,t,n,r)}function kf(e,t){return A4(e.writeTree,e.treePath,t)}function Jm(e,t,n,r){return w4(e.writeTree,e.treePath,t,n,r)}function Iu(e,t){return O4(e.writeTree,$e(e.treePath,t))}function P4(e,t,n,r,i,s){return D4(e.writeTree,e.treePath,t,n,r,i,s)}function If(e,t,n){return R4(e.writeTree,e.treePath,t,n)}function sy(e,t){return ay($e(e.treePath,t),e.writeTree)}function ay(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Sa(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ca(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Wi(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Sa(r,t.snapshotNode,i.oldSnap));else throw es("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const oy=new F4;class Af{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new gr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return If(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gr(this.viewCache_),s=P4(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(e){return{filter:e}}function j4(e,t){z(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function U4(e,t,n,r,i){const s=new M4;let a,o;if(n.type===rn.OVERWRITE){const l=n;l.source.fromUser?a=Wd(e,t,l.path,l.snap,r,i,s):(z(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered()&&!ue(l.path),a=Au(e,t,l.path,l.snap,r,i,o,s))}else if(n.type===rn.MERGE){const l=n;l.source.fromUser?a=z4(e,t,l.path,l.children,r,i,s):(z(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Vd(e,t,l.path,l.children,r,i,o,s))}else if(n.type===rn.ACK_USER_WRITE){const l=n;l.revert?a=Y4(e,t,l.path,r,i,s):a=W4(e,t,l.path,l.affectedTree,r,i,s)}else if(n.type===rn.LISTEN_COMPLETE)a=V4(e,t,n.path,r,s);else throw es("Unknown operation type: "+n.type);const u=s.getChanges();return H4(t,a,u),{viewCache:a,changes:u}}function H4(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(JT(vu(t)))}}function uy(e,t,n,r,i,s){const a=t.eventCache;if(Iu(r,n)!=null)return t;{let o,u;if(ue(n))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=Gr(t),h=l instanceof J?l:J.EMPTY_NODE,d=kf(r,h);o=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const l=ku(r,Gr(t));o=e.filter.updateFullNode(t.eventCache.getNode(),l,s)}else{const l=ae(n);if(l===".priority"){z(mr(n)===1,"Can't have a priority with additional path components");const h=a.getNode();u=t.serverCache.getNode();const d=Jm(r,n,h,u);d!=null?o=e.filter.updatePriority(h,d):o=a.getNode()}else{const h=Ne(n);let d;if(a.isCompleteForChild(l)){u=t.serverCache.getNode();const p=Jm(r,n,a.getNode(),u);p!=null?d=a.getNode().getImmediateChild(l).updateChild(h,p):d=a.getNode().getImmediateChild(l)}else d=If(r,l,t.serverCache);d!=null?o=e.filter.updateChild(a.getNode(),l,d,h,i,s):o=a.getNode()}}return Vs(t,o,a.isFullyInitialized()||ue(n),e.filter.filtersNodes())}}function Au(e,t,n,r,i,s,a,o){const u=t.serverCache;let l;const h=a?e.filter:e.filter.getIndexedFilter();if(ue(n))l=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const m=u.getNode().updateChild(n,r);l=h.updateFullNode(u.getNode(),m,null)}else{const m=ae(n);if(!u.isCompleteForPath(n)&&mr(n)>1)return t;const g=Ne(n),I=u.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?l=h.updatePriority(u.getNode(),I):l=h.updateChild(u.getNode(),m,I,g,oy,null)}const d=ty(t,l,u.isFullyInitialized()||ue(n),h.filtersNodes()),p=new Af(i,d,s);return uy(e,d,n,i,p,o)}function Wd(e,t,n,r,i,s,a){const o=t.eventCache;let u,l;const h=new Af(i,t,s);if(ue(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),u=Vs(t,l,!0,e.filter.filtersNodes());else{const d=ae(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),u=Vs(t,l,o.isFullyInitialized(),o.isFiltered());else{const p=Ne(n),m=o.getNode().getImmediateChild(d);let g;if(ue(p))g=r;else{const x=h.getCompleteChild(d);x!=null?WT(p)===".priority"&&x.getChild(YT(p)).isEmpty()?g=x:g=x.updateChild(p,r):g=J.EMPTY_NODE}if(m.equals(g))u=t;else{const x=e.filter.updateChild(o.getNode(),d,g,p,h,a);u=Vs(t,x,o.isFullyInitialized(),e.filter.filtersNodes())}}}return u}function Zm(e,t){return e.eventCache.isCompleteForChild(t)}function z4(e,t,n,r,i,s,a){let o=t;return r.foreach((u,l)=>{const h=$e(n,u);Zm(t,ae(h))&&(o=Wd(e,o,h,l,i,s,a))}),r.foreach((u,l)=>{const h=$e(n,u);Zm(t,ae(h))||(o=Wd(e,o,h,l,i,s,a))}),o}function eg(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Vd(e,t,n,r,i,s,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t,l;ue(n)?l=r:l=new Ie(null).setTree(n,r);const h=t.serverCache.getNode();return l.children.inorderTraversal((d,p)=>{if(h.hasChild(d)){const m=t.serverCache.getNode().getImmediateChild(d),g=eg(e,m,p);u=Au(e,u,new be(d),g,i,s,a,o)}}),l.children.inorderTraversal((d,p)=>{const m=!t.serverCache.isCompleteForChild(d)&&p.value===null;if(!h.hasChild(d)&&!m){const g=t.serverCache.getNode().getImmediateChild(d),x=eg(e,g,p);u=Au(e,u,new be(d),x,i,s,a,o)}}),u}function W4(e,t,n,r,i,s,a){if(Iu(i,n)!=null)return t;const o=t.serverCache.isFiltered(),u=t.serverCache;if(r.value!=null){if(ue(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Au(e,t,n,u.getNode().getChild(n),i,s,o,a);if(ue(n)){let l=new Ie(null);return u.getNode().forEachChild(wi,(h,d)=>{l=l.set(new be(h),d)}),Vd(e,t,n,l,i,s,o,a)}else return t}else{let l=new Ie(null);return r.foreach((h,d)=>{const p=$e(n,h);u.isCompleteForPath(p)&&(l=l.set(h,u.getNode().getChild(p)))}),Vd(e,t,n,l,i,s,o,a)}}function V4(e,t,n,r,i){const s=t.serverCache,a=ty(t,s.getNode(),s.isFullyInitialized()||ue(n),s.isFiltered());return uy(e,a,n,r,oy,i)}function Y4(e,t,n,r,i,s){let a;if(Iu(r,n)!=null)return t;{const o=new Af(r,t,i),u=t.eventCache.getNode();let l;if(ue(n)||ae(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=ku(r,Gr(t));else{const d=t.serverCache.getNode();z(d instanceof J,"serverChildren would be complete if leaf node"),h=kf(r,d)}h=h,l=e.filter.updateFullNode(u,h,s)}else{const h=ae(n);let d=If(r,h,t.serverCache);d==null&&t.serverCache.isCompleteForChild(h)&&(d=u.getImmediateChild(h)),d!=null?l=e.filter.updateChild(u,h,d,Ne(n),o,s):t.eventCache.getNode().hasChild(h)?l=e.filter.updateChild(u,h,J.EMPTY_NODE,Ne(n),o,s):l=u,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ku(r,Gr(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,s)))}return a=t.serverCache.isFullyInitialized()||Iu(r,ge())!=null,Vs(t,l,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Cf(r.getIndex()),s=d4(r);this.processor_=B4(s);const a=n.serverCache,o=n.eventCache,u=i.updateFullNode(J.EMPTY_NODE,a.getNode(),null),l=s.updateFullNode(J.EMPTY_NODE,o.getNode(),null),h=new gr(u,a.isFullyInitialized(),i.filtersNodes()),d=new gr(l,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=dl(d,h),this.eventGenerator_=new _4(this.query_)}get query(){return this.query_}}function Q4(e){return e.viewCache_.serverCache.getNode()}function G4(e){return vu(e.viewCache_)}function q4(e,t){const n=Gr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ue(t)&&!n.getImmediateChild(ae(t)).isEmpty())?n.getChild(t):null}function tg(e){return e.eventRegistrations_.length===0}function K4(e,t){e.eventRegistrations_.push(t)}function ng(e,t,n){const r=[];if(n){z(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const a=e.eventRegistrations_[s];if(!a.matches(t))i.push(a);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function rg(e,t,n,r){t.type===rn.MERGE&&t.source.queryId!==null&&(z(Gr(e.viewCache_),"We should always have a full cache before handling merges"),z(vu(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=U4(e.processor_,i,t,n,r);return j4(e.processor_,s.viewCache),z(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ly(e,s.changes,s.viewCache.eventCache.getNode(),null)}function X4(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Fe,(s,a)=>{r.push(Wi(s,a))}),n.isFullyInitialized()&&r.push(JT(n.getNode())),ly(e,r,n.getNode(),t)}function ly(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return T4(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu;class cy{constructor(){this.views=new Map}}function J4(e){z(!wu,"__referenceConstructor has already been defined"),wu=e}function Z4(){return z(wu,"Reference.ts has not been loaded"),wu}function eR(e){return e.views.size===0}function wf(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return z(s!=null,"SyncTree gave us an op for an invalid query."),rg(s,t,n,r)}else{let s=[];for(const a of e.views.values())s=s.concat(rg(a,t,n,r));return s}}function dy(e,t,n,r,i){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let o=ku(n,i?r:null),u=!1;o?u=!0:r instanceof J?(o=kf(n,r),u=!1):(o=J.EMPTY_NODE,u=!1);const l=dl(new gr(o,u,!1),new gr(r,i,!1));return new $4(t,l)}return a}function tR(e,t,n,r,i,s){const a=dy(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),K4(a,n),X4(a,n)}function nR(e,t,n,r){const i=t._queryIdentifier,s=[];let a=[];const o=Er(e);if(i==="default")for(const[u,l]of e.views.entries())a=a.concat(ng(l,n,r)),tg(l)&&(e.views.delete(u),l.query._queryParams.loadsAllData()||s.push(l.query));else{const u=e.views.get(i);u&&(a=a.concat(ng(u,n,r)),tg(u)&&(e.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return o&&!Er(e)&&s.push(new(Z4())(t._repo,t._path)),{removed:s,events:a}}function hy(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function hr(e,t){let n=null;for(const r of e.views.values())n=n||q4(r,t);return n}function fy(e,t){if(t._queryParams.loadsAllData())return fl(e);{const r=t._queryIdentifier;return e.views.get(r)}}function py(e,t){return fy(e,t)!=null}function Er(e){return fl(e)!=null}function fl(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;function rR(e){z(!Ru,"__referenceConstructor has already been defined"),Ru=e}function iR(){return z(Ru,"Reference.ts has not been loaded"),Ru}let sR=1;class ig{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=L4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function my(e,t,n,r,i){return C4(e.pendingWriteTree_,t,n,r,i),i?Va(e,new Qr(ey(),t,n)):[]}function Lr(e,t,n=!1){const r=S4(e.pendingWriteTree_,t);if(N4(e.pendingWriteTree_,t)){let s=new Ie(null);return r.snap!=null?s=s.set(ge(),!0):It(r.children,a=>{s=s.set(new be(a),!0)}),Va(e,new Nu(r.path,s,n))}else return[]}function Wa(e,t,n){return Va(e,new Qr(Nf(),t,n))}function aR(e,t,n){const r=Ie.fromObject(n);return Va(e,new ka(Nf(),t,r))}function oR(e,t){return Va(e,new va(Nf(),t))}function uR(e,t,n){const r=Of(e,n);if(r){const i=Df(r),s=i.path,a=i.queryId,o=pt(s,t),u=new va(vf(a),o);return Lf(e,s,u)}else return[]}function Ou(e,t,n,r,i=!1){const s=t._path,a=e.syncPointTree_.get(s);let o=[];if(a&&(t._queryIdentifier==="default"||py(a,t))){const u=nR(a,t,n,r);eR(a)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const l=u.removed;if(o=u.events,!i){const h=l.findIndex(p=>p._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(p,m)=>Er(m));if(h&&!d){const p=e.syncPointTree_.subtree(s);if(!p.isEmpty()){const m=dR(p);for(let g=0;g<m.length;++g){const x=m[g],I=x.query,E=Ty(e,x);e.listenProvider_.startListening($s(I),Ia(e,I),E.hashFn,E.onComplete)}}}!d&&l.length>0&&!r&&(h?e.listenProvider_.stopListening($s(t),null):l.forEach(p=>{const m=e.queryToTagMap.get(pl(p));e.listenProvider_.stopListening($s(p),m)}))}hR(e,l)}return o}function gy(e,t,n,r){const i=Of(e,r);if(i!=null){const s=Df(i),a=s.path,o=s.queryId,u=pt(a,t),l=new Qr(vf(o),u,n);return Lf(e,a,l)}else return[]}function lR(e,t,n,r){const i=Of(e,r);if(i){const s=Df(i),a=s.path,o=s.queryId,u=pt(a,t),l=Ie.fromObject(n),h=new ka(vf(o),u,l);return Lf(e,a,h)}else return[]}function Yd(e,t,n,r=!1){const i=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(i,(p,m)=>{const g=pt(p,i);s=s||hr(m,g),a=a||Er(m)});let o=e.syncPointTree_.get(i);o?(a=a||Er(o),s=s||hr(o,ge())):(o=new cy,e.syncPointTree_=e.syncPointTree_.set(i,o));let u;s!=null?u=!0:(u=!1,s=J.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((m,g)=>{const x=hr(g,ge());x&&(s=s.updateImmediateChild(m,x))}));const l=py(o,t);if(!l&&!t._queryParams.loadsAllData()){const p=pl(t);z(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");const m=fR();e.queryToTagMap.set(p,m),e.tagToQueryMap.set(m,p)}const h=hl(e.pendingWriteTree_,i);let d=tR(o,t,n,h,s,u);if(!l&&!a&&!r){const p=fy(o,t);d=d.concat(pR(e,t,p))}return d}function Rf(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(a,o)=>{const u=pt(a,t),l=hr(o,u);if(l)return l});return iy(i,t,s,n,!0)}function cR(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(l,h)=>{const d=pt(l,n);r=r||hr(h,d)});let i=e.syncPointTree_.get(n);i?r=r||hr(i,ge()):(i=new cy,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,a=s?new gr(r,!0,!1):null,o=hl(e.pendingWriteTree_,t._path),u=dy(i,t,o,s?a.getNode():J.EMPTY_NODE,s);return G4(u)}function Va(e,t){return Ey(t,e.syncPointTree_,null,hl(e.pendingWriteTree_,ge()))}function Ey(e,t,n,r){if(ue(e.path))return _y(e,t,n,r);{const i=t.get(ge());n==null&&i!=null&&(n=hr(i,ge()));let s=[];const a=ae(e.path),o=e.operationForChild(a),u=t.children.get(a);if(u&&o){const l=n?n.getImmediateChild(a):null,h=sy(r,a);s=s.concat(Ey(o,u,l,h))}return i&&(s=s.concat(wf(i,e,r,n))),s}}function _y(e,t,n,r){const i=t.get(ge());n==null&&i!=null&&(n=hr(i,ge()));let s=[];return t.children.inorderTraversal((a,o)=>{const u=n?n.getImmediateChild(a):null,l=sy(r,a),h=e.operationForChild(a);h&&(s=s.concat(_y(h,o,u,l)))}),i&&(s=s.concat(wf(i,e,r,n))),s}function Ty(e,t){const n=t.query,r=Ia(e,n);return{hashFn:()=>(Q4(t)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?uR(e,n._path,r):oR(e,n._path);{const s=c6(i,n);return Ou(e,n,null,s)}}}}function Ia(e,t){const n=pl(t);return e.queryToTagMap.get(n)}function pl(e){return e._path.toString()+"$"+e._queryIdentifier}function Of(e,t){return e.tagToQueryMap.get(t)}function Df(e){const t=e.indexOf("$");return z(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new be(e.substr(0,t))}}function Lf(e,t,n){const r=e.syncPointTree_.get(t);z(r,"Missing sync point for query tag that we're tracking");const i=hl(e.pendingWriteTree_,t);return wf(r,n,i,null)}function dR(e){return e.fold((t,n,r)=>{if(n&&Er(n))return[fl(n)];{let i=[];return n&&(i=hy(n)),It(r,(s,a)=>{i=i.concat(a)}),i}})}function $s(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(iR())(e._repo,e._path):e}function hR(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=pl(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function fR(){return sR++}function pR(e,t,n){const r=t._path,i=Ia(e,t),s=Ty(e,n),a=e.listenProvider_.startListening($s(t),i,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(r);if(i)z(!Er(o.value),"If we're adding a query, it shouldn't be shadowed");else{const u=o.fold((l,h,d)=>{if(!ue(l)&&h&&Er(h))return[fl(h).query];{let p=[];return h&&(p=p.concat(hy(h).map(m=>m.query))),It(d,(m,g)=>{p=p.concat(g)}),p}});for(let l=0;l<u.length;++l){const h=u[l];e.listenProvider_.stopListening($s(h),Ia(e,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Pf(n)}node(){return this.node_}}class Mf{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=$e(this.path_,t);return new Mf(this.syncTree_,n)}node(){return Rf(this.syncTree_,this.path_)}}const mR=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},sg=function(e,t,n){if(!e||typeof e!="object")return e;if(z(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return gR(e[".sv"],t,n);if(typeof e[".sv"]=="object")return ER(e[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},gR=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+e)}},ER=function(e,t,n){e.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const i=t.node();if(z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},_R=function(e,t,n,r){return Ff(t,new Mf(n,e),r)},yy=function(e,t,n){return Ff(e,new Pf(t),n)};function Ff(e,t,n){const r=e.getPriority().val(),i=sg(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const a=e,o=sg(a.getValue(),t,n);return o!==a.getValue()||i!==a.getPriority().val()?new qe(o,Je(i)):e}else{const a=e;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new qe(i))),a.forEachChild(Fe,(o,u)=>{const l=Ff(u,t.getImmediateChild(o),n);l!==u&&(s=s.updateImmediateChild(o,l))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function jf(e,t){let n=t instanceof be?t:new be(t),r=e,i=ae(n);for(;i!==null;){const s=Hi(r.node.children,i)||{children:{},childCount:0};r=new Bf(i,r,s),n=Ne(n),i=ae(n)}return r}function rs(e){return e.node.value}function xy(e,t){e.node.value=t,$d(e)}function by(e){return e.node.childCount>0}function TR(e){return rs(e)===void 0&&!by(e)}function ml(e,t){It(e.node.children,(n,r)=>{t(new Bf(n,e,r))})}function Cy(e,t,n,r){n&&!r&&t(e),ml(e,i=>{Cy(i,t,!0,r)}),n&&r&&t(e)}function yR(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ya(e){return new be(e.parent===null?e.name:Ya(e.parent)+"/"+e.name)}function $d(e){e.parent!==null&&xR(e.parent,e.name,e)}function xR(e,t,n){const r=TR(n),i=zn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,$d(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,$d(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/[\[\].#$\/\u0000-\u001F\u007F]/,CR=/[\[\].#$\u0000-\u001F\u007F]/,xc=10*1024*1024,Sy=function(e){return typeof e=="string"&&e.length!==0&&!bR.test(e)},Ny=function(e){return typeof e=="string"&&e.length!==0&&!CR.test(e)},SR=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ny(e)},vy=function(e,t,n,r){r&&t===void 0||Uf(pf(e,"value"),t,n)},Uf=function(e,t,n){const r=n instanceof be?new W6(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ir(r));if(typeof t=="function")throw new Error(e+"contains a function "+Ir(r)+" with contents = "+t.toString());if(bT(t))throw new Error(e+"contains "+t.toString()+" "+Ir(r));if(typeof t=="string"&&t.length>xc/3&&ll(t)>xc)throw new Error(e+"contains a string greater than "+xc+" utf8 bytes "+Ir(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(It(t,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Sy(a)))throw new Error(e+" contains an invalid key ("+a+") "+Ir(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);V6(r,a),Uf(e,o,r),Y6(r)}),i&&s)throw new Error(e+' contains ".value" child '+Ir(r)+" in addition to actual children.")}},ky=function(e,t,n,r){if(!(r&&n===void 0)&&!Ny(n))throw new Error(pf(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NR=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ky(e,t,n,r)},Hf=function(e,t){if(ae(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},vR=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Sy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SR(n))throw new Error(pf(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zf(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!yf(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Iy(e,t,n){zf(e,n),Ay(e,r=>yf(r,t))}function Tn(e,t,n){zf(e,n),Ay(e,r=>nn(r,t)||nn(t,r))}function Ay(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(IR(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function IR(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Br&&ot("event: "+n.toString()),ns(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="repo_interrupt",wR=25;class RR{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Su(),this.transactionQueueTree_=new Bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OR(e,t,n){if(e.stats_=_f(e.repoInfo_),e.forceRestClient_||p6())e.server_=new Cu(e.repoInfo_,(r,i,s,a)=>{ag(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>og(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ye(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Dn(e.repoInfo_,t,(r,i,s,a)=>{ag(e,r,i,s,a)},r=>{og(e,r)},r=>{DR(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=T6(e.repoInfo_,()=>new E4(e.stats_,e.server_)),e.infoData_=new h4,e.infoSyncTree_=new ig({startListening:(r,i,s,a)=>{let o=[];const u=e.infoData_.getNode(r._path);return u.isEmpty()||(o=Wa(e.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),Vf(e,"connected",!1),e.serverSyncTree_=new ig({startListening:(r,i,s,a)=>(e.server_.listen(r,s,i,(o,u)=>{const l=a(o,u);Tn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function wy(e){const n=e.infoData_.getNode(new be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Wf(e){return mR({timestamp:wy(e)})}function ag(e,t,n,r,i){e.dataUpdateCount++;const s=new be(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const u=Eu(n,l=>Je(l));a=lR(e.serverSyncTree_,s,u,i)}else{const u=Je(n);a=gy(e.serverSyncTree_,s,u,i)}else if(r){const u=Eu(n,l=>Je(l));a=aR(e.serverSyncTree_,s,u)}else{const u=Je(n);a=Wa(e.serverSyncTree_,s,u)}let o=s;a.length>0&&(o=El(e,s)),Tn(e.eventQueue_,o,a)}function og(e,t){Vf(e,"connected",t),t===!1&&MR(e)}function DR(e,t){It(t,(n,r)=>{Vf(e,n,r)})}function Vf(e,t,n){const r=new be("/.info/"+t),i=Je(n);e.infoData_.updateSnapshot(r,i);const s=Wa(e.infoSyncTree_,r,i);Tn(e.eventQueue_,r,s)}function Ry(e){return e.nextWriteId_++}function LR(e,t,n){const r=cR(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=Je(i).withIndex(t._queryParams.getIndex());Yd(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=Wa(e.serverSyncTree_,t._path,s);else{const o=Ia(e.serverSyncTree_,t);a=gy(e.serverSyncTree_,t._path,s,o)}return Tn(e.eventQueue_,t._path,a),Ou(e.serverSyncTree_,t,n,null,!0),s},i=>(gl(e,"get for query "+Ye(t)+" failed: "+i),Promise.reject(new Error(i))))}function PR(e,t,n,r,i){gl(e,"set",{path:t.toString(),value:n,priority:r});const s=Wf(e),a=Je(n,r),o=Rf(e.serverSyncTree_,t),u=yy(a,o,s),l=Ry(e),h=my(e.serverSyncTree_,t,u,l,!0);zf(e.eventQueue_,h),e.server_.put(t.toString(),a.val(!0),(p,m)=>{const g=p==="ok";g||kt("set at "+t+" failed: "+p);const x=Lr(e.serverSyncTree_,l,!g);Tn(e.eventQueue_,t,x),jR(e,i,p,m)});const d=My(e,t);El(e,d),Tn(e.eventQueue_,d,[])}function MR(e){gl(e,"onDisconnectEvents");const t=Wf(e),n=Su();Ud(e.onDisconnect_,ge(),(i,s)=>{const a=_R(i,s,e.serverSyncTree_,t);ZT(n,i,a)});let r=[];Ud(n,ge(),(i,s)=>{r=r.concat(Wa(e.serverSyncTree_,i,s));const a=My(e,i);El(e,a)}),e.onDisconnect_=Su(),Tn(e.eventQueue_,ge(),r)}function FR(e,t,n){let r;ae(t._path)===".info"?r=Yd(e.infoSyncTree_,t,n):r=Yd(e.serverSyncTree_,t,n),Iy(e.eventQueue_,t._path,r)}function Qd(e,t,n){let r;ae(t._path)===".info"?r=Ou(e.infoSyncTree_,t,n):r=Ou(e.serverSyncTree_,t,n),Iy(e.eventQueue_,t._path,r)}function BR(e){e.persistentConnection_&&e.persistentConnection_.interrupt(AR)}function gl(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ot(n,...t)}function jR(e,t,n,r){t&&ns(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,t(a)}})}function Oy(e,t,n){return Rf(e.serverSyncTree_,t,n)||J.EMPTY_NODE}function Yf(e,t=e.transactionQueueTree_){if(t||_l(e,t),rs(t)){const n=Ly(e,t);z(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&UR(e,Ya(t),n)}else by(t)&&ml(t,n=>{Yf(e,n)})}function UR(e,t,n){const r=n.map(l=>l.currentWriteId),i=Oy(e,t,r);let s=i;const a=i.hash();for(let l=0;l<n.length;l++){const h=n[l];z(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=pt(t,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const o=s.val(!0),u=t;e.server_.put(u.toString(),o,l=>{gl(e,"transaction put response",{path:u.toString(),status:l});let h=[];if(l==="ok"){const d=[];for(let p=0;p<n.length;p++)n[p].status=2,h=h.concat(Lr(e.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&d.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();_l(e,jf(e.transactionQueueTree_,t)),Yf(e,e.transactionQueueTree_),Tn(e.eventQueue_,t,h);for(let p=0;p<d.length;p++)ns(d[p])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{kt("transaction at "+u.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}El(e,t)}},a)}function El(e,t){const n=Dy(e,t),r=Ya(n),i=Ly(e,n);return HR(e,i,r),r}function HR(e,t,n){if(t.length===0)return;const r=[];let i=[];const a=t.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<t.length;o++){const u=t[o],l=pt(n,u.path);let h=!1,d;if(z(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)h=!0,d=u.abortReason,i=i.concat(Lr(e.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=wR)h=!0,d="maxretry",i=i.concat(Lr(e.serverSyncTree_,u.currentWriteId,!0));else{const p=Oy(e,u.path,a);u.currentInputSnapshot=p;const m=t[o].update(p.val());if(m!==void 0){Uf("transaction failed: Data returned ",m,u.path);let g=Je(m);typeof m=="object"&&m!=null&&zn(m,".priority")||(g=g.updatePriority(p.getPriority()));const I=u.currentWriteId,E=Wf(e),T=yy(g,p,E);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=T,u.currentWriteId=Ry(e),a.splice(a.indexOf(I),1),i=i.concat(my(e.serverSyncTree_,u.path,T,u.currentWriteId,u.applyLocally)),i=i.concat(Lr(e.serverSyncTree_,I,!0))}else h=!0,d="nodata",i=i.concat(Lr(e.serverSyncTree_,u.currentWriteId,!0))}Tn(e.eventQueue_,n,i),i=[],h&&(t[o].status=2,function(p){setTimeout(p,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&(d==="nodata"?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(new Error(d),!1,null))))}_l(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)ns(r[o]);Yf(e,e.transactionQueueTree_)}function Dy(e,t){let n,r=e.transactionQueueTree_;for(n=ae(t);n!==null&&rs(r)===void 0;)r=jf(r,n),t=Ne(t),n=ae(t);return r}function Ly(e,t){const n=[];return Py(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Py(e,t,n){const r=rs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ml(t,i=>{Py(e,i,n)})}function _l(e,t){const n=rs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,xy(t,n.length>0?n:void 0)}ml(t,r=>{_l(e,r)})}function My(e,t){const n=Ya(Dy(e,t)),r=jf(e.transactionQueueTree_,t);return yR(r,i=>{bc(e,i)}),bc(e,r),Cy(r,i=>{bc(e,i)}),n}function bc(e,t){const n=rs(t);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(z(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(z(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Lr(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?xy(t,void 0):n.length=s+1,Tn(e.eventQueue_,Ya(t),i);for(let a=0;a<r.length;a++)ns(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function WR(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kt(`Invalid query segment '${n}' in query '${e}'`)}return t}const ug=function(e,t){const n=VR(e),r=n.namespace;n.domain==="firebase.com"&&jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||s6();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new LT(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new be(n.pathString)}},VR=function(e){let t="",n="",r="",i="",s="",a=!0,o="https",u=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(o=e.substring(0,l-1),e=e.substring(l+2));let h=e.indexOf("/");h===-1&&(h=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(i=zR(e.substring(h,d)));const p=WR(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(a=o==="https"||o==="wss",u=parseInt(t.substring(l+1),10)):l=t.length;const m=t.slice(0,l);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=r}"ns"in p&&(s=p.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",YR=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=lg.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=lg.charAt(t[i]);return z(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ye(this.snapshot.exportVal())}}class By{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ue(this._path)?null:WT(this._path)}get ref(){return new bn(this._repo,this._path)}get _queryIdentifier(){const t=Qm(this._queryParams),n=gf(t);return n==="{}"?"default":n}get _queryObject(){return Qm(this._queryParams)}isEqual(t){if(t=Jr(t),!(t instanceof Qf))return!1;const n=this._repo===t._repo,r=yf(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+z6(this._path)}}class bn extends Qf{constructor(t,n){super(t,n,new Sf,!1)}get parent(){const t=YT(this._path);return t===null?null:new bn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Yi{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new be(t),r=$i(this.ref,t);return new Yi(this._node.getChild(n),r,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Yi(i,$i(this.ref,r),Fe)))}hasChild(t){const n=new be(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vt(e,t){return e=Jr(e),e._checkNotDeleted("ref"),t!==void 0?$i(e._root,t):e._root}function $i(e,t){return e=Jr(e),ae(e._path)===null?NR("child","path",t,!1):ky("child","path",t,!1),new bn(e._repo,$e(e._path,t))}function Gd(e,t){e=Jr(e),Hf("push",e._path),vy("push",t,e._path,!0);const n=wy(e._repo),r=YR(n),i=$i(e,r),s=$i(e,r);let a;return t!=null?a=Qi(s,t).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function jy(e){return Hf("remove",e._path),Qi(e,null)}function Qi(e,t){e=Jr(e),Hf("set",e._path),vy("set",t,e._path,!1);const n=new ul;return PR(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Du(e){e=Jr(e);const t=new $f(()=>{}),n=new $a(t);return LR(e._repo,e,n).then(r=>new Yi(r,new bn(e._repo,e._path),e._queryParams.getIndex()))}class $a{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Fy("value",this,new Yi(t.snapshotNode,new bn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new By(this,t,n):null}matches(t){return t instanceof $a?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Tl{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new By(this,t,n):null}createEvent(t,n){z(t.childName!=null,"Child events should have a childName.");const r=$i(new bn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Fy(t.type,this,new Yi(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Tl?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function $R(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,l=(h,d)=>{Qd(e._repo,e,o),u(h,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}const a=new $f(n,s||void 0),o=t==="value"?new $a(a):new Tl(t,a);return FR(e._repo,e,o),()=>Qd(e._repo,e,o)}function Uy(e,t,n,r){return $R(e,"value",t,n,r)}function Hy(e,t,n){let r=null;const i=n?new $f(n):null;t==="value"?r=new $a(i):t&&(r=new Tl(t,i)),Qd(e._repo,e,r)}J4(bn);rR(bn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="FIREBASE_DATABASE_EMULATOR_HOST",qd={};let GR=!1;function qR(e,t,n,r){e.repoInfo_=new LT(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function KR(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=ug(s,i),o=a.repoInfo,u,l;typeof process<"u"&&process.env&&(l=process.env[QR]),l?(u=!0,s=`http://${l}?ns=${o.namespace}`,a=ug(s,i),o=a.repoInfo):u=!a.repoInfo.secure;const h=i&&u?new Ai(Ai.OWNER):new g6(e.name,e.options,t);vR("Invalid Firebase Database URL",a),ue(a.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=JR(o,e,h,new m6(e.name,n));return new ZR(d,e)}function XR(e,t){const n=qd[t];(!n||n[e.key]!==e)&&jn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),BR(e),delete n[e.key]}function JR(e,t,n,r){let i=qd[t.name];i||(i={},qd[t.name]=i);let s=i[e.toURLString()];return s&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new RR(e,GR,n,r),i[e.toURLString()]=s,s}class ZR{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bn(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(XR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&jn("Cannot call "+t+" on a deleted database.")}}function eO(e=Vw(),t){const n=Uw(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=wA("database");r&&tO(n,...r)}return n}function tO(e,t,n,r={}){e=Jr(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&jn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ai(Ai.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:RA(r.mockUserToken,e.app.options.projectId);s=new Ai(a)}qR(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(e){e6(Ww),Tu(new ya("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return KR(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ki(wm,Rm,e),ki(wm,Rm,"esm2017")}Dn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Dn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};nO();var rO="firebase",iO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(rO,iO,"app");const sO={apiKey:"AIzaSyBu9fu2fu2cXTTd4_vu6ddzNgu819-ggmU",authDomain:"w3-app-c1464.firebaseapp.com",databaseURL:"https://w3-app-c1464-default-rtdb.firebaseio.com",projectId:"w3-app-c1464",storageBucket:"w3-app-c1464.firebasestorage.app",messagingSenderId:"173028311342",appId:"1:173028311342:web:3a8971abf7b04bc84bfabf",measurementId:"G-PBQQSZB08M"},aO=gT(sO),Yt=eO(aO);function cg({article:e,sharedId:t,onClose:n}){const[r,i]=$.useState(t||null),[s,a]=$.useState(""),[o,u]=$.useState([]),[l,h]=$.useState(""),[d,p]=$.useState(!1),[m,g]=$.useState(!1),[x,I]=$.useState(""),[E,T]=$.useState("public"),[_,k]=$.useState(e||null);$.useEffect(()=>{const P=localStorage.getItem("w3_username");P&&a(P)},[]),$.useEffect(()=>{t&&O(t)},[t]);const O=async P=>{p(!0);try{const Y=Vt(Yt,`shared_diaries/${P}`),Z=await Du(Y);if(Z.exists()){const de=Z.val();k(de.article),i(P)}}catch(Y){alert(" "+Y.message)}finally{p(!1)}};$.useEffect(()=>{if(!r)return;const P=Vt(Yt,`shared_diaries/${r}/comments`);return Uy(P,Y=>{const Z=Y.val();if(Z){const de=Object.entries(Z).map(([ne,Te])=>({id:ne,...Te}));de.sort((ne,Te)=>ne.timestamp-Te.timestamp),u(de)}else u([])}),()=>Hy(P)},[r]);const v=()=>"diary_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),D=async()=>{if(!s.trim()){alert("");return}localStorage.setItem("w3_username",s),p(!0);const P=v();try{const Y=ma(),Z={article:{..._,author:s,authorId:Y,sharedAt:new Date().toISOString(),shareMode:E},comments:{}},de=Vt(Yt,`shared_diaries/${P}`);await Qi(de,Z),i(P),alert(" ")}catch(Y){alert(" "+Y.message),console.error("Firebase error:",Y)}finally{p(!1)}},B=async()=>{if(!x.trim()){alert("");return}if(!s.trim()){alert("");return}localStorage.setItem("w3_username",s),p(!0);try{const P=Vt(Yt,`shared_diaries/${x}`),Y=await Du(P);if(!Y.exists()){alert(" ");return}const Z=Y.val();k(Z.article),i(x),alert(" ")}catch(P){alert(" "+P.message),console.error("Firebase error:",P)}finally{p(!1)}},G=async()=>{if(!l.trim()){alert("");return}if(!s.trim()){alert("");return}p(!0);try{const P=ma(),Y=Vt(Yt,`shared_diaries/${r}/comments`),Z=Gd(Y);await Qi(Z,{author:s,authorId:P,content:l,timestamp:Date.now(),date:new Date().toLocaleString("zh-CN")}),h("")}catch(P){alert(" "+P.message),console.error("Firebase error:",P)}finally{p(!1)}},A=()=>{navigator.clipboard.writeText(r),g(!0),setTimeout(()=>g(!1),2e3)};return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 z-10",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[f.jsx($E,{className:"text-blue-500"}),t?"":""]}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 transition-colors text-2xl",children:""})]})}),f.jsxs("div",{className:"p-6 space-y-6",children:[!r&&!t&&f.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),f.jsx("input",{type:"text",value:s,onChange:P=>a(P.target.value),placeholder:"...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),!r&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-6 border border-blue-200",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:" "}),f.jsx("p",{className:"text-slate-600 text-sm mb-4",children:""}),f.jsxs("div",{className:"mb-4 space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>T("public"),className:`p-3 rounded-lg border-2 transition-all ${E==="public"?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[f.jsx(js,{className:`mx-auto mb-1 ${E==="public"?"text-blue-500":"text-slate-400"}`,size:20}),f.jsx("div",{className:"text-sm font-medium text-slate-700",children:""}),f.jsx("div",{className:"text-xs text-slate-500",children:""})]}),f.jsxs("button",{onClick:()=>T("private"),className:`p-3 rounded-lg border-2 transition-all ${E==="private"?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-slate-300"}`,children:[f.jsx(YE,{className:`mx-auto mb-1 ${E==="private"?"text-purple-500":"text-slate-400"}`,size:20}),f.jsx("div",{className:"text-sm font-medium text-slate-700",children:""}),f.jsx("div",{className:"text-xs text-slate-500",children:""})]})]})]}),f.jsx("button",{onClick:D,disabled:d,className:"w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-slate-300 font-medium",children:d?"...":""})]}),f.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6 border border-purple-200",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:" "}),f.jsx("p",{className:"text-slate-600 text-sm mb-4",children:""}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:x,onChange:P=>I(P.target.value),placeholder:"...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),f.jsx("button",{onClick:B,disabled:d,className:"bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition-colors disabled:bg-slate-300",children:d?"...":""})]})]})]}),r&&_&&f.jsxs("div",{className:"space-y-6",children:[!t&&f.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-700",children:""}),f.jsx("button",{onClick:A,className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:m?f.jsxs(f.Fragment,{children:[f.jsx(zE,{size:16}),""]}):f.jsxs(f.Fragment,{children:[f.jsx(WE,{size:16}),""]})})]}),f.jsx("code",{className:"block bg-white px-4 py-2 rounded border border-slate-300 text-sm font-mono break-all",children:r})]}),f.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:_.title}),f.jsxs("p",{className:"text-sm text-slate-600 mb-3",children:["",_.author,"  ",_.date]}),f.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:_.content})]}),f.jsxs("div",{className:"border border-slate-200 rounded-lg",children:[f.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[f.jsx(du,{size:18})," (",o.length,")"]}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),""]})]}),f.jsx("div",{className:"p-4 space-y-3 max-h-64 overflow-y-auto",children:o.length===0?f.jsx("p",{className:"text-center text-slate-400 py-8",children:"~"}):o.map(P=>f.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsx("span",{className:"font-medium text-slate-800",children:P.author}),f.jsx("span",{className:"text-xs text-slate-500",children:P.date})]}),f.jsx("p",{className:"text-slate-700",children:P.content})]},P.id))}),f.jsx("div",{className:"p-4 border-t border-slate-200",children:s?f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:l,onChange:P=>h(P.target.value),onKeyPress:P=>P.key==="Enter"&&G(),placeholder:"...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{onClick:G,disabled:d,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-slate-300",children:""})]}):f.jsx("div",{className:"space-y-2",children:f.jsx("input",{type:"text",value:s,onChange:P=>a(P.target.value),placeholder:"...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})})]}),f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsx("p",{className:"text-sm text-blue-800",children:" "})})]})]})]})})}function oO({onClose:e}){const[t,n]=$.useState([]),[r,i]=$.useState(!1),[s,a]=$.useState({title:"",content:""}),[o,u]=$.useState(null),[l,h]=$.useState(""),[d,p]=$.useState(""),m=hu();$.useEffect(()=>{const _=localStorage.getItem("w3_username")||m.username||"";p(_)},[]);const g=async()=>{i(!0);try{const _=Vt(Yt,"announcements"),k=await Du(_);if(k.exists()){const O=k.val(),v=Object.entries(O).map(([D,B])=>({id:D,...B}));v.sort((D,B)=>new Date(B.createdAt)-new Date(D.createdAt)),n(v)}else n([])}catch(_){console.error(":",_)}finally{i(!1)}};$.useEffect(()=>{g()},[]),$.useEffect(()=>{if(!o)return;const _=Vt(Yt,`announcements/${o.id}/comments`);return Uy(_,k=>{if(k.exists()){const O=k.val(),v=Object.entries(O).map(([D,B])=>({id:D,...B}));v.sort((D,B)=>D.timestamp-B.timestamp),u(D=>({...D,comments:v}))}}),()=>Hy(_)},[o==null?void 0:o.id]);const x=async()=>{if(!s.title.trim()||!s.content.trim()){alert("");return}if(!wn()){alert(" ");return}i(!0);try{const _=Vt(Yt,"announcements"),k=Gd(_);await Qi(k,{title:s.title,content:s.content,author:d,authorId:m.userId,createdAt:new Date().toISOString(),comments:{}}),a({title:"",content:""}),alert(" "),await g()}catch(_){alert(" "+_.message)}finally{i(!1)}},I=async(_,k)=>{if(k==null||k.stopPropagation(),!wn()){alert(" ");return}if(confirm("")){i(!0);try{const O=Vt(Yt,`announcements/${_}`);await jy(O),alert(" "),u(null),await g()}catch(O){alert(" "+O.message)}finally{i(!1)}}},E=async()=>{if(!l.trim()){alert("");return}if(!d.trim()){alert("");return}i(!0);try{const _=Vt(Yt,`announcements/${o.id}/comments`),k=Gd(_);await Qi(k,{author:d,authorId:m.userId,content:l,timestamp:Date.now(),date:new Date().toLocaleString("zh-CN")}),h("")}catch(_){alert(" "+_.message)}finally{i(!1)}},T=_=>{const k=new Date(_),v=new Date-k,D=Math.floor(v/6e4),B=Math.floor(v/36e5),G=Math.floor(v/864e5);return D<1?"":D<60?`${D}`:B<24?`${B}`:G<7?`${G}`:k.toLocaleDateString("zh-CN")};return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Po,{size:28}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:""}),f.jsx("p",{className:"text-white/80 text-sm",children:""})]})]}),f.jsx("button",{onClick:e,className:"text-white/80 hover:text-white transition-colors text-2xl",children:""})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[wn()&&f.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Zn,{size:20,className:"text-amber-600"}),f.jsx("h3",{className:"font-bold text-amber-800",children:""})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",value:s.title,onChange:_=>a(k=>({...k,title:_.target.value})),placeholder:"...",className:"w-full px-4 py-2 border border-amber-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"}),f.jsx("textarea",{value:s.content,onChange:_=>a(k=>({...k,content:_.target.value})),placeholder:"...",rows:3,className:"w-full px-4 py-2 border border-amber-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none"}),f.jsxs("button",{onClick:x,disabled:r,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-2 rounded-lg hover:shadow-lg transition-all font-medium flex items-center justify-center gap-2",children:[f.jsx(_p,{size:18}),""]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[f.jsx(Po,{size:20,className:"text-amber-600"}),""]}),r&&t.length===0?f.jsx("div",{className:"text-center py-8 text-slate-500",children:"..."}):t.length===0?f.jsxs("div",{className:"text-center py-8 text-slate-400",children:[f.jsx(Po,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:""})]}):t.map(_=>f.jsx("div",{onClick:()=>u(_),className:"bg-white border border-slate-200 rounded-xl p-4 hover:shadow-md transition-all cursor-pointer",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("h4",{className:"font-bold text-slate-800 mb-1 flex items-center gap-2",children:[f.jsx("span",{className:"text-amber-500",children:""}),_.title]}),f.jsx("p",{className:"text-slate-600 text-sm line-clamp-2 mb-2",children:_.content}),f.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[f.jsxs("span",{children:["  ",_.author]}),f.jsx("span",{children:""}),f.jsx("span",{children:T(_.createdAt)}),f.jsx("span",{children:""}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(du,{size:12}),Object.keys(_.comments||{}).length," "]})]})]}),wn()&&f.jsx("button",{onClick:k=>I(_.id,k),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:f.jsx(QE,{size:18})})]})},_.id))]})]}),o&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-60 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[80vh] overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"bg-gradient-to-r from-amber-100 to-orange-100 p-4 border-b border-amber-200",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[f.jsx("span",{className:"text-amber-500",children:""}),o.title]}),f.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-slate-600 text-xl",children:""})]}),f.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["  ",o.author,"  ",T(o.createdAt)]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[f.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:f.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:o.content})}),f.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[f.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[f.jsx(du,{size:18})," (",(o.comments||[]).length,")"]}),f.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:!o.comments||o.comments.length===0?f.jsx("p",{className:"text-center text-slate-400 py-4 text-sm",children:""}):(Array.isArray(o.comments)?o.comments:[]).map(_=>f.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("span",{className:"font-medium text-slate-800 text-sm",children:_.author}),f.jsx("span",{className:"text-xs text-slate-500",children:_.date})]}),f.jsx("p",{className:"text-slate-600 text-sm",children:_.content})]},_.id))}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"text",value:d,onChange:_=>{p(_.target.value),localStorage.setItem("w3_username",_.target.value)},placeholder:"",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:l,onChange:_=>h(_.target.value),onKeyPress:_=>_.key==="Enter"&&E(),placeholder:"...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"}),f.jsx("button",{onClick:E,disabled:r,className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition-colors",children:f.jsx(_p,{size:16})})]})]})]})]})]})})]})})}const uO=[{id:"study",name:"",emoji:"",color:"blue"},{id:"life",name:"",emoji:"",color:"green"},{id:"essay",name:"",emoji:"",color:"purple"},{id:"tech",name:"",emoji:"",color:"cyan"},{id:"thought",name:"",emoji:"",color:"amber"}];function lO({onViewDiary:e}){const[t,n]=$.useState([]),[r,i]=$.useState(!1),[s,a]=$.useState("all"),[o,u]=$.useState(null),[l,h]=$.useState(!1),[d,p]=$.useState(()=>{const E=localStorage.getItem("w3_journal_categories");return E?JSON.parse(E):uO});$.useEffect(()=>{u(hu())},[]);const m=async()=>{var E;i(!0);try{const T=Vt(Yt,"shared_diaries"),_=await Du(T);if(_.exists()){const k=_.val(),O=Object.entries(k).map(([v,D])=>({id:v,...D}));O.sort((v,D)=>{const B=new Date(v.article.sharedAt).getTime();return new Date(D.article.sharedAt).getTime()-B}),n(O)}else n([])}catch(T){console.error(":",T),(E=T.message)!=null&&E.includes("Permission denied")&&console.warn("Firebase "),n([])}finally{i(!1)}};$.useEffect(()=>{m()},[]);const g=async(E,T)=>{if(T.stopPropagation(),!xp(E.article.authorId)){alert(" ");return}const _=wn()?` 

${E.article.title}
${E.article.author}`:`${E.article.title}`;if(confirm(_)){i(!0);try{const k=Vt(Yt,`shared_diaries/${E.id}`);await jy(k),alert(" "),await m()}catch(k){alert(" "+k.message),console.error(":",k)}finally{i(!1)}}},x=s==="all"?t:t.filter(E=>E.article.category===s),I=E=>{const T=new Date(E),k=new Date-T,O=Math.floor(k/6e4),v=Math.floor(k/36e5),D=Math.floor(k/864e5);return O<1?"":O<60?`${O}`:v<24?`${v}`:D<7?`${D}`:T.toLocaleDateString("zh-CN")};return f.jsxs("div",{className:"space-y-6",children:[l&&f.jsx(oO,{onClose:()=>h(!1)}),f.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white rounded-xl p-4 flex items-center justify-between transition-all shadow-md hover:shadow-lg",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Po,{size:24}),f.jsx("span",{className:"font-bold text-lg",children:" "})]}),f.jsx("span",{className:"text-white/80 text-sm",children:" "})]}),(o==null?void 0:o.isAdmin)&&f.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[f.jsx(Zn,{size:20,className:"text-amber-600"}),f.jsx("span",{className:"font-medium",children:""}),f.jsx("span",{className:"text-sm text-amber-600",children:" "})]})}),f.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl shadow-lg p-6 text-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[f.jsx(js,{size:28}),""]}),f.jsx("p",{className:"text-white/90 text-sm mt-1",children:""})]}),f.jsxs("button",{onClick:m,disabled:r,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm px-4 py-2 rounded-lg transition-colors flex items-center gap-2",children:[f.jsx(Ep,{size:18,className:r?"animate-spin":""}),""]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx(pC,{size:18}),f.jsx("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-lg transition-colors ${s==="all"?"bg-white text-purple-600":"bg-white/20 hover:bg-white/30"}`,children:""}),d.map(E=>f.jsxs("button",{onClick:()=>a(E.name),className:`px-4 py-2 rounded-lg transition-colors ${s===E.name?"bg-white text-purple-600":"bg-white/20 hover:bg-white/30"}`,children:[E.emoji," ",E.name]},E.id))]})]}),r?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-slate-200 text-center",children:[f.jsx(Ep,{size:48,className:"animate-spin mx-auto mb-4 text-blue-500"}),f.jsx("p",{className:"text-slate-600",children:"..."})]}):x.length===0?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-slate-200 text-center",children:[f.jsx(js,{size:48,className:"mx-auto mb-4 text-slate-300"}),f.jsx("p",{className:"text-slate-400 text-lg mb-2",children:""}),f.jsx("p",{className:"text-slate-500 text-sm",children:""})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(E=>{const T=xp(E.article.authorId);return f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200 hover:shadow-xl transition-all cursor-pointer relative",onClick:()=>e(E.id),children:[T&&f.jsx("button",{onClick:_=>g(E,_),className:"absolute top-4 right-4 p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:wn()?"":"",children:f.jsx(QE,{size:18})}),f.jsxs("div",{className:"mb-4 pr-12",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 line-clamp-1",children:E.article.title}),f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 mb-3 flex-wrap",children:[f.jsx("span",{children:E.article.category}),f.jsx("span",{children:""}),f.jsxs("span",{children:["by ",E.article.author]}),wn()&&f.jsxs(f.Fragment,{children:[f.jsx("span",{children:""}),f.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[f.jsx(Zn,{size:12}),""]})]}),f.jsx("span",{children:""}),f.jsx("span",{children:I(E.article.sharedAt)})]}),f.jsxs("p",{className:"text-slate-600 line-clamp-2 text-sm",children:[E.article.content.substring(0,100),"..."]})]}),f.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[f.jsx("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(du,{size:16}),f.jsxs("span",{children:[E.comments?Object.keys(E.comments).length:0," "]})]})}),f.jsxs("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1",children:[f.jsx(VE,{size:16}),""]})]}),f.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[E.article.shareMode==="public"&&f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:[f.jsx(js,{size:12}),""]}),T&&!wn()&&f.jsx("span",{className:"inline-flex items-center gap-1 text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:""})]})]},E.id)})}),f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("p",{className:"text-sm text-blue-800",children:["  ",f.jsx("strong",{children:t.length})," ",s!=="all"&&`   <strong>${x.length}</strong> `]})})]})}const dg=/[#.]/g;function cO(e,t){const n=e||"",r={};let i=0,s,a;for(;i<n.length;){dg.lastIndex=i;const o=dg.exec(n),u=n.slice(i,o?o.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:a=u,i+=u.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function zy(e,t,n){const r=n?pO(n):void 0;function i(s,a,...o){let u;if(s==null){u={type:"root",children:[]};const l=a;o.unshift(l)}else{u=cO(s,t);const l=u.tagName.toLowerCase(),h=r?r.get(l):void 0;if(u.tagName=h||l,dO(a))o.unshift(a);else for(const[d,p]of Object.entries(a))hO(e,u.properties,d,p)}for(const l of o)Kd(u.children,l);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function dO(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function hO(e,t,n,r){const i=Zu(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=kp(r):i.commaSeparated?s=bp(r):i.commaOrSpaceSeparated?s=kp(bp(r).join(" ")):s=hg(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?fO(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(hg(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function Kd(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Kd(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Kd(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function hg(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||ga(n)===ga(t)))return!0}return n}function fO(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function pO(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const mO=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],gO=zy(Ma,"div"),EO=zy(xr,"g",mO);function _O(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const u=fg(t,n[a-1]);o=u===-1?t.length+1:u+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],u=fg(t,o),l=u===-1?t.length+1:u+1;if(o===l)break;n.push(l)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function fg(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Pr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wy={}.hasOwnProperty,TO=Object.prototype;function yO(e,t){const n=t||{};return Gf({file:n.file||void 0,location:!1,schema:n.space==="svg"?xr:Ma,verbose:n.verbose||!1},e)}function Gf(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Bo(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Vy(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=_O(s),o=a.toPoint(0),u=a.toPoint(s.length);n.position={start:o,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Bo(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Bo(e,r,n),n}default:return n=xO(e,t),n}}function Vy(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=Gf(e,t[n]);r.push(i)}return r}function xO(e,t){const n=e.schema;e.schema=t.namespaceURI===Pr.svg?xr:Ma;let r=-1;const i={};for(;++r<t.attrs.length;){const o=t.attrs[r],u=(o.prefix?o.prefix+":":"")+o.name;Wy.call(TO,u)||(i[u]=o.value)}const a=(e.schema.space==="svg"?EO:gO)(t.tagName,i,Vy(e,t.childNodes));if(Bo(e,t,a),a.tagName==="template"){const o=t,u=o.sourceCodeLocation,l=u&&u.startTag&&Ti(u.startTag),h=u&&u.endTag&&Ti(u.endTag),d=Gf(e,o.content);l&&h&&e.file&&(d.position={start:l.end,end:h.start}),a.content=d}return e.schema=n,a}function Bo(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=bO(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function bO(e,t,n){const r=Ti(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)Wy.call(n.attrs,a)&&(s[Zu(e.schema,a).property]=Ti(n.attrs[a]));n.startTag;const o=Ti(n.startTag),u=n.endTag?Ti(n.endTag):void 0,l={opening:o};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Ti(e){const t=pg({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=pg({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function pg(e){return e.line&&e.column?e:void 0}const CO={},SO={}.hasOwnProperty,Yy=M_("type",{handlers:{root:vO,element:RO,text:AO,comment:wO,doctype:IO}});function NO(e,t){const r=(t||CO).space;return Yy(e,r==="svg"?xr:Ma)}function vO(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=qf(e.children,n,t),is(e,n),n}function kO(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=qf(e.children,n,t),is(e,n),n}function IO(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return is(e,t),t}function AO(e){const t={nodeName:"#text",value:e.value,parentNode:null};return is(e,t),t}function wO(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return is(e,t),t}function RO(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=xr);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&SO.call(e.properties,s)){const u=OO(r,s,e.properties[s]);u&&i.push(u)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Pr[a],childNodes:[],parentNode:null};return o.childNodes=qf(e.children,o,r),is(e,o),e.tagName==="template"&&e.content&&(o.content=kO(e.content,r)),o}function OO(e,t,n){const r=Zu(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?GE(n):n_(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Pr[r.space]}return i}function qf(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Yy(e[r],n);s.parentNode=t,i.push(s)}return i}function is(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const DO=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],LO=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),we="";var y;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(y||(y={}));const Tt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function $y(e){return e>=55296&&e<=57343}function PO(e){return e>=56320&&e<=57343}function MO(e,t){return(e-55296)*1024+9216+t}function Qy(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Gy(e){return e>=64976&&e<=65007||LO.has(e)}var R;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(R||(R={}));const FO=65536;class BO{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=FO,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(PO(n))return this.pos++,this._addGap(),MO(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,y.EOF;return this._err(R.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,y.EOF;const r=this.html.charCodeAt(n);return r===y.CARRIAGE_RETURN?y.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,y.EOF;let t=this.html.charCodeAt(this.pos);return t===y.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,y.LINE_FEED):t===y.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,$y(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===y.LINE_FEED||t===y.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Qy(t)?this._err(R.controlCharacterInInputStream):Gy(t)&&this._err(R.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var se;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(se||(se={}));function qy(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const jO=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),UO=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function HO(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=UO.get(e))!==null&&t!==void 0?t:e}var Ze;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ze||(Ze={}));const zO=32;var er;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(er||(er={}));function Xd(e){return e>=Ze.ZERO&&e<=Ze.NINE}function WO(e){return e>=Ze.UPPER_A&&e<=Ze.UPPER_F||e>=Ze.LOWER_A&&e<=Ze.LOWER_F}function VO(e){return e>=Ze.UPPER_A&&e<=Ze.UPPER_Z||e>=Ze.LOWER_A&&e<=Ze.LOWER_Z||Xd(e)}function YO(e){return e===Ze.EQUALS||VO(e)}var Ge;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ge||(Ge={}));var kn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(kn||(kn={}));class $O{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ge.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=kn.Strict}startEntity(t){this.decodeMode=t,this.state=Ge.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ge.EntityStart:return t.charCodeAt(n)===Ze.NUM?(this.state=Ge.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ge.NamedEntity,this.stateNamedEntity(t,n));case Ge.NumericStart:return this.stateNumericStart(t,n);case Ge.NumericDecimal:return this.stateNumericDecimal(t,n);case Ge.NumericHex:return this.stateNumericHex(t,n);case Ge.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|zO)===Ze.LOWER_X?(this.state=Ge.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ge.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Xd(i)||WO(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Xd(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ze.SEMI)this.consumed+=1;else if(this.decodeMode===kn.Strict)return 0;return this.emitCodePoint(HO(this.result),this.consumed),this.errors&&(t!==Ze.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&er.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=QO(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===kn.Attribute&&(s===0||YO(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&er.VALUE_LENGTH)>>14,s!==0){if(a===Ze.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==kn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&er.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~er.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Ge.NamedEntity:return this.result!==0&&(this.decodeMode!==kn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ge.NumericDecimal:return this.emitNumericEntity(0,2);case Ge.NumericHex:return this.emitNumericEntity(0,3);case Ge.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ge.EntityStart:return 0}}}function QO(e,t,n,r){const i=(t&er.BRANCH_LENGTH)>>7,s=t&er.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let a=n,o=a+i-1;for(;a<=o;){const u=a+o>>>1,l=e[u];if(l<r)a=u+1;else if(l>r)o=u-1;else return e[u+i]}return-1}var F;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(F||(F={}));var jr;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(jr||(jr={}));var Wt;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Wt||(Wt={}));var w;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(w||(w={}));var c;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(c||(c={}));const GO=new Map([[w.A,c.A],[w.ADDRESS,c.ADDRESS],[w.ANNOTATION_XML,c.ANNOTATION_XML],[w.APPLET,c.APPLET],[w.AREA,c.AREA],[w.ARTICLE,c.ARTICLE],[w.ASIDE,c.ASIDE],[w.B,c.B],[w.BASE,c.BASE],[w.BASEFONT,c.BASEFONT],[w.BGSOUND,c.BGSOUND],[w.BIG,c.BIG],[w.BLOCKQUOTE,c.BLOCKQUOTE],[w.BODY,c.BODY],[w.BR,c.BR],[w.BUTTON,c.BUTTON],[w.CAPTION,c.CAPTION],[w.CENTER,c.CENTER],[w.CODE,c.CODE],[w.COL,c.COL],[w.COLGROUP,c.COLGROUP],[w.DD,c.DD],[w.DESC,c.DESC],[w.DETAILS,c.DETAILS],[w.DIALOG,c.DIALOG],[w.DIR,c.DIR],[w.DIV,c.DIV],[w.DL,c.DL],[w.DT,c.DT],[w.EM,c.EM],[w.EMBED,c.EMBED],[w.FIELDSET,c.FIELDSET],[w.FIGCAPTION,c.FIGCAPTION],[w.FIGURE,c.FIGURE],[w.FONT,c.FONT],[w.FOOTER,c.FOOTER],[w.FOREIGN_OBJECT,c.FOREIGN_OBJECT],[w.FORM,c.FORM],[w.FRAME,c.FRAME],[w.FRAMESET,c.FRAMESET],[w.H1,c.H1],[w.H2,c.H2],[w.H3,c.H3],[w.H4,c.H4],[w.H5,c.H5],[w.H6,c.H6],[w.HEAD,c.HEAD],[w.HEADER,c.HEADER],[w.HGROUP,c.HGROUP],[w.HR,c.HR],[w.HTML,c.HTML],[w.I,c.I],[w.IMG,c.IMG],[w.IMAGE,c.IMAGE],[w.INPUT,c.INPUT],[w.IFRAME,c.IFRAME],[w.KEYGEN,c.KEYGEN],[w.LABEL,c.LABEL],[w.LI,c.LI],[w.LINK,c.LINK],[w.LISTING,c.LISTING],[w.MAIN,c.MAIN],[w.MALIGNMARK,c.MALIGNMARK],[w.MARQUEE,c.MARQUEE],[w.MATH,c.MATH],[w.MENU,c.MENU],[w.META,c.META],[w.MGLYPH,c.MGLYPH],[w.MI,c.MI],[w.MO,c.MO],[w.MN,c.MN],[w.MS,c.MS],[w.MTEXT,c.MTEXT],[w.NAV,c.NAV],[w.NOBR,c.NOBR],[w.NOFRAMES,c.NOFRAMES],[w.NOEMBED,c.NOEMBED],[w.NOSCRIPT,c.NOSCRIPT],[w.OBJECT,c.OBJECT],[w.OL,c.OL],[w.OPTGROUP,c.OPTGROUP],[w.OPTION,c.OPTION],[w.P,c.P],[w.PARAM,c.PARAM],[w.PLAINTEXT,c.PLAINTEXT],[w.PRE,c.PRE],[w.RB,c.RB],[w.RP,c.RP],[w.RT,c.RT],[w.RTC,c.RTC],[w.RUBY,c.RUBY],[w.S,c.S],[w.SCRIPT,c.SCRIPT],[w.SEARCH,c.SEARCH],[w.SECTION,c.SECTION],[w.SELECT,c.SELECT],[w.SOURCE,c.SOURCE],[w.SMALL,c.SMALL],[w.SPAN,c.SPAN],[w.STRIKE,c.STRIKE],[w.STRONG,c.STRONG],[w.STYLE,c.STYLE],[w.SUB,c.SUB],[w.SUMMARY,c.SUMMARY],[w.SUP,c.SUP],[w.TABLE,c.TABLE],[w.TBODY,c.TBODY],[w.TEMPLATE,c.TEMPLATE],[w.TEXTAREA,c.TEXTAREA],[w.TFOOT,c.TFOOT],[w.TD,c.TD],[w.TH,c.TH],[w.THEAD,c.THEAD],[w.TITLE,c.TITLE],[w.TR,c.TR],[w.TRACK,c.TRACK],[w.TT,c.TT],[w.U,c.U],[w.UL,c.UL],[w.SVG,c.SVG],[w.VAR,c.VAR],[w.WBR,c.WBR],[w.XMP,c.XMP]]);function ss(e){var t;return(t=GO.get(e))!==null&&t!==void 0?t:c.UNKNOWN}const j=c,qO={[F.HTML]:new Set([j.ADDRESS,j.APPLET,j.AREA,j.ARTICLE,j.ASIDE,j.BASE,j.BASEFONT,j.BGSOUND,j.BLOCKQUOTE,j.BODY,j.BR,j.BUTTON,j.CAPTION,j.CENTER,j.COL,j.COLGROUP,j.DD,j.DETAILS,j.DIR,j.DIV,j.DL,j.DT,j.EMBED,j.FIELDSET,j.FIGCAPTION,j.FIGURE,j.FOOTER,j.FORM,j.FRAME,j.FRAMESET,j.H1,j.H2,j.H3,j.H4,j.H5,j.H6,j.HEAD,j.HEADER,j.HGROUP,j.HR,j.HTML,j.IFRAME,j.IMG,j.INPUT,j.LI,j.LINK,j.LISTING,j.MAIN,j.MARQUEE,j.MENU,j.META,j.NAV,j.NOEMBED,j.NOFRAMES,j.NOSCRIPT,j.OBJECT,j.OL,j.P,j.PARAM,j.PLAINTEXT,j.PRE,j.SCRIPT,j.SECTION,j.SELECT,j.SOURCE,j.STYLE,j.SUMMARY,j.TABLE,j.TBODY,j.TD,j.TEMPLATE,j.TEXTAREA,j.TFOOT,j.TH,j.THEAD,j.TITLE,j.TR,j.TRACK,j.UL,j.WBR,j.XMP]),[F.MATHML]:new Set([j.MI,j.MO,j.MN,j.MS,j.MTEXT,j.ANNOTATION_XML]),[F.SVG]:new Set([j.TITLE,j.FOREIGN_OBJECT,j.DESC]),[F.XLINK]:new Set,[F.XML]:new Set,[F.XMLNS]:new Set},Jd=new Set([j.H1,j.H2,j.H3,j.H4,j.H5,j.H6]);w.STYLE,w.SCRIPT,w.XMP,w.IFRAME,w.NOEMBED,w.NOFRAMES,w.PLAINTEXT;var b;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(b||(b={}));const He={DATA:b.DATA,RCDATA:b.RCDATA,RAWTEXT:b.RAWTEXT,SCRIPT_DATA:b.SCRIPT_DATA,PLAINTEXT:b.PLAINTEXT,CDATA_SECTION:b.CDATA_SECTION};function KO(e){return e>=y.DIGIT_0&&e<=y.DIGIT_9}function As(e){return e>=y.LATIN_CAPITAL_A&&e<=y.LATIN_CAPITAL_Z}function XO(e){return e>=y.LATIN_SMALL_A&&e<=y.LATIN_SMALL_Z}function Yn(e){return XO(e)||As(e)}function mg(e){return Yn(e)||KO(e)}function xo(e){return e+32}function Ky(e){return e===y.SPACE||e===y.LINE_FEED||e===y.TABULATION||e===y.FORM_FEED}function gg(e){return Ky(e)||e===y.SOLIDUS||e===y.GREATER_THAN_SIGN}function JO(e){return e===y.NULL?R.nullCharacterReference:e>1114111?R.characterReferenceOutsideUnicodeRange:$y(e)?R.surrogateCharacterReference:Gy(e)?R.noncharacterCharacterReference:Qy(e)||e===y.CARRIAGE_RETURN?R.controlCharacterReference:null}class ZO{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=b.DATA,this.returnState=b.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new BO(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new $O(jO,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(R.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(R.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=JO(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:se.START_TAG,tagName:"",tagID:c.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:se.END_TAG,tagName:"",tagID:c.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:se.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:se.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(qy(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(R.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ss(t.tagName),t.type===se.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(R.endTagWithAttributes),t.selfClosing&&this._err(R.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case se.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case se.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case se.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:se.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Ky(t)?se.WHITESPACE_CHARACTER:t===y.NULL?se.NULL_CHARACTER:se.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(se.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=b.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?kn.Attribute:kn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===b.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===b.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===b.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case b.DATA:{this._stateData(t);break}case b.RCDATA:{this._stateRcdata(t);break}case b.RAWTEXT:{this._stateRawtext(t);break}case b.SCRIPT_DATA:{this._stateScriptData(t);break}case b.PLAINTEXT:{this._statePlaintext(t);break}case b.TAG_OPEN:{this._stateTagOpen(t);break}case b.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case b.TAG_NAME:{this._stateTagName(t);break}case b.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case b.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case b.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case b.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case b.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case b.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case b.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case b.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case b.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case b.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case b.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case b.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case b.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case b.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case b.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case b.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case b.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case b.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case b.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case b.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case b.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case b.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case b.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case b.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case b.BOGUS_COMMENT:{this._stateBogusComment(t);break}case b.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case b.COMMENT_START:{this._stateCommentStart(t);break}case b.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case b.COMMENT:{this._stateComment(t);break}case b.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case b.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case b.COMMENT_END:{this._stateCommentEnd(t);break}case b.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case b.DOCTYPE:{this._stateDoctype(t);break}case b.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case b.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case b.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case b.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case b.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case b.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case b.CDATA_SECTION:{this._stateCdataSection(t);break}case b.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case b.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case b.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case b.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case y.LESS_THAN_SIGN:{this.state=b.TAG_OPEN;break}case y.AMPERSAND:{this._startCharacterReference();break}case y.NULL:{this._err(R.unexpectedNullCharacter),this._emitCodePoint(t);break}case y.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case y.AMPERSAND:{this._startCharacterReference();break}case y.LESS_THAN_SIGN:{this.state=b.RCDATA_LESS_THAN_SIGN;break}case y.NULL:{this._err(R.unexpectedNullCharacter),this._emitChars(we);break}case y.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case y.LESS_THAN_SIGN:{this.state=b.RAWTEXT_LESS_THAN_SIGN;break}case y.NULL:{this._err(R.unexpectedNullCharacter),this._emitChars(we);break}case y.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case y.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_LESS_THAN_SIGN;break}case y.NULL:{this._err(R.unexpectedNullCharacter),this._emitChars(we);break}case y.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case y.NULL:{this._err(R.unexpectedNullCharacter),this._emitChars(we);break}case y.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Yn(t))this._createStartTagToken(),this.state=b.TAG_NAME,this._stateTagName(t);else switch(t){case y.EXCLAMATION_MARK:{this.state=b.MARKUP_DECLARATION_OPEN;break}case y.SOLIDUS:{this.state=b.END_TAG_OPEN;break}case y.QUESTION_MARK:{this._err(R.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t);break}case y.EOF:{this._err(R.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(R.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=b.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Yn(t))this._createEndTagToken(),this.state=b.TAG_NAME,this._stateTagName(t);else switch(t){case y.GREATER_THAN_SIGN:{this._err(R.missingEndTagName),this.state=b.DATA;break}case y.EOF:{this._err(R.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(R.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:{this.state=b.BEFORE_ATTRIBUTE_NAME;break}case y.SOLIDUS:{this.state=b.SELF_CLOSING_START_TAG;break}case y.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentTagToken();break}case y.NULL:{this._err(R.unexpectedNullCharacter),n.tagName+=we;break}case y.EOF:{this._err(R.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(As(t)?xo(t):t)}}_stateRcdataLessThanSign(t){t===y.SOLIDUS?this.state=b.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=b.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Yn(t)?(this.state=b.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=b.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=b.BEFORE_ATTRIBUTE_NAME,!1;case y.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=b.SELF_CLOSING_START_TAG,!1;case y.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=b.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===y.SOLIDUS?this.state=b.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Yn(t)?(this.state=b.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case y.SOLIDUS:{this.state=b.SCRIPT_DATA_END_TAG_OPEN;break}case y.EXCLAMATION_MARK:{this.state=b.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=b.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Yn(t)?(this.state=b.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===y.HYPHEN_MINUS?(this.state=b.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===y.HYPHEN_MINUS?(this.state=b.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case y.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case y.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case y.NULL:{this._err(R.unexpectedNullCharacter),this._emitChars(we);break}case y.EOF:{this._err(R.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case y.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case y.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case y.NULL:{this._err(R.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_ESCAPED,this._emitChars(we);break}case y.EOF:{this._err(R.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case y.HYPHEN_MINUS:{this._emitChars("-");break}case y.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case y.GREATER_THAN_SIGN:{this.state=b.SCRIPT_DATA,this._emitChars(">");break}case y.NULL:{this._err(R.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_ESCAPED,this._emitChars(we);break}case y.EOF:{this._err(R.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===y.SOLIDUS?this.state=b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Yn(t)?(this._emitChars("<"),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Yn(t)?(this.state=b.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Tt.SCRIPT,!1)&&gg(this.preprocessor.peek(Tt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Tt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case y.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case y.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case y.NULL:{this._err(R.unexpectedNullCharacter),this._emitChars(we);break}case y.EOF:{this._err(R.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case y.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case y.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case y.NULL:{this._err(R.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(we);break}case y.EOF:{this._err(R.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case y.HYPHEN_MINUS:{this._emitChars("-");break}case y.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case y.GREATER_THAN_SIGN:{this.state=b.SCRIPT_DATA,this._emitChars(">");break}case y.NULL:{this._err(R.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(we);break}case y.EOF:{this._err(R.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===y.SOLIDUS?(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Tt.SCRIPT,!1)&&gg(this.preprocessor.peek(Tt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Tt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=b.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.SOLIDUS:case y.GREATER_THAN_SIGN:case y.EOF:{this.state=b.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case y.EQUALS_SIGN:{this._err(R.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=b.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=b.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:case y.SOLIDUS:case y.GREATER_THAN_SIGN:case y.EOF:{this._leaveAttrName(),this.state=b.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case y.EQUALS_SIGN:{this._leaveAttrName(),this.state=b.BEFORE_ATTRIBUTE_VALUE;break}case y.QUOTATION_MARK:case y.APOSTROPHE:case y.LESS_THAN_SIGN:{this._err(R.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case y.NULL:{this._err(R.unexpectedNullCharacter),this.currentAttr.name+=we;break}default:this.currentAttr.name+=String.fromCodePoint(As(t)?xo(t):t)}}_stateAfterAttributeName(t){switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.SOLIDUS:{this.state=b.SELF_CLOSING_START_TAG;break}case y.EQUALS_SIGN:{this.state=b.BEFORE_ATTRIBUTE_VALUE;break}case y.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentTagToken();break}case y.EOF:{this._err(R.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=b.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.QUOTATION_MARK:{this.state=b.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case y.APOSTROPHE:{this.state=b.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case y.GREATER_THAN_SIGN:{this._err(R.missingAttributeValue),this.state=b.DATA,this.emitCurrentTagToken();break}default:this.state=b.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case y.QUOTATION_MARK:{this.state=b.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case y.AMPERSAND:{this._startCharacterReference();break}case y.NULL:{this._err(R.unexpectedNullCharacter),this.currentAttr.value+=we;break}case y.EOF:{this._err(R.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case y.APOSTROPHE:{this.state=b.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case y.AMPERSAND:{this._startCharacterReference();break}case y.NULL:{this._err(R.unexpectedNullCharacter),this.currentAttr.value+=we;break}case y.EOF:{this._err(R.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:{this._leaveAttrValue(),this.state=b.BEFORE_ATTRIBUTE_NAME;break}case y.AMPERSAND:{this._startCharacterReference();break}case y.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=b.DATA,this.emitCurrentTagToken();break}case y.NULL:{this._err(R.unexpectedNullCharacter),this.currentAttr.value+=we;break}case y.QUOTATION_MARK:case y.APOSTROPHE:case y.LESS_THAN_SIGN:case y.EQUALS_SIGN:case y.GRAVE_ACCENT:{this._err(R.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case y.EOF:{this._err(R.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:{this._leaveAttrValue(),this.state=b.BEFORE_ATTRIBUTE_NAME;break}case y.SOLIDUS:{this._leaveAttrValue(),this.state=b.SELF_CLOSING_START_TAG;break}case y.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=b.DATA,this.emitCurrentTagToken();break}case y.EOF:{this._err(R.eofInTag),this._emitEOFToken();break}default:this._err(R.missingWhitespaceBetweenAttributes),this.state=b.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case y.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=b.DATA,this.emitCurrentTagToken();break}case y.EOF:{this._err(R.eofInTag),this._emitEOFToken();break}default:this._err(R.unexpectedSolidusInTag),this.state=b.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case y.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentComment(n);break}case y.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case y.NULL:{this._err(R.unexpectedNullCharacter),n.data+=we;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Tt.DASH_DASH,!0)?(this._createCommentToken(Tt.DASH_DASH.length+1),this.state=b.COMMENT_START):this._consumeSequenceIfMatch(Tt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Tt.DOCTYPE.length+1),this.state=b.DOCTYPE):this._consumeSequenceIfMatch(Tt.CDATA_START,!0)?this.inForeignNode?this.state=b.CDATA_SECTION:(this._err(R.cdataInHtmlContent),this._createCommentToken(Tt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=b.BOGUS_COMMENT):this._ensureHibernation()||(this._err(R.incorrectlyOpenedComment),this._createCommentToken(2),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case y.HYPHEN_MINUS:{this.state=b.COMMENT_START_DASH;break}case y.GREATER_THAN_SIGN:{this._err(R.abruptClosingOfEmptyComment),this.state=b.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=b.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case y.HYPHEN_MINUS:{this.state=b.COMMENT_END;break}case y.GREATER_THAN_SIGN:{this._err(R.abruptClosingOfEmptyComment),this.state=b.DATA,this.emitCurrentComment(n);break}case y.EOF:{this._err(R.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=b.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case y.HYPHEN_MINUS:{this.state=b.COMMENT_END_DASH;break}case y.LESS_THAN_SIGN:{n.data+="<",this.state=b.COMMENT_LESS_THAN_SIGN;break}case y.NULL:{this._err(R.unexpectedNullCharacter),n.data+=we;break}case y.EOF:{this._err(R.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case y.EXCLAMATION_MARK:{n.data+="!",this.state=b.COMMENT_LESS_THAN_SIGN_BANG;break}case y.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=b.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===y.HYPHEN_MINUS?this.state=b.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=b.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===y.HYPHEN_MINUS?this.state=b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=b.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==y.GREATER_THAN_SIGN&&t!==y.EOF&&this._err(R.nestedComment),this.state=b.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case y.HYPHEN_MINUS:{this.state=b.COMMENT_END;break}case y.EOF:{this._err(R.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=b.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case y.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentComment(n);break}case y.EXCLAMATION_MARK:{this.state=b.COMMENT_END_BANG;break}case y.HYPHEN_MINUS:{n.data+="-";break}case y.EOF:{this._err(R.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=b.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case y.HYPHEN_MINUS:{n.data+="--!",this.state=b.COMMENT_END_DASH;break}case y.GREATER_THAN_SIGN:{this._err(R.incorrectlyClosedComment),this.state=b.DATA,this.emitCurrentComment(n);break}case y.EOF:{this._err(R.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=b.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_NAME;break}case y.GREATER_THAN_SIGN:{this.state=b.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case y.EOF:{this._err(R.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(R.missingWhitespaceBeforeDoctypeName),this.state=b.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(As(t))this._createDoctypeToken(String.fromCharCode(xo(t))),this.state=b.DOCTYPE_NAME;else switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.NULL:{this._err(R.unexpectedNullCharacter),this._createDoctypeToken(we),this.state=b.DOCTYPE_NAME;break}case y.GREATER_THAN_SIGN:{this._err(R.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case y.EOF:{this._err(R.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=b.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:{this.state=b.AFTER_DOCTYPE_NAME;break}case y.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(n);break}case y.NULL:{this._err(R.unexpectedNullCharacter),n.name+=we;break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(As(t)?xo(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(n);break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Tt.PUBLIC,!1)?this.state=b.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Tt.SYSTEM,!1)?this.state=b.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(R.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case y.QUOTATION_MARK:{this._err(R.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case y.APOSTROPHE:{this._err(R.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case y.GREATER_THAN_SIGN:{this._err(R.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(n);break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(R.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.QUOTATION_MARK:{n.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case y.APOSTROPHE:{n.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case y.GREATER_THAN_SIGN:{this._err(R.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(n);break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(R.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case y.QUOTATION_MARK:{this.state=b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case y.NULL:{this._err(R.unexpectedNullCharacter),n.publicId+=we;break}case y.GREATER_THAN_SIGN:{this._err(R.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case y.APOSTROPHE:{this.state=b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case y.NULL:{this._err(R.unexpectedNullCharacter),n.publicId+=we;break}case y.GREATER_THAN_SIGN:{this._err(R.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:{this.state=b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case y.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(n);break}case y.QUOTATION_MARK:{this._err(R.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case y.APOSTROPHE:{this._err(R.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(R.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=b.DATA;break}case y.QUOTATION_MARK:{n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case y.APOSTROPHE:{n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(R.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case y.QUOTATION_MARK:{this._err(R.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case y.APOSTROPHE:{this._err(R.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case y.GREATER_THAN_SIGN:{this._err(R.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(n);break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(R.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.QUOTATION_MARK:{n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case y.APOSTROPHE:{n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case y.GREATER_THAN_SIGN:{this._err(R.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(n);break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(R.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case y.QUOTATION_MARK:{this.state=b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case y.NULL:{this._err(R.unexpectedNullCharacter),n.systemId+=we;break}case y.GREATER_THAN_SIGN:{this._err(R.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case y.APOSTROPHE:{this.state=b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case y.NULL:{this._err(R.unexpectedNullCharacter),n.systemId+=we;break}case y.GREATER_THAN_SIGN:{this._err(R.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=b.DATA;break}case y.EOF:{this._err(R.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(R.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case y.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=b.DATA;break}case y.NULL:{this._err(R.unexpectedNullCharacter);break}case y.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case y.RIGHT_SQUARE_BRACKET:{this.state=b.CDATA_SECTION_BRACKET;break}case y.EOF:{this._err(R.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===y.RIGHT_SQUARE_BRACKET?this.state=b.CDATA_SECTION_END:(this._emitChars("]"),this.state=b.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case y.GREATER_THAN_SIGN:{this.state=b.DATA;break}case y.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=b.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(y.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&mg(this.preprocessor.peek(1))?b.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){mg(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===y.SEMICOLON&&this._err(R.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const Xy=new Set([c.DD,c.DT,c.LI,c.OPTGROUP,c.OPTION,c.P,c.RB,c.RP,c.RT,c.RTC]),Eg=new Set([...Xy,c.CAPTION,c.COLGROUP,c.TBODY,c.TD,c.TFOOT,c.TH,c.THEAD,c.TR]),Lu=new Set([c.APPLET,c.CAPTION,c.HTML,c.MARQUEE,c.OBJECT,c.TABLE,c.TD,c.TEMPLATE,c.TH]),eD=new Set([...Lu,c.OL,c.UL]),tD=new Set([...Lu,c.BUTTON]),_g=new Set([c.ANNOTATION_XML,c.MI,c.MN,c.MO,c.MS,c.MTEXT]),Tg=new Set([c.DESC,c.FOREIGN_OBJECT,c.TITLE]),nD=new Set([c.TR,c.TEMPLATE,c.HTML]),rD=new Set([c.TBODY,c.TFOOT,c.THEAD,c.TEMPLATE,c.HTML]),iD=new Set([c.TABLE,c.TEMPLATE,c.HTML]),sD=new Set([c.TD,c.TH]);class aD{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=c.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===c.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===F.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==F.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Jd,F.HTML)}popUntilTableCellPopped(){this.popUntilPopped(sD,F.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(iD,F.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rD,F.HTML)}clearBackToTableRowContext(){this.clearBackTo(nD,F.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===c.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===c.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case F.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case F.SVG:{if(Tg.has(i))return!1;break}case F.MATHML:{if(_g.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Lu)}hasInListItemScope(t){return this.hasInDynamicScope(t,eD)}hasInButtonScope(t){return this.hasInDynamicScope(t,tD)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case F.HTML:{if(Jd.has(n))return!0;if(Lu.has(n))return!1;break}case F.SVG:{if(Tg.has(n))return!1;break}case F.MATHML:{if(_g.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===F.HTML)switch(this.tagIDs[n]){case t:return!0;case c.TABLE:case c.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===F.HTML)switch(this.tagIDs[t]){case c.TBODY:case c.THEAD:case c.TFOOT:return!0;case c.TABLE:case c.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===F.HTML)switch(this.tagIDs[n]){case t:return!0;case c.OPTION:case c.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&Xy.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Eg.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&Eg.has(this.currentTagId);)this.pop()}}const Cc=3;var mn;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(mn||(mn={}));const yg={type:mn.Marker};class oD{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===mn.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===a){const h=this.treeAdapter.getAttrList(l);h.length===i&&r.push({idx:o,attrs:h})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Cc)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Cc)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=Cc&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(yg)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:mn.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:mn.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(yg);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===mn.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===mn.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===mn.Element&&n.element===t)}}const $n={createDocument(){return{nodeName:"#document",mode:Wt.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};$n.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if($n.isTextNode(n)){n.value+=t;return}}$n.appendChild(e,$n.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&$n.isTextNode(r)?r.value+=t:$n.insertBefore(e,$n.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Jy="html",uD="about:legacy-compat",lD="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Zy=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],cD=[...Zy,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],dD=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ex=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],hD=[...ex,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function xg(e,t){return t.some(n=>e.startsWith(n))}function fD(e){return e.name===Jy&&e.publicId===null&&(e.systemId===null||e.systemId===uD)}function pD(e){if(e.name!==Jy)return Wt.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===lD)return Wt.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),dD.has(n))return Wt.QUIRKS;let r=t===null?cD:Zy;if(xg(n,r))return Wt.QUIRKS;if(r=t===null?ex:hD,xg(n,r))return Wt.LIMITED_QUIRKS}return Wt.NO_QUIRKS}const bg={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},mD="definitionurl",gD="definitionURL",ED=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),_D=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:F.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:F.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:F.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:F.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:F.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:F.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:F.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:F.XML}],["xml:space",{prefix:"xml",name:"space",namespace:F.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:F.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:F.XMLNS}]]),TD=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),yD=new Set([c.B,c.BIG,c.BLOCKQUOTE,c.BODY,c.BR,c.CENTER,c.CODE,c.DD,c.DIV,c.DL,c.DT,c.EM,c.EMBED,c.H1,c.H2,c.H3,c.H4,c.H5,c.H6,c.HEAD,c.HR,c.I,c.IMG,c.LI,c.LISTING,c.MENU,c.META,c.NOBR,c.OL,c.P,c.PRE,c.RUBY,c.S,c.SMALL,c.SPAN,c.STRONG,c.STRIKE,c.SUB,c.SUP,c.TABLE,c.TT,c.U,c.UL,c.VAR]);function xD(e){const t=e.tagID;return t===c.FONT&&e.attrs.some(({name:r})=>r===jr.COLOR||r===jr.SIZE||r===jr.FACE)||yD.has(t)}function tx(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===mD){e.attrs[t].name=gD;break}}function nx(e){for(let t=0;t<e.attrs.length;t++){const n=ED.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Kf(e){for(let t=0;t<e.attrs.length;t++){const n=_D.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function bD(e){const t=TD.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ss(e.tagName))}function CD(e,t){return t===F.MATHML&&(e===c.MI||e===c.MO||e===c.MN||e===c.MS||e===c.MTEXT)}function SD(e,t,n){if(t===F.MATHML&&e===c.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===jr.ENCODING){const i=n[r].value.toLowerCase();return i===bg.TEXT_HTML||i===bg.APPLICATION_XML}}return t===F.SVG&&(e===c.FOREIGN_OBJECT||e===c.DESC||e===c.TITLE)}function ND(e,t,n,r){return(!r||r===F.HTML)&&SD(e,t,n)||(!r||r===F.MATHML)&&CD(e,t)}const vD="hidden",kD=8,ID=3;var S;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(S||(S={}));const AD={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},rx=new Set([c.TABLE,c.TBODY,c.TFOOT,c.THEAD,c.TR]),Cg={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:$n,onParseError:null};class Sg{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=S.INITIAL,this.originalInsertionMode=S.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Cg,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new ZO(this.options,this),this.activeFormattingElements=new oD(this.treeAdapter),this.fragmentContextID=r?ss(this.treeAdapter.getTagName(r)):c.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new aD(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Cg,...n};t??(t=r.treeAdapter.createElement(w.TEMPLATE,F.HTML,[]));const i=r.treeAdapter.createElement("documentmock",F.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===c.TEMPLATE&&s.tmplInsertionModeStack.unshift(S.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:AD,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===F.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,F.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=S.TEXT}switchToPlaintextParsing(){this.insertionMode=S.TEXT,this.originalInsertionMode=S.IN_BODY,this.tokenizer.state=He.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===w.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==F.HTML))switch(this.fragmentContextID){case c.TITLE:case c.TEXTAREA:{this.tokenizer.state=He.RCDATA;break}case c.STYLE:case c.XMP:case c.IFRAME:case c.NOEMBED:case c.NOFRAMES:case c.NOSCRIPT:{this.tokenizer.state=He.RAWTEXT;break}case c.SCRIPT:{this.tokenizer.state=He.SCRIPT_DATA;break}case c.PLAINTEXT:{this.tokenizer.state=He.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,F.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,F.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(w.HTML,F.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,c.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:l,endOffset:h}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:l,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===se.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===c.SVG&&this.treeAdapter.getTagName(n)===w.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===F.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===c.MGLYPH||t.tagID===c.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,F.HTML)}_processToken(t){switch(t.type){case se.CHARACTER:{this.onCharacter(t);break}case se.NULL_CHARACTER:{this.onNullCharacter(t);break}case se.COMMENT:{this.onComment(t);break}case se.DOCTYPE:{this.onDoctype(t);break}case se.START_TAG:{this._processStartTag(t);break}case se.END_TAG:{this.onEndTag(t);break}case se.EOF:{this.onEof(t);break}case se.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return ND(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===mn.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=S.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(c.P),this.openElements.popUntilTagNamePopped(c.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case c.TR:{this.insertionMode=S.IN_ROW;return}case c.TBODY:case c.THEAD:case c.TFOOT:{this.insertionMode=S.IN_TABLE_BODY;return}case c.CAPTION:{this.insertionMode=S.IN_CAPTION;return}case c.COLGROUP:{this.insertionMode=S.IN_COLUMN_GROUP;return}case c.TABLE:{this.insertionMode=S.IN_TABLE;return}case c.BODY:{this.insertionMode=S.IN_BODY;return}case c.FRAMESET:{this.insertionMode=S.IN_FRAMESET;return}case c.SELECT:{this._resetInsertionModeForSelect(t);return}case c.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case c.HTML:{this.insertionMode=this.headElement?S.AFTER_HEAD:S.BEFORE_HEAD;return}case c.TD:case c.TH:{if(t>0){this.insertionMode=S.IN_CELL;return}break}case c.HEAD:{if(t>0){this.insertionMode=S.IN_HEAD;return}break}}this.insertionMode=S.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===c.TEMPLATE)break;if(r===c.TABLE){this.insertionMode=S.IN_SELECT_IN_TABLE;return}}this.insertionMode=S.IN_SELECT}_isElementCausesFosterParenting(t){return rx.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case c.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===F.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case c.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return qO[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){sP(this,t);return}switch(this.insertionMode){case S.INITIAL:{Cs(this,t);break}case S.BEFORE_HTML:{Qs(this,t);break}case S.BEFORE_HEAD:{Gs(this,t);break}case S.IN_HEAD:{qs(this,t);break}case S.IN_HEAD_NO_SCRIPT:{Ks(this,t);break}case S.AFTER_HEAD:{Xs(this,t);break}case S.IN_BODY:case S.IN_CAPTION:case S.IN_CELL:case S.IN_TEMPLATE:{sx(this,t);break}case S.TEXT:case S.IN_SELECT:case S.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case S.IN_TABLE:case S.IN_TABLE_BODY:case S.IN_ROW:{Sc(this,t);break}case S.IN_TABLE_TEXT:{dx(this,t);break}case S.IN_COLUMN_GROUP:{Pu(this,t);break}case S.AFTER_BODY:{Mu(this,t);break}case S.AFTER_AFTER_BODY:{jo(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){iP(this,t);return}switch(this.insertionMode){case S.INITIAL:{Cs(this,t);break}case S.BEFORE_HTML:{Qs(this,t);break}case S.BEFORE_HEAD:{Gs(this,t);break}case S.IN_HEAD:{qs(this,t);break}case S.IN_HEAD_NO_SCRIPT:{Ks(this,t);break}case S.AFTER_HEAD:{Xs(this,t);break}case S.TEXT:{this._insertCharacters(t);break}case S.IN_TABLE:case S.IN_TABLE_BODY:case S.IN_ROW:{Sc(this,t);break}case S.IN_COLUMN_GROUP:{Pu(this,t);break}case S.AFTER_BODY:{Mu(this,t);break}case S.AFTER_AFTER_BODY:{jo(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Zd(this,t);return}switch(this.insertionMode){case S.INITIAL:case S.BEFORE_HTML:case S.BEFORE_HEAD:case S.IN_HEAD:case S.IN_HEAD_NO_SCRIPT:case S.AFTER_HEAD:case S.IN_BODY:case S.IN_TABLE:case S.IN_CAPTION:case S.IN_COLUMN_GROUP:case S.IN_TABLE_BODY:case S.IN_ROW:case S.IN_CELL:case S.IN_SELECT:case S.IN_SELECT_IN_TABLE:case S.IN_TEMPLATE:case S.IN_FRAMESET:case S.AFTER_FRAMESET:{Zd(this,t);break}case S.IN_TABLE_TEXT:{Ss(this,t);break}case S.AFTER_BODY:{MD(this,t);break}case S.AFTER_AFTER_BODY:case S.AFTER_AFTER_FRAMESET:{FD(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case S.INITIAL:{BD(this,t);break}case S.BEFORE_HEAD:case S.IN_HEAD:case S.IN_HEAD_NO_SCRIPT:case S.AFTER_HEAD:{this._err(t,R.misplacedDoctype);break}case S.IN_TABLE_TEXT:{Ss(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,R.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?aP(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case S.INITIAL:{Cs(this,t);break}case S.BEFORE_HTML:{jD(this,t);break}case S.BEFORE_HEAD:{HD(this,t);break}case S.IN_HEAD:{cn(this,t);break}case S.IN_HEAD_NO_SCRIPT:{VD(this,t);break}case S.AFTER_HEAD:{$D(this,t);break}case S.IN_BODY:{dt(this,t);break}case S.IN_TABLE:{Gi(this,t);break}case S.IN_TABLE_TEXT:{Ss(this,t);break}case S.IN_CAPTION:{zL(this,t);break}case S.IN_COLUMN_GROUP:{Zf(this,t);break}case S.IN_TABLE_BODY:{bl(this,t);break}case S.IN_ROW:{Cl(this,t);break}case S.IN_CELL:{YL(this,t);break}case S.IN_SELECT:{px(this,t);break}case S.IN_SELECT_IN_TABLE:{QL(this,t);break}case S.IN_TEMPLATE:{qL(this,t);break}case S.AFTER_BODY:{XL(this,t);break}case S.IN_FRAMESET:{JL(this,t);break}case S.AFTER_FRAMESET:{eP(this,t);break}case S.AFTER_AFTER_BODY:{nP(this,t);break}case S.AFTER_AFTER_FRAMESET:{rP(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?oP(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case S.INITIAL:{Cs(this,t);break}case S.BEFORE_HTML:{UD(this,t);break}case S.BEFORE_HEAD:{zD(this,t);break}case S.IN_HEAD:{WD(this,t);break}case S.IN_HEAD_NO_SCRIPT:{YD(this,t);break}case S.AFTER_HEAD:{QD(this,t);break}case S.IN_BODY:{xl(this,t);break}case S.TEXT:{OL(this,t);break}case S.IN_TABLE:{Aa(this,t);break}case S.IN_TABLE_TEXT:{Ss(this,t);break}case S.IN_CAPTION:{WL(this,t);break}case S.IN_COLUMN_GROUP:{VL(this,t);break}case S.IN_TABLE_BODY:{eh(this,t);break}case S.IN_ROW:{fx(this,t);break}case S.IN_CELL:{$L(this,t);break}case S.IN_SELECT:{mx(this,t);break}case S.IN_SELECT_IN_TABLE:{GL(this,t);break}case S.IN_TEMPLATE:{KL(this,t);break}case S.AFTER_BODY:{Ex(this,t);break}case S.IN_FRAMESET:{ZL(this,t);break}case S.AFTER_FRAMESET:{tP(this,t);break}case S.AFTER_AFTER_BODY:{jo(this,t);break}}}onEof(t){switch(this.insertionMode){case S.INITIAL:{Cs(this,t);break}case S.BEFORE_HTML:{Qs(this,t);break}case S.BEFORE_HEAD:{Gs(this,t);break}case S.IN_HEAD:{qs(this,t);break}case S.IN_HEAD_NO_SCRIPT:{Ks(this,t);break}case S.AFTER_HEAD:{Xs(this,t);break}case S.IN_BODY:case S.IN_TABLE:case S.IN_CAPTION:case S.IN_COLUMN_GROUP:case S.IN_TABLE_BODY:case S.IN_ROW:case S.IN_CELL:case S.IN_SELECT:case S.IN_SELECT_IN_TABLE:{lx(this,t);break}case S.TEXT:{DL(this,t);break}case S.IN_TABLE_TEXT:{Ss(this,t);break}case S.IN_TEMPLATE:{gx(this,t);break}case S.AFTER_BODY:case S.IN_FRAMESET:case S.AFTER_FRAMESET:case S.AFTER_AFTER_BODY:case S.AFTER_AFTER_FRAMESET:{Jf(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===y.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case S.IN_HEAD:case S.IN_HEAD_NO_SCRIPT:case S.AFTER_HEAD:case S.TEXT:case S.IN_COLUMN_GROUP:case S.IN_SELECT:case S.IN_SELECT_IN_TABLE:case S.IN_FRAMESET:case S.AFTER_FRAMESET:{this._insertCharacters(t);break}case S.IN_BODY:case S.IN_CAPTION:case S.IN_CELL:case S.IN_TEMPLATE:case S.AFTER_BODY:case S.AFTER_AFTER_BODY:case S.AFTER_AFTER_FRAMESET:{ix(this,t);break}case S.IN_TABLE:case S.IN_TABLE_BODY:case S.IN_ROW:{Sc(this,t);break}case S.IN_TABLE_TEXT:{cx(this,t);break}}}}function wD(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):ux(e,t),n}function RD(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function OD(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==n;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),u=o&&s>=ID;!o||u?(u&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=DD(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function DD(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function LD(e,t,n){const r=e.treeAdapter.getTagName(t),i=ss(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===c.TEMPLATE&&s===F.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function PD(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function Xf(e,t){for(let n=0;n<kD;n++){const r=wD(e,t);if(!r)break;const i=RD(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=OD(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),a&&LD(e,a,s),PD(e,i,r)}}function Zd(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function MD(e,t){e._appendCommentNode(t,e.openElements.items[0])}function FD(e,t){e._appendCommentNode(t,e.document)}function Jf(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function BD(e,t){e._setDocumentType(t);const n=t.forceQuirks?Wt.QUIRKS:pD(t);fD(t)||e._err(t,R.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=S.BEFORE_HTML}function Cs(e,t){e._err(t,R.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Wt.QUIRKS),e.insertionMode=S.BEFORE_HTML,e._processToken(t)}function jD(e,t){t.tagID===c.HTML?(e._insertElement(t,F.HTML),e.insertionMode=S.BEFORE_HEAD):Qs(e,t)}function UD(e,t){const n=t.tagID;(n===c.HTML||n===c.HEAD||n===c.BODY||n===c.BR)&&Qs(e,t)}function Qs(e,t){e._insertFakeRootElement(),e.insertionMode=S.BEFORE_HEAD,e._processToken(t)}function HD(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.HEAD:{e._insertElement(t,F.HTML),e.headElement=e.openElements.current,e.insertionMode=S.IN_HEAD;break}default:Gs(e,t)}}function zD(e,t){const n=t.tagID;n===c.HEAD||n===c.BODY||n===c.HTML||n===c.BR?Gs(e,t):e._err(t,R.endTagWithoutMatchingOpenElement)}function Gs(e,t){e._insertFakeElement(w.HEAD,c.HEAD),e.headElement=e.openElements.current,e.insertionMode=S.IN_HEAD,e._processToken(t)}function cn(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.BASE:case c.BASEFONT:case c.BGSOUND:case c.LINK:case c.META:{e._appendElement(t,F.HTML),t.ackSelfClosing=!0;break}case c.TITLE:{e._switchToTextParsing(t,He.RCDATA);break}case c.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,He.RAWTEXT):(e._insertElement(t,F.HTML),e.insertionMode=S.IN_HEAD_NO_SCRIPT);break}case c.NOFRAMES:case c.STYLE:{e._switchToTextParsing(t,He.RAWTEXT);break}case c.SCRIPT:{e._switchToTextParsing(t,He.SCRIPT_DATA);break}case c.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=S.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(S.IN_TEMPLATE);break}case c.HEAD:{e._err(t,R.misplacedStartTagForHeadElement);break}default:qs(e,t)}}function WD(e,t){switch(t.tagID){case c.HEAD:{e.openElements.pop(),e.insertionMode=S.AFTER_HEAD;break}case c.BODY:case c.BR:case c.HTML:{qs(e,t);break}case c.TEMPLATE:{ei(e,t);break}default:e._err(t,R.endTagWithoutMatchingOpenElement)}}function ei(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==c.TEMPLATE&&e._err(t,R.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(c.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,R.endTagWithoutMatchingOpenElement)}function qs(e,t){e.openElements.pop(),e.insertionMode=S.AFTER_HEAD,e._processToken(t)}function VD(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.BASEFONT:case c.BGSOUND:case c.HEAD:case c.LINK:case c.META:case c.NOFRAMES:case c.STYLE:{cn(e,t);break}case c.NOSCRIPT:{e._err(t,R.nestedNoscriptInHead);break}default:Ks(e,t)}}function YD(e,t){switch(t.tagID){case c.NOSCRIPT:{e.openElements.pop(),e.insertionMode=S.IN_HEAD;break}case c.BR:{Ks(e,t);break}default:e._err(t,R.endTagWithoutMatchingOpenElement)}}function Ks(e,t){const n=t.type===se.EOF?R.openElementsLeftAfterEof:R.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=S.IN_HEAD,e._processToken(t)}function $D(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.BODY:{e._insertElement(t,F.HTML),e.framesetOk=!1,e.insertionMode=S.IN_BODY;break}case c.FRAMESET:{e._insertElement(t,F.HTML),e.insertionMode=S.IN_FRAMESET;break}case c.BASE:case c.BASEFONT:case c.BGSOUND:case c.LINK:case c.META:case c.NOFRAMES:case c.SCRIPT:case c.STYLE:case c.TEMPLATE:case c.TITLE:{e._err(t,R.abandonedHeadElementChild),e.openElements.push(e.headElement,c.HEAD),cn(e,t),e.openElements.remove(e.headElement);break}case c.HEAD:{e._err(t,R.misplacedStartTagForHeadElement);break}default:Xs(e,t)}}function QD(e,t){switch(t.tagID){case c.BODY:case c.HTML:case c.BR:{Xs(e,t);break}case c.TEMPLATE:{ei(e,t);break}default:e._err(t,R.endTagWithoutMatchingOpenElement)}}function Xs(e,t){e._insertFakeElement(w.BODY,c.BODY),e.insertionMode=S.IN_BODY,yl(e,t)}function yl(e,t){switch(t.type){case se.CHARACTER:{sx(e,t);break}case se.WHITESPACE_CHARACTER:{ix(e,t);break}case se.COMMENT:{Zd(e,t);break}case se.START_TAG:{dt(e,t);break}case se.END_TAG:{xl(e,t);break}case se.EOF:{lx(e,t);break}}}function ix(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function sx(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function GD(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function qD(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function KD(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,F.HTML),e.insertionMode=S.IN_FRAMESET)}function XD(e,t){e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e._insertElement(t,F.HTML)}function JD(e,t){e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Jd.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,F.HTML)}function ZD(e,t){e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e._insertElement(t,F.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function eL(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e._insertElement(t,F.HTML),n||(e.formElement=e.openElements.current))}function tL(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===c.LI&&i===c.LI||(n===c.DD||n===c.DT)&&(i===c.DD||i===c.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==c.ADDRESS&&i!==c.DIV&&i!==c.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e._insertElement(t,F.HTML)}function nL(e,t){e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e._insertElement(t,F.HTML),e.tokenizer.state=He.PLAINTEXT}function rL(e,t){e.openElements.hasInScope(c.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(c.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,F.HTML),e.framesetOk=!1}function iL(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(w.A);n&&(Xf(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,F.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function sL(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,F.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function aL(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(c.NOBR)&&(Xf(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,F.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function oL(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,F.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function uL(e,t){e.treeAdapter.getDocumentMode(e.document)!==Wt.QUIRKS&&e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e._insertElement(t,F.HTML),e.framesetOk=!1,e.insertionMode=S.IN_TABLE}function ax(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,F.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function ox(e){const t=qy(e,jr.TYPE);return t!=null&&t.toLowerCase()===vD}function lL(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,F.HTML),ox(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function cL(e,t){e._appendElement(t,F.HTML),t.ackSelfClosing=!0}function dL(e,t){e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e._appendElement(t,F.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function hL(e,t){t.tagName=w.IMG,t.tagID=c.IMG,ax(e,t)}function fL(e,t){e._insertElement(t,F.HTML),e.skipNextNewLine=!0,e.tokenizer.state=He.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=S.TEXT}function pL(e,t){e.openElements.hasInButtonScope(c.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,He.RAWTEXT)}function mL(e,t){e.framesetOk=!1,e._switchToTextParsing(t,He.RAWTEXT)}function Ng(e,t){e._switchToTextParsing(t,He.RAWTEXT)}function gL(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,F.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===S.IN_TABLE||e.insertionMode===S.IN_CAPTION||e.insertionMode===S.IN_TABLE_BODY||e.insertionMode===S.IN_ROW||e.insertionMode===S.IN_CELL?S.IN_SELECT_IN_TABLE:S.IN_SELECT}function EL(e,t){e.openElements.currentTagId===c.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,F.HTML)}function _L(e,t){e.openElements.hasInScope(c.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,F.HTML)}function TL(e,t){e.openElements.hasInScope(c.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(c.RTC),e._insertElement(t,F.HTML)}function yL(e,t){e._reconstructActiveFormattingElements(),tx(t),Kf(t),t.selfClosing?e._appendElement(t,F.MATHML):e._insertElement(t,F.MATHML),t.ackSelfClosing=!0}function xL(e,t){e._reconstructActiveFormattingElements(),nx(t),Kf(t),t.selfClosing?e._appendElement(t,F.SVG):e._insertElement(t,F.SVG),t.ackSelfClosing=!0}function vg(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,F.HTML)}function dt(e,t){switch(t.tagID){case c.I:case c.S:case c.B:case c.U:case c.EM:case c.TT:case c.BIG:case c.CODE:case c.FONT:case c.SMALL:case c.STRIKE:case c.STRONG:{sL(e,t);break}case c.A:{iL(e,t);break}case c.H1:case c.H2:case c.H3:case c.H4:case c.H5:case c.H6:{JD(e,t);break}case c.P:case c.DL:case c.OL:case c.UL:case c.DIV:case c.DIR:case c.NAV:case c.MAIN:case c.MENU:case c.ASIDE:case c.CENTER:case c.FIGURE:case c.FOOTER:case c.HEADER:case c.HGROUP:case c.DIALOG:case c.DETAILS:case c.ADDRESS:case c.ARTICLE:case c.SEARCH:case c.SECTION:case c.SUMMARY:case c.FIELDSET:case c.BLOCKQUOTE:case c.FIGCAPTION:{XD(e,t);break}case c.LI:case c.DD:case c.DT:{tL(e,t);break}case c.BR:case c.IMG:case c.WBR:case c.AREA:case c.EMBED:case c.KEYGEN:{ax(e,t);break}case c.HR:{dL(e,t);break}case c.RB:case c.RTC:{_L(e,t);break}case c.RT:case c.RP:{TL(e,t);break}case c.PRE:case c.LISTING:{ZD(e,t);break}case c.XMP:{pL(e,t);break}case c.SVG:{xL(e,t);break}case c.HTML:{GD(e,t);break}case c.BASE:case c.LINK:case c.META:case c.STYLE:case c.TITLE:case c.SCRIPT:case c.BGSOUND:case c.BASEFONT:case c.TEMPLATE:{cn(e,t);break}case c.BODY:{qD(e,t);break}case c.FORM:{eL(e,t);break}case c.NOBR:{aL(e,t);break}case c.MATH:{yL(e,t);break}case c.TABLE:{uL(e,t);break}case c.INPUT:{lL(e,t);break}case c.PARAM:case c.TRACK:case c.SOURCE:{cL(e,t);break}case c.IMAGE:{hL(e,t);break}case c.BUTTON:{rL(e,t);break}case c.APPLET:case c.OBJECT:case c.MARQUEE:{oL(e,t);break}case c.IFRAME:{mL(e,t);break}case c.SELECT:{gL(e,t);break}case c.OPTION:case c.OPTGROUP:{EL(e,t);break}case c.NOEMBED:case c.NOFRAMES:{Ng(e,t);break}case c.FRAMESET:{KD(e,t);break}case c.TEXTAREA:{fL(e,t);break}case c.NOSCRIPT:{e.options.scriptingEnabled?Ng(e,t):vg(e,t);break}case c.PLAINTEXT:{nL(e,t);break}case c.COL:case c.TH:case c.TD:case c.TR:case c.HEAD:case c.FRAME:case c.TBODY:case c.TFOOT:case c.THEAD:case c.CAPTION:case c.COLGROUP:break;default:vg(e,t)}}function bL(e,t){if(e.openElements.hasInScope(c.BODY)&&(e.insertionMode=S.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function CL(e,t){e.openElements.hasInScope(c.BODY)&&(e.insertionMode=S.AFTER_BODY,Ex(e,t))}function SL(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function NL(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(c.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(c.FORM):n&&e.openElements.remove(n))}function vL(e){e.openElements.hasInButtonScope(c.P)||e._insertFakeElement(w.P,c.P),e._closePElement()}function kL(e){e.openElements.hasInListItemScope(c.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(c.LI),e.openElements.popUntilTagNamePopped(c.LI))}function IL(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function AL(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function wL(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function RL(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(w.BR,c.BR),e.openElements.pop(),e.framesetOk=!1}function ux(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==c.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function xl(e,t){switch(t.tagID){case c.A:case c.B:case c.I:case c.S:case c.U:case c.EM:case c.TT:case c.BIG:case c.CODE:case c.FONT:case c.NOBR:case c.SMALL:case c.STRIKE:case c.STRONG:{Xf(e,t);break}case c.P:{vL(e);break}case c.DL:case c.UL:case c.OL:case c.DIR:case c.DIV:case c.NAV:case c.PRE:case c.MAIN:case c.MENU:case c.ASIDE:case c.BUTTON:case c.CENTER:case c.FIGURE:case c.FOOTER:case c.HEADER:case c.HGROUP:case c.DIALOG:case c.ADDRESS:case c.ARTICLE:case c.DETAILS:case c.SEARCH:case c.SECTION:case c.SUMMARY:case c.LISTING:case c.FIELDSET:case c.BLOCKQUOTE:case c.FIGCAPTION:{SL(e,t);break}case c.LI:{kL(e);break}case c.DD:case c.DT:{IL(e,t);break}case c.H1:case c.H2:case c.H3:case c.H4:case c.H5:case c.H6:{AL(e);break}case c.BR:{RL(e);break}case c.BODY:{bL(e,t);break}case c.HTML:{CL(e,t);break}case c.FORM:{NL(e);break}case c.APPLET:case c.OBJECT:case c.MARQUEE:{wL(e,t);break}case c.TEMPLATE:{ei(e,t);break}default:ux(e,t)}}function lx(e,t){e.tmplInsertionModeStack.length>0?gx(e,t):Jf(e,t)}function OL(e,t){var n;t.tagID===c.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function DL(e,t){e._err(t,R.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Sc(e,t){if(e.openElements.currentTagId!==void 0&&rx.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=S.IN_TABLE_TEXT,t.type){case se.CHARACTER:{dx(e,t);break}case se.WHITESPACE_CHARACTER:{cx(e,t);break}}else Qa(e,t)}function LL(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,F.HTML),e.insertionMode=S.IN_CAPTION}function PL(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,F.HTML),e.insertionMode=S.IN_COLUMN_GROUP}function ML(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(w.COLGROUP,c.COLGROUP),e.insertionMode=S.IN_COLUMN_GROUP,Zf(e,t)}function FL(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,F.HTML),e.insertionMode=S.IN_TABLE_BODY}function BL(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(w.TBODY,c.TBODY),e.insertionMode=S.IN_TABLE_BODY,bl(e,t)}function jL(e,t){e.openElements.hasInTableScope(c.TABLE)&&(e.openElements.popUntilTagNamePopped(c.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function UL(e,t){ox(t)?e._appendElement(t,F.HTML):Qa(e,t),t.ackSelfClosing=!0}function HL(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,F.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Gi(e,t){switch(t.tagID){case c.TD:case c.TH:case c.TR:{BL(e,t);break}case c.STYLE:case c.SCRIPT:case c.TEMPLATE:{cn(e,t);break}case c.COL:{ML(e,t);break}case c.FORM:{HL(e,t);break}case c.TABLE:{jL(e,t);break}case c.TBODY:case c.TFOOT:case c.THEAD:{FL(e,t);break}case c.INPUT:{UL(e,t);break}case c.CAPTION:{LL(e,t);break}case c.COLGROUP:{PL(e,t);break}default:Qa(e,t)}}function Aa(e,t){switch(t.tagID){case c.TABLE:{e.openElements.hasInTableScope(c.TABLE)&&(e.openElements.popUntilTagNamePopped(c.TABLE),e._resetInsertionMode());break}case c.TEMPLATE:{ei(e,t);break}case c.BODY:case c.CAPTION:case c.COL:case c.COLGROUP:case c.HTML:case c.TBODY:case c.TD:case c.TFOOT:case c.TH:case c.THEAD:case c.TR:break;default:Qa(e,t)}}function Qa(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,yl(e,t),e.fosterParentingEnabled=n}function cx(e,t){e.pendingCharacterTokens.push(t)}function dx(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ss(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Qa(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const hx=new Set([c.CAPTION,c.COL,c.COLGROUP,c.TBODY,c.TD,c.TFOOT,c.TH,c.THEAD,c.TR]);function zL(e,t){const n=t.tagID;hx.has(n)?e.openElements.hasInTableScope(c.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(c.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=S.IN_TABLE,Gi(e,t)):dt(e,t)}function WL(e,t){const n=t.tagID;switch(n){case c.CAPTION:case c.TABLE:{e.openElements.hasInTableScope(c.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(c.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=S.IN_TABLE,n===c.TABLE&&Aa(e,t));break}case c.BODY:case c.COL:case c.COLGROUP:case c.HTML:case c.TBODY:case c.TD:case c.TFOOT:case c.TH:case c.THEAD:case c.TR:break;default:xl(e,t)}}function Zf(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.COL:{e._appendElement(t,F.HTML),t.ackSelfClosing=!0;break}case c.TEMPLATE:{cn(e,t);break}default:Pu(e,t)}}function VL(e,t){switch(t.tagID){case c.COLGROUP:{e.openElements.currentTagId===c.COLGROUP&&(e.openElements.pop(),e.insertionMode=S.IN_TABLE);break}case c.TEMPLATE:{ei(e,t);break}case c.COL:break;default:Pu(e,t)}}function Pu(e,t){e.openElements.currentTagId===c.COLGROUP&&(e.openElements.pop(),e.insertionMode=S.IN_TABLE,e._processToken(t))}function bl(e,t){switch(t.tagID){case c.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,F.HTML),e.insertionMode=S.IN_ROW;break}case c.TH:case c.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(w.TR,c.TR),e.insertionMode=S.IN_ROW,Cl(e,t);break}case c.CAPTION:case c.COL:case c.COLGROUP:case c.TBODY:case c.TFOOT:case c.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=S.IN_TABLE,Gi(e,t));break}default:Gi(e,t)}}function eh(e,t){const n=t.tagID;switch(t.tagID){case c.TBODY:case c.TFOOT:case c.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=S.IN_TABLE);break}case c.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=S.IN_TABLE,Aa(e,t));break}case c.BODY:case c.CAPTION:case c.COL:case c.COLGROUP:case c.HTML:case c.TD:case c.TH:case c.TR:break;default:Aa(e,t)}}function Cl(e,t){switch(t.tagID){case c.TH:case c.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,F.HTML),e.insertionMode=S.IN_CELL,e.activeFormattingElements.insertMarker();break}case c.CAPTION:case c.COL:case c.COLGROUP:case c.TBODY:case c.TFOOT:case c.THEAD:case c.TR:{e.openElements.hasInTableScope(c.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=S.IN_TABLE_BODY,bl(e,t));break}default:Gi(e,t)}}function fx(e,t){switch(t.tagID){case c.TR:{e.openElements.hasInTableScope(c.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=S.IN_TABLE_BODY);break}case c.TABLE:{e.openElements.hasInTableScope(c.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=S.IN_TABLE_BODY,eh(e,t));break}case c.TBODY:case c.TFOOT:case c.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(c.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=S.IN_TABLE_BODY,eh(e,t));break}case c.BODY:case c.CAPTION:case c.COL:case c.COLGROUP:case c.HTML:case c.TD:case c.TH:break;default:Aa(e,t)}}function YL(e,t){const n=t.tagID;hx.has(n)?(e.openElements.hasInTableScope(c.TD)||e.openElements.hasInTableScope(c.TH))&&(e._closeTableCell(),Cl(e,t)):dt(e,t)}function $L(e,t){const n=t.tagID;switch(n){case c.TD:case c.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=S.IN_ROW);break}case c.TABLE:case c.TBODY:case c.TFOOT:case c.THEAD:case c.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),fx(e,t));break}case c.BODY:case c.CAPTION:case c.COL:case c.COLGROUP:case c.HTML:break;default:xl(e,t)}}function px(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.OPTION:{e.openElements.currentTagId===c.OPTION&&e.openElements.pop(),e._insertElement(t,F.HTML);break}case c.OPTGROUP:{e.openElements.currentTagId===c.OPTION&&e.openElements.pop(),e.openElements.currentTagId===c.OPTGROUP&&e.openElements.pop(),e._insertElement(t,F.HTML);break}case c.HR:{e.openElements.currentTagId===c.OPTION&&e.openElements.pop(),e.openElements.currentTagId===c.OPTGROUP&&e.openElements.pop(),e._appendElement(t,F.HTML),t.ackSelfClosing=!0;break}case c.INPUT:case c.KEYGEN:case c.TEXTAREA:case c.SELECT:{e.openElements.hasInSelectScope(c.SELECT)&&(e.openElements.popUntilTagNamePopped(c.SELECT),e._resetInsertionMode(),t.tagID!==c.SELECT&&e._processStartTag(t));break}case c.SCRIPT:case c.TEMPLATE:{cn(e,t);break}}}function mx(e,t){switch(t.tagID){case c.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===c.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===c.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===c.OPTGROUP&&e.openElements.pop();break}case c.OPTION:{e.openElements.currentTagId===c.OPTION&&e.openElements.pop();break}case c.SELECT:{e.openElements.hasInSelectScope(c.SELECT)&&(e.openElements.popUntilTagNamePopped(c.SELECT),e._resetInsertionMode());break}case c.TEMPLATE:{ei(e,t);break}}}function QL(e,t){const n=t.tagID;n===c.CAPTION||n===c.TABLE||n===c.TBODY||n===c.TFOOT||n===c.THEAD||n===c.TR||n===c.TD||n===c.TH?(e.openElements.popUntilTagNamePopped(c.SELECT),e._resetInsertionMode(),e._processStartTag(t)):px(e,t)}function GL(e,t){const n=t.tagID;n===c.CAPTION||n===c.TABLE||n===c.TBODY||n===c.TFOOT||n===c.THEAD||n===c.TR||n===c.TD||n===c.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(c.SELECT),e._resetInsertionMode(),e.onEndTag(t)):mx(e,t)}function qL(e,t){switch(t.tagID){case c.BASE:case c.BASEFONT:case c.BGSOUND:case c.LINK:case c.META:case c.NOFRAMES:case c.SCRIPT:case c.STYLE:case c.TEMPLATE:case c.TITLE:{cn(e,t);break}case c.CAPTION:case c.COLGROUP:case c.TBODY:case c.TFOOT:case c.THEAD:{e.tmplInsertionModeStack[0]=S.IN_TABLE,e.insertionMode=S.IN_TABLE,Gi(e,t);break}case c.COL:{e.tmplInsertionModeStack[0]=S.IN_COLUMN_GROUP,e.insertionMode=S.IN_COLUMN_GROUP,Zf(e,t);break}case c.TR:{e.tmplInsertionModeStack[0]=S.IN_TABLE_BODY,e.insertionMode=S.IN_TABLE_BODY,bl(e,t);break}case c.TD:case c.TH:{e.tmplInsertionModeStack[0]=S.IN_ROW,e.insertionMode=S.IN_ROW,Cl(e,t);break}default:e.tmplInsertionModeStack[0]=S.IN_BODY,e.insertionMode=S.IN_BODY,dt(e,t)}}function KL(e,t){t.tagID===c.TEMPLATE&&ei(e,t)}function gx(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(c.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Jf(e,t)}function XL(e,t){t.tagID===c.HTML?dt(e,t):Mu(e,t)}function Ex(e,t){var n;if(t.tagID===c.HTML){if(e.fragmentContext||(e.insertionMode=S.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===c.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Mu(e,t)}function Mu(e,t){e.insertionMode=S.IN_BODY,yl(e,t)}function JL(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.FRAMESET:{e._insertElement(t,F.HTML);break}case c.FRAME:{e._appendElement(t,F.HTML),t.ackSelfClosing=!0;break}case c.NOFRAMES:{cn(e,t);break}}}function ZL(e,t){t.tagID===c.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==c.FRAMESET&&(e.insertionMode=S.AFTER_FRAMESET))}function eP(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.NOFRAMES:{cn(e,t);break}}}function tP(e,t){t.tagID===c.HTML&&(e.insertionMode=S.AFTER_AFTER_FRAMESET)}function nP(e,t){t.tagID===c.HTML?dt(e,t):jo(e,t)}function jo(e,t){e.insertionMode=S.IN_BODY,yl(e,t)}function rP(e,t){switch(t.tagID){case c.HTML:{dt(e,t);break}case c.NOFRAMES:{cn(e,t);break}}}function iP(e,t){t.chars=we,e._insertCharacters(t)}function sP(e,t){e._insertCharacters(t),e.framesetOk=!1}function _x(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==F.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function aP(e,t){if(xD(t))_x(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===F.MATHML?tx(t):r===F.SVG&&(bD(t),nx(t)),Kf(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function oP(e,t){if(t.tagID===c.P||t.tagID===c.BR){_x(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===F.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}w.AREA,w.BASE,w.BASEFONT,w.BGSOUND,w.BR,w.COL,w.EMBED,w.FRAME,w.HR,w.IMG,w.INPUT,w.KEYGEN,w.LINK,w.META,w.PARAM,w.SOURCE,w.TRACK,w.WBR;const uP=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,lP=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),kg={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Tx(e,t){const n=TP(e),r=M_("type",{handlers:{root:cP,element:dP,text:hP,comment:xx,doctype:fP,raw:mP},unknown:gP}),i={parser:n?new Sg(kg):Sg.getFragmentParser(void 0,kg),handle(o){r(o,i)},stitches:!1,options:t||{}};r(e,i),as(i,yn());const s=n?i.parser.document:i.parser.getFragment(),a=yO(s,{file:i.options.file});return i.stitches&&ol(a,"comment",function(o,u,l){const h=o;if(h.value.stitch&&l&&u!==void 0){const d=l.children;return d[u]=h.value.stitch,u}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function yx(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function cP(e,t){yx(e.children,t)}function dP(e,t){EP(e,t),yx(e.children,t),_P(e,t)}function hP(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:se.CHARACTER,chars:e.value,location:Ga(e)};as(t,yn(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function fP(e,t){const n={type:se.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Ga(e)};as(t,yn(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function pP(e,t){t.stitches=!0;const n=yP(e);if("children"in e&&"children"in n){const r=Tx({type:"root",children:e.children},t.options);n.children=r.children}xx({type:"comment",value:{stitch:n}},t)}function xx(e,t){const n=e.value,r={type:se.COMMENT,data:n,location:Ga(e)};as(t,yn(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function mP(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,bx(t,yn(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(uP,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function gP(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))pP(n,t);else{let r="";throw lP.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function as(e,t){bx(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=He.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function bx(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function EP(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===He.PLAINTEXT)return;as(t,yn(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Pr.html;i===Pr.html&&n==="svg"&&(i=Pr.svg);const s=NO({...e,children:[]},{space:i===Pr.svg?"svg":"html"}),a={type:se.START_TAG,tagName:n,tagID:ss(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:Ga(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function _P(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&DO.includes(n)||t.parser.tokenizer.state===He.PLAINTEXT)return;as(t,tl(e));const r={type:se.END_TAG,tagName:n,tagID:ss(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Ga(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===He.RCDATA||t.parser.tokenizer.state===He.RAWTEXT||t.parser.tokenizer.state===He.SCRIPT_DATA)&&(t.parser.tokenizer.state=He.DATA)}function TP(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Ga(e){const t=yn(e)||{line:void 0,column:void 0,offset:void 0},n=tl(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function yP(e){return"children"in e?Ui({...e,children:[]}):Ui(e)}function xP(e){return function(t,n){return Tx(t,{...e,file:n})}}function bP({value:e,onChange:t,showPreview:n=!0}){const r=$.useRef(null),[i,s]=jg.useState(n),a=(u,l="",h="")=>{const d=r.current;if(!d)return;const p=d.selectionStart,m=d.selectionEnd,g=e.substring(p,m)||h,x=e.substring(0,p)+u+g+l+e.substring(m);t(x),setTimeout(()=>{d.focus(),d.setSelectionRange(p+u.length,p+u.length+g.length)},0)},o=[{icon:f.jsx(oC,{size:18}),label:"",action:()=>a("**","**","")},{icon:f.jsx(TC,{size:18}),label:"",action:()=>a("*","*","")},{icon:f.jsx(SC,{size:18}),label:"",action:()=>a("~~","~~","")},{icon:f.jsx(gC,{size:18}),label:"",action:()=>{const u=r.current,l=u.selectionStart,h=e.lastIndexOf(`
`,l-1)+1,d=e.substring(0,h)+"## "+e.substring(h);t(d),setTimeout(()=>u.focus(),0)}},{icon:f.jsx(CC,{size:18}),label:"",action:()=>{const u=r.current,l=u.selectionStart,h=e.lastIndexOf(`
`,l-1)+1,d=e.substring(0,h)+"> "+e.substring(h);t(d),setTimeout(()=>u.focus(),0)}},{icon:f.jsx(dC,{size:18}),label:"",action:()=>a("`","`","")},{icon:f.jsx(xC,{size:18}),label:"",action:()=>a("[","](https://example.com)","")},{icon:f.jsx(bC,{size:18}),label:"",action:()=>{const u=r.current,l=u.selectionStart,h=e.lastIndexOf(`
`,l-1)+1,d=e.substring(0,h)+"- "+e.substring(h);t(d),setTimeout(()=>u.focus(),0)}},{icon:f.jsx(cC,{size:18}),label:"",action:()=>{const u=r.current,l=u.selectionStart,h=e.lastIndexOf(`
`,l-1)+1,d=e.substring(0,h)+"- [ ] "+e.substring(h);t(d),setTimeout(()=>u.focus(),0)}},{icon:f.jsx(_C,{size:18}),label:"",action:()=>a("![","](https://example.com/image.jpg)","")},{icon:f.jsx(NC,{size:18}),label:"",action:()=>{const u=`
| 1 | 2 | 3 |
| --- | --- | --- |
|  |  |  |
`,l=r.current,h=l.selectionStart,d=e.substring(0,h)+u+e.substring(h);t(d),setTimeout(()=>l.focus(),0)}}];return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 border border-slate-300 rounded-lg p-2 flex items-center gap-2 flex-wrap",children:[o.map((u,l)=>f.jsx("button",{onClick:u.action,className:"p-2 hover:bg-white rounded transition-colors text-slate-700 hover:text-blue-600",title:u.label,children:u.icon},l)),f.jsx("div",{className:"ml-auto flex items-center gap-2",children:f.jsx("button",{onClick:()=>s(!i),className:"flex items-center gap-2 px-3 py-2 bg-white hover:bg-slate-100 rounded transition-colors text-sm",children:i?f.jsxs(f.Fragment,{children:[f.jsx(fC,{size:16}),""]}):f.jsxs(f.Fragment,{children:[f.jsx(VE,{size:16}),""]})})})]}),f.jsxs("div",{className:`grid ${i?"grid-cols-2":"grid-cols-1"} gap-4`,children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Markdown "}),f.jsx("textarea",{ref:r,value:e,onChange:u=>t(u.target.value),placeholder:`# \r
\r
...\r
\r
**** **\r
\r
-  1\r
-  2\r
\r
> \r
\r
\`\`\r
\r
[](https://example.com)`,className:"w-full h-96 px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm resize-none"}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"  Markdown "})]}),i&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),f.jsx("div",{className:"w-full h-96 px-4 py-3 border border-slate-300 rounded-lg bg-white overflow-y-auto",children:f.jsx("div",{className:"prose prose-slate max-w-none prose-headings:mt-4 prose-headings:mb-2 prose-p:my-2 prose-ul:my-2 prose-ol:my-2 prose-li:my-1 prose-blockquote:my-3 prose-pre:my-3",children:f.jsx(R_,{remarkPlugins:[nT],rehypePlugins:[xP],components:{h1:({node:u,...l})=>f.jsx("h1",{className:"text-2xl font-bold text-slate-800 border-b pb-2 mb-4",...l}),h2:({node:u,...l})=>f.jsx("h2",{className:"text-xl font-bold text-slate-700 mt-6 mb-3",...l}),h3:({node:u,...l})=>f.jsx("h3",{className:"text-lg font-semibold text-slate-700 mt-4 mb-2",...l}),p:({node:u,...l})=>f.jsx("p",{className:"text-slate-600 leading-relaxed my-3",...l}),ul:({node:u,...l})=>f.jsx("ul",{className:"list-disc pl-6 my-3 space-y-1",...l}),ol:({node:u,...l})=>f.jsx("ol",{className:"list-decimal pl-6 my-3 space-y-1",...l}),li:({node:u,children:l,...h})=>{var p,m,g,x;return((m=(p=u==null?void 0:u.children)==null?void 0:p[0])==null?void 0:m.type)==="element"&&((x=(g=u==null?void 0:u.children)==null?void 0:g[0])==null?void 0:x.tagName)==="input"?f.jsx("li",{className:"list-none flex items-start gap-2",...h,children:l}):f.jsx("li",{className:"text-slate-600",...h,children:l})},blockquote:({node:u,...l})=>f.jsx("blockquote",{className:"border-l-4 border-blue-400 pl-4 py-2 my-4 bg-blue-50 rounded-r-lg italic text-slate-600",...l}),code:({node:u,inline:l,className:h,children:d,...p})=>l?f.jsx("code",{className:"bg-slate-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono",...p,children:d}):f.jsx("pre",{className:"bg-slate-800 text-slate-100 p-4 rounded-lg overflow-x-auto my-4",children:f.jsx("code",{className:h,...p,children:d})}),a:({node:u,...l})=>f.jsx("a",{className:"text-blue-500 hover:text-blue-700 underline",target:"_blank",rel:"noopener noreferrer",...l}),table:({node:u,...l})=>f.jsx("div",{className:"overflow-x-auto my-4",children:f.jsx("table",{className:"min-w-full border-collapse border border-slate-300",...l})}),th:({node:u,...l})=>f.jsx("th",{className:"border border-slate-300 bg-slate-100 px-4 py-2 text-left font-semibold",...l}),td:({node:u,...l})=>f.jsx("td",{className:"border border-slate-300 px-4 py-2",...l}),hr:({node:u,...l})=>f.jsx("hr",{className:"my-6 border-slate-300",...l}),img:({node:u,...l})=>f.jsx("img",{className:"max-w-full h-auto rounded-lg my-4 shadow-md",...l}),input:({node:u,...l})=>l.type==="checkbox"?f.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-500 focus:ring-blue-500 mt-1",disabled:!0,...l}):f.jsx("input",{...l})},children:e||"**"})})})]})]})]})}const CP=[{id:"study",name:"",emoji:"",color:"blue"},{id:"life",name:"",emoji:"",color:"green"},{id:"essay",name:"",emoji:"",color:"purple"},{id:"tech",name:"",emoji:"",color:"cyan"},{id:"thought",name:"",emoji:"",color:"amber"}],hn={blue:{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-300",hover:"hover:bg-blue-50"},green:{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",hover:"hover:bg-green-50"},purple:{bg:"bg-purple-100",text:"text-purple-700",border:"border-purple-300",hover:"hover:bg-purple-50"},cyan:{bg:"bg-cyan-100",text:"text-cyan-700",border:"border-cyan-300",hover:"hover:bg-cyan-50"},amber:{bg:"bg-amber-100",text:"text-amber-700",border:"border-amber-300",hover:"hover:bg-amber-50"},red:{bg:"bg-red-100",text:"text-red-700",border:"border-red-300",hover:"hover:bg-red-50"},pink:{bg:"bg-pink-100",text:"text-pink-700",border:"border-pink-300",hover:"hover:bg-pink-50"},indigo:{bg:"bg-indigo-100",text:"text-indigo-700",border:"border-indigo-300",hover:"hover:bg-indigo-50"},teal:{bg:"bg-teal-100",text:"text-teal-700",border:"border-teal-300",hover:"hover:bg-teal-50"},orange:{bg:"bg-orange-100",text:"text-orange-700",border:"border-orange-300",hover:"hover:bg-orange-50"}},SP=Object.keys(hn);function NP(){const[e,t]=$.useState(()=>{const M=localStorage.getItem("w3_journal");return M?JSON.parse(M):[]}),[n,r]=$.useState(()=>{const M=localStorage.getItem("w3_journal_categories");return M?JSON.parse(M):CP}),[i,s]=$.useState(!1),[a,o]=$.useState(null),[u,l]=$.useState({title:"",category:"",content:""}),[h,d]=$.useState(""),[p,m]=$.useState("list"),[g,x]=$.useState(null),[I,E]=$.useState(null),[T,_]=$.useState("all"),[k,O]=$.useState(!1),[v,D]=$.useState(""),[B,G]=$.useState(""),[A,P]=$.useState("blue");$.useEffect(()=>{localStorage.setItem("w3_journal",JSON.stringify(e))},[e]),$.useEffect(()=>{localStorage.setItem("w3_journal_categories",JSON.stringify(n))},[n]);const Y=()=>{if(!v.trim()){alert("");return}if(n.find(q=>q.name===v.trim())){alert("");return}const M={id:Date.now().toString(),name:v.trim(),emoji:B,color:A};r(q=>[...q,M]),D(""),G(""),P("blue")},Z=M=>{const q=n.find(je=>je.id===M);if(!q)return;const ee=e.filter(je=>je.category===q.name);if(ee.length>0){if(!confirm(` ${ee.length} ""`))return;t(je=>je.map(_t=>_t.category===q.name?{..._t,category:""}:_t))}r(je=>je.filter(_t=>_t.id!==M)),T===q.name&&_("all")},de=M=>{const q=n.find(ee=>ee.name===M);return q&&hn[q.color]?hn[q.color]:hn.blue},ne=M=>{const q=n.find(ee=>ee.name===M);return(q==null?void 0:q.emoji)||""},Te=()=>{s(!0),o(null),l({title:"",category:"",content:""})},Oe=()=>{if(!u.title.trim()||!u.content.trim()){alert("");return}if(a)t(M=>M.map(q=>q.id===a?{...u,id:a,date:q.date}:q));else{const M={...u,id:Date.now(),date:new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})};t(q=>[M,...q])}s(!1),o(null),m("list")},W=M=>{s(!0),o(M.id),l(M)},K=M=>{confirm("")&&t(q=>q.filter(ee=>ee.id!==M))},C=()=>{s(!1),o(null)},he=M=>{x(M)},Ee=M=>{E(M)},N=e.filter(M=>{const q=M.title.toLowerCase().includes(h.toLowerCase()),ee=T==="all"||M.category===T;return q&&ee}),Be=()=>f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-lg max-h-[80vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[f.jsx(Tp,{size:24}),""]}),f.jsx("button",{onClick:()=>O(!1),className:"text-slate-500 hover:text-slate-700 p-1",children:f.jsx(yp,{size:24})})]}),f.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 mb-6",children:[f.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:""}),f.jsxs("div",{className:"flex gap-2 items-end flex-wrap",children:[f.jsxs("div",{className:"flex-1 min-w-[120px]",children:[f.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:""}),f.jsx("input",{type:"text",value:v,onChange:M=>D(M.target.value),placeholder:"",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{className:"w-20",children:[f.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:""}),f.jsx("input",{type:"text",value:B,onChange:M=>G(M.target.value),placeholder:"",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{className:"w-28",children:[f.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:""}),f.jsx("select",{value:A,onChange:M=>P(M.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:SP.map(M=>f.jsx("option",{value:M,children:M},M))})]}),f.jsxs("button",{onClick:Y,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-1",children:[f.jsx(gp,{size:18}),""]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:""}),n.map(M=>{const q=hn[M.color]||hn.blue,ee=e.filter(je=>je.category===M.name).length;return f.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${q.border} ${q.bg}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:M.emoji}),f.jsx("span",{className:`font-medium ${q.text}`,children:M.name}),f.jsxs("span",{className:"text-xs text-slate-500",children:["(",ee," )"]})]}),f.jsx("button",{onClick:()=>Z(M.id),className:"text-red-500 hover:bg-red-100 p-2 rounded-lg transition-colors",title:"",children:f.jsx(yp,{size:18})})]},M.id)})]})]})}),wt=()=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-4 h-fit sticky top-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[f.jsx(mC,{size:20}),""]}),f.jsx("button",{onClick:()=>O(!0),className:"text-slate-500 hover:text-blue-500 p-1 rounded transition-colors",title:"",children:f.jsx(Tp,{size:18})})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("button",{onClick:()=>_("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-colors flex items-center justify-between ${T==="all"?"bg-blue-500 text-white":"hover:bg-slate-100 text-slate-700"}`,children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{children:""}),f.jsx("span",{children:""})]}),f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T==="all"?"bg-white/20":"bg-slate-200"}`,children:e.length})]}),n.map(M=>{const q=e.filter(_t=>_t.category===M.name).length,ee=hn[M.color]||hn.blue,je=T===M.name;return f.jsxs("button",{onClick:()=>_(M.name),className:`w-full text-left px-3 py-2 rounded-lg transition-colors flex items-center justify-between ${je?`${ee.bg} ${ee.text} font-medium`:"hover:bg-slate-100 text-slate-700"}`,children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{children:M.emoji}),f.jsx("span",{children:M.name})]}),f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${je?"bg-white/50":"bg-slate-200"}`,children:q})]},M.id)})]})]});return i?f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a?" ":" "}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:Oe,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:""}),f.jsx("button",{onClick:C,className:"bg-slate-200 text-slate-700 px-6 py-2 rounded-lg hover:bg-slate-300 transition-colors",children:""})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),f.jsx("input",{type:"text",value:u.title,onChange:M=>l(q=>({...q,title:M.target.value})),placeholder:"...",className:"w-full text-2xl font-bold px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.map(M=>{const q=hn[M.color]||hn.blue,ee=u.category===M.name;return f.jsxs("button",{type:"button",onClick:()=>l(je=>({...je,category:M.name})),className:`px-4 py-2 rounded-lg border transition-all flex items-center gap-2 ${ee?`${q.bg} ${q.text} ${q.border} ring-2 ring-offset-1 ring-${M.color}-400`:"border-slate-300 text-slate-600 hover:border-slate-400"}`,children:[f.jsx("span",{children:M.emoji}),f.jsx("span",{children:M.name})]},M.id)}),f.jsxs("button",{type:"button",onClick:()=>O(!0),className:"px-4 py-2 rounded-lg border border-dashed border-slate-300 text-slate-500 hover:border-blue-400 hover:text-blue-500 transition-colors flex items-center gap-2",children:[f.jsx(gp,{size:16}),f.jsx("span",{children:""})]})]})]}),f.jsx(bP,{value:u.content,onChange:M=>l(q=>({...q,content:M})),showPreview:!0})]})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"flex-1 mr-4",children:f.jsx("input",{type:"text",value:h,onChange:M=>d(M.target.value),placeholder:" ...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),f.jsxs("button",{onClick:Te,className:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",children:"+"}),f.jsx("span",{children:""})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>m("list"),className:`px-4 py-2 rounded-lg transition-colors ${p==="list"?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:""}),f.jsx("button",{onClick:()=>m("archive"),className:`px-4 py-2 rounded-lg transition-colors ${p==="archive"?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:""}),f.jsxs("button",{onClick:()=>m("plaza"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${p==="plaza"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[f.jsx(js,{size:18}),""]}),f.jsx("span",{className:"text-slate-600 text-sm ml-auto",children:T==="all"?` ${e.length} `:`${T}: ${N.length} / ${e.length} `})]})]}),k&&f.jsx(Be,{}),p==="archive"&&f.jsx(yA,{articles:e,onSelectArticle:W}),p==="plaza"&&f.jsx(lO,{onViewDiary:Ee}),p==="list"&&f.jsxs("div",{className:"flex gap-6",children:[f.jsx("div",{className:"w-56 flex-shrink-0",children:f.jsx(wt,{})}),f.jsx("div",{className:"flex-1 space-y-4",children:N.length===0?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-slate-200 text-center",children:[f.jsx("p",{className:"text-slate-400 text-lg mb-4",children:T==="all"?" ":` "${T}" `}),f.jsx("button",{onClick:Te,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:""})]}):N.map(M=>{const q=de(M.category);return f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200 hover:shadow-xl transition-all",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:M.title}),f.jsxs("div",{className:"flex items-center gap-3 text-sm mb-3",children:[f.jsxs("span",{className:`px-2 py-1 rounded-lg ${q.bg} ${q.text} flex items-center gap-1`,children:[f.jsx("span",{children:ne(M.category)}),f.jsx("span",{children:M.category})]}),f.jsx("span",{className:"text-slate-500",children:M.date})]}),f.jsxs("div",{className:"prose prose-sm max-w-none text-slate-600 line-clamp-3",children:[f.jsx(R_,{remarkPlugins:[nT],components:{h1:({children:ee})=>f.jsxs("span",{className:"font-bold",children:[ee," "]}),h2:({children:ee})=>f.jsxs("span",{className:"font-bold",children:[ee," "]}),h3:({children:ee})=>f.jsxs("span",{className:"font-semibold",children:[ee," "]}),p:({children:ee})=>f.jsxs("span",{children:[ee," "]}),ul:({children:ee})=>f.jsx("span",{children:ee}),ol:({children:ee})=>f.jsx("span",{children:ee}),li:({children:ee})=>f.jsxs("span",{children:[" ",ee," "]}),code:({children:ee})=>f.jsx("code",{className:"bg-slate-100 px-1 rounded",children:ee}),strong:({children:ee})=>f.jsx("strong",{children:ee}),em:({children:ee})=>f.jsx("em",{children:ee})},children:M.content.substring(0,200)}),M.content.length>200&&f.jsx("span",{className:"text-slate-400",children:"..."})]})]}),f.jsxs("div",{className:"flex gap-2 ml-4",children:[f.jsxs("button",{onClick:()=>he(M),className:"text-green-500 hover:bg-green-50 rounded-lg px-4 py-2 text-sm transition-colors flex items-center gap-1",title:"",children:[f.jsx($E,{size:16}),""]}),f.jsx("button",{onClick:()=>W(M),className:"text-blue-500 hover:bg-blue-50 rounded-lg px-4 py-2 text-sm transition-colors",children:""}),f.jsx("button",{onClick:()=>K(M.id),className:"text-red-500 hover:bg-red-50 rounded-lg px-4 py-2 text-sm transition-colors",children:""})]})]})},M.id)})})]}),g&&f.jsx(cg,{article:g,onClose:()=>x(null)}),I&&f.jsx(cg,{sharedId:I,onClose:()=>E(null)})]})}function vP(){const[e,t]=$.useState(""),n=()=>{try{const o=localStorage.getItem("w3_warroom"),u=localStorage.getItem("w3_journal"),l={version:"1.0",exportDate:new Date().toISOString(),warroom:o?JSON.parse(o):null,journal:u?JSON.parse(u):[]},h=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),d=URL.createObjectURL(h),p=document.createElement("a");p.href=d,p.download=`w3_backup_${Date.now()}.json`,p.click(),t(" JSON "),setTimeout(()=>t(""),3e3)}catch(o){t(" "+o.message)}},r=()=>{try{const o=localStorage.getItem("w3_warroom"),u=localStorage.getItem("w3_journal");let l=`# W 

`;if(l+=`${new Date().toLocaleString("zh-CN")}

`,o){const m=JSON.parse(o);l+=`##   - ${m.title}

`,l+=`### 

`,m.goals.forEach(g=>{l+=`- ${g}
`}),l+=`
### 

`,m.tasks.forEach(g=>{l+=`- [${g.done?"x":" "}] ${g.title} (: ${g.effort}/10)
`}),l+=`
`}if(u){const m=JSON.parse(u);l+=`##   ( ${m.length} )

`,m.forEach(g=>{l+=`### ${g.title}

`,l+=`****: ${g.category} | ****: ${g.date}

`,l+=`${g.content}

---

`})}const h=new Blob([l],{type:"text/markdown"}),d=URL.createObjectURL(h),p=document.createElement("a");p.href=d,p.download=`w3_export_${Date.now()}.md`,p.click(),t(" Markdown "),setTimeout(()=>t(""),3e3)}catch(o){t(" "+o.message)}},i=o=>{const u=o.target.files[0];if(!u)return;const l=new FileReader;l.onload=h=>{try{const d=JSON.parse(h.target.result);d.warroom&&localStorage.setItem("w3_warroom",JSON.stringify(d.warroom)),d.journal&&localStorage.setItem("w3_journal",JSON.stringify(d.journal)),t(" "),setTimeout(()=>window.location.reload(),2e3)}catch{t(" ")}},l.readAsText(u)},s=()=>{confirm(" ")&&(localStorage.removeItem("w3_warroom"),localStorage.removeItem("w3_journal"),t(" "),setTimeout(()=>window.location.reload(),1500))},a=()=>{const o=localStorage.getItem("w3_warroom")||"",u=localStorage.getItem("w3_journal")||"";return(new Blob([o,u]).size/1024).toFixed(2)+" KB"};return f.jsxs("div",{className:"space-y-6",children:[e&&f.jsx("div",{className:`bg-white rounded-2xl shadow-lg p-4 border-l-4 ${e.includes("")?"border-green-500":"border-red-500"}`,children:f.jsx("p",{className:"text-slate-800 font-medium",children:e})}),f.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 rounded-2xl shadow-lg p-6 text-white",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white/10 rounded-lg p-4 backdrop-blur-sm",children:[f.jsx("p",{className:"text-white/80 text-sm",children:""}),f.jsx("p",{className:"text-2xl font-bold",children:a()})]}),f.jsxs("div",{className:"bg-white/10 rounded-lg p-4 backdrop-blur-sm",children:[f.jsx("p",{className:"text-white/80 text-sm",children:""}),f.jsx("p",{className:"text-lg font-bold",children:""})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:" "}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ig,{icon:"",title:" JSON",description:"",onClick:n,buttonText:" JSON",buttonColor:"blue"}),f.jsx(Ig,{icon:"",title:" Markdown",description:"",onClick:r,buttonText:" MD",buttonColor:"green"})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-slate-200",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:" "}),f.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border-2 border-dashed border-slate-300",children:f.jsxs("label",{className:"flex flex-col items-center cursor-pointer",children:[f.jsx("span",{className:"text-4xl mb-2",children:""}),f.jsx("span",{className:"text-slate-600 mb-2",children:" JSON "}),f.jsx("input",{type:"file",accept:".json",onChange:i,className:"hidden"}),f.jsx("span",{className:"text-sm text-slate-400",children:" W  JSON "})]})})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-red-200",children:[f.jsx("h3",{className:"text-xl font-bold text-red-600 mb-4",children:" "}),f.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[f.jsx("p",{className:"text-slate-700 mb-4",children:""}),f.jsx("button",{onClick:s,className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition-colors",children:""})]})]})]})}function Ig({icon:e,title:t,description:n,onClick:r,buttonText:i,buttonColor:s}){const a={blue:"bg-blue-500 hover:bg-blue-600",green:"bg-green-500 hover:bg-green-600",purple:"bg-purple-500 hover:bg-purple-600"};return f.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[f.jsx("div",{className:"text-3xl mb-2",children:e}),f.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-1",children:t}),f.jsx("p",{className:"text-sm text-slate-600 mb-4",children:n}),f.jsx("button",{onClick:r,className:`w-full ${a[s]} text-white py-2 rounded-lg transition-colors`,children:i})]})}function kP(){const[e,t]=$.useState("dashboard"),n={dashboard:f.jsx(DC,{onNavigate:t}),warroom:f.jsx(LC,{}),journal:f.jsx(NP,{}),export:f.jsx(vP,{})};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[f.jsx("nav",{className:"bg-white shadow-sm border-b border-slate-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"W System"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(bo,{icon:f.jsx(EC,{size:18}),label:"",active:e==="dashboard",onClick:()=>t("dashboard")}),f.jsx(bo,{icon:f.jsx(kC,{size:18}),label:"",active:e==="warroom",onClick:()=>t("warroom")}),f.jsx(bo,{icon:f.jsx(uC,{size:18}),label:"",active:e==="journal",onClick:()=>t("journal")}),f.jsx(bo,{icon:f.jsx(hC,{size:18}),label:"",active:e==="export",onClick:()=>t("export")})]})]})})}),f.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:n[e]})]})}function bo({icon:e,label:t,active:n,onClick:r}){return f.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${n?"bg-blue-500 text-white shadow-lg":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[e,f.jsx("span",{className:"font-medium",children:t})]})}window.storage={set:function(e,t,n=!1){return new Promise(r=>{try{const i=`w3_${e}`;localStorage.setItem(i,t),console.log(":",i),r()}catch(i){console.error(":",i),r()}})},get:function(e,t=!1){return new Promise(n=>{try{const r=`w3_${e}`,i=localStorage.getItem(r);i?(console.log(":",r),n({value:i})):(console.log(":",r),n(null))}catch(r){console.error(":",r),n(null)}})},remove:function(e,t=!1){return new Promise(n=>{try{const r=`w3_${e}`;localStorage.removeItem(r),n()}catch(r){console.error(":",r),n()}})}};Nc.createRoot(document.getElementById("root")).render(f.jsx(jg.StrictMode,{children:f.jsx(kP,{})}));
